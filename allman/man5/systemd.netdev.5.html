<link rel='stylesheet' href='../style.css'>
<script src='../script.js'></script>
<h1>NAME</h1>
<p>systemd.netdev - Virtual Network Device configuration</p>
<h1>SYNOPSIS</h1>
<p><em>netdev</em>.netdev</p>
<h1>DESCRIPTION</h1>
<p>A plain ini-style text file that encodes configuration about a
virtual network device, used by <strong>systemd-networkd</strong>(8).
See <strong>systemd.syntax</strong>(7) for a general description of the
syntax.</p>
<p>The main Virtual Network Device file must have the extension .netdev;
other extensions are ignored. Virtual network devices are created as
soon as networkd is started. If a netdev with the specified name already
exists, networkd will use that as-is rather than create its own. Note
that the settings of the pre-existing netdev will not be changed by
networkd.</p>
<p>The .netdev files are read from the files located in the system
network directory /lib/systemd/network and
/usr/local/lib/systemd/network, the volatile runtime network directory
/run/systemd/network and the local administration network directory
/etc/systemd/network. All configuration files are collectively sorted
and processed in alphanumeric order, regardless of the directories in
which they live. However, files with identical filenames replace each
other. It is recommended that each filename is prefixed with a number
(e.g. 10-vlan.netdev). Otherwise, .netdev files generated by
<strong>systemd-network-generator.service</strong>(8) may take
precedence over user configured files. Files in /etc/ have the highest
priority, files in /run/ take precedence over files with the same name
in /lib/. This can be used to override a system-supplied configuration
file with a local file if needed. As a special case, an empty file (file
size 0) or symlink with the same name pointing to /dev/null disables the
configuration file entirely (it is "masked").</p>
<p>Along with the netdev file foo.netdev, a "drop-in" directory
foo.netdev.d/ may exist. All files with the suffix ".conf" from this
directory will be merged in the alphanumeric order and parsed after the
main file itself has been parsed. This is useful to alter or add
configuration settings, without having to modify the main configuration
file. Each drop-in file must have appropriate section headers.</p>
<p>In addition to /etc/systemd/network, drop-in ".d" directories can be
placed in /lib/systemd/network or /run/systemd/network directories.
Drop-in files in /etc/ take precedence over those in /run/ which in turn
take precedence over those in /lib/. Drop-in files under any of these
directories take precedence over the main netdev file wherever located.
(Of course, since /run/ is temporary and /usr/lib/ is for vendors, it is
unlikely drop-ins should be used in either of those places.)</p>
<h1>SUPPORTED NETDEV KINDS</h1>
<p>The following kinds of virtual network devices may be configured in
.netdev files:</p>
<p><br />
<strong>Table 1. Supported kinds of virtual network devices</strong></p>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;">Kind</td>
<td style="text-align: left;">Description</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>bond</em></td>
<td style="text-align: left;">A bond device is an aggregation of all its
slave devices. See <strong>Linux Ethernet Bonding Driver
HOWTO</strong>[1] for details.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><em>bridge</em></td>
<td style="text-align: left;">A bridge device is a software switch, and
each of its slave devices and the bridge itself are ports of the
switch.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>dummy</em></td>
<td style="text-align: left;">A dummy device drops all packets sent to
it.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><em>gre</em></td>
<td style="text-align: left;">A Level 3 GRE tunnel over IPv4. See
<strong>RFC 2784</strong>[2] for details. Name "gre0" should not be
used, as the kernel creates a device with this name when the
corresponding kernel module is loaded.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>gretap</em></td>
<td style="text-align: left;">A Level 2 GRE tunnel over IPv4. Name
"gretap0" should not be used, as the kernel creates a device with this
name when the corresponding kernel module is loaded.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><em>erspan</em></td>
<td style="text-align: left;">ERSPAN mirrors traffic on one or more
source ports and delivers the mirrored traffic to one or more
destination ports on another switch. The traffic is encapsulated in
generic routing encapsulation (GRE) and is therefore routable across a
layer 3 network between the source switch and the destination switch.
Name "erspan0" should not be used, as the kernel creates a device with
this name when the corresponding kernel module is loaded.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>ip6gre</em></td>
<td style="text-align: left;">A Level 3 GRE tunnel over IPv6.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><em>ip6tnl</em></td>
<td style="text-align: left;">An IPv4 or IPv6 tunnel over IPv6</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>ip6gretap</em></td>
<td style="text-align: left;">A Level 2 GRE tunnel over IPv6.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><em>ipip</em></td>
<td style="text-align: left;">An IPv4 over IPv4 tunnel.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>ipvlan</em></td>
<td style="text-align: left;">An IPVLAN device is a stacked device which
receives packets from its underlying device based on IP address
filtering.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><em>ipvtap</em></td>
<td style="text-align: left;">An IPVTAP device is a stacked device which
receives packets from its underlying device based on IP address
filtering and can be accessed using the tap user space interface.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>macvlan</em></td>
<td style="text-align: left;">A macvlan device is a stacked device which
receives packets from its underlying device based on MAC address
filtering.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><em>macvtap</em></td>
<td style="text-align: left;">A macvtap device is a stacked device which
receives packets from its underlying device based on MAC address
filtering.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>sit</em></td>
<td style="text-align: left;">An IPv6 over IPv4 tunnel.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><em>tap</em></td>
<td style="text-align: left;">A persistent Level 2 tunnel between a
network device and a device node.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>tun</em></td>
<td style="text-align: left;">A persistent Level 3 tunnel between a
network device and a device node.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><em>veth</em></td>
<td style="text-align: left;">An Ethernet tunnel between a pair of
network devices.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>vlan</em></td>
<td style="text-align: left;">A VLAN is a stacked device which receives
packets from its underlying device based on VLAN tagging. See
<strong>IEEE 802.1Q</strong>[3] for details.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><em>vti</em></td>
<td style="text-align: left;">An IPv4 over IPSec tunnel.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>vti6</em></td>
<td style="text-align: left;">An IPv6 over IPSec tunnel.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><em>vxlan</em></td>
<td style="text-align: left;">A virtual extensible LAN (vxlan), for
connecting Cloud computing deployments.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>geneve</em></td>
<td style="text-align: left;">A GEneric NEtwork Virtualization
Encapsulation (GENEVE) netdev driver.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><em>l2tp</em></td>
<td style="text-align: left;">A Layer 2 Tunneling Protocol (L2TP) is a
tunneling protocol used to support virtual private networks (VPNs) or as
part of the delivery of services by ISPs. It does not provide any
encryption or confidentiality by itself</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>macsec</em></td>
<td style="text-align: left;">Media Access Control Security (MACsec) is
an 802.1AE IEEE industry-standard security technology that provides
secure communication for all traffic on Ethernet links. MACsec provides
point-to-point security on Ethernet links between directly connected
nodes and is capable of identifying and preventing most security
threats.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><em>vrf</em></td>
<td style="text-align: left;">A Virtual Routing and Forwarding
(<strong>VRF</strong>[4]) interface to create separate routing and
forwarding domains.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>vcan</em></td>
<td style="text-align: left;">The virtual CAN driver (vcan). Similar to
the network loopback devices, vcan offers a virtual local CAN
interface.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><em>vxcan</em></td>
<td style="text-align: left;">The virtual CAN tunnel driver (vxcan).
Similar to the virtual ethernet driver veth, vxcan implements a local
CAN traffic tunnel between two virtual CAN network devices. When
creating a vxcan, two vxcan devices are created as pair. When one end
receives the packet it appears on its pair and vice versa. The vxcan can
be used for cross namespace communication.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>wireguard</em></td>
<td style="text-align: left;">WireGuard Secure Network Tunnel.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><em>nlmon</em></td>
<td style="text-align: left;">A Netlink monitor device. Use an nlmon
device when you want to monitor system Netlink messages.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>fou</em></td>
<td style="text-align: left;">Foo-over-UDP tunneling.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><em>xfrm</em></td>
<td style="text-align: left;">A virtual tunnel interface like vti/vti6
but with several advantages.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>ifb</em></td>
<td style="text-align: left;">The Intermediate Functional Block (ifb)
pseudo network interface acts as a QoS concentrator for multiple
different sources of traffic.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><em>bareudp</em></td>
<td style="text-align: left;">Bare UDP tunnels provide a generic L3
encapsulation support for tunnelling different L3 protocols like MPLS,
IP etc. inside of an UDP tunnel.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>batadv</em></td>
<td style="text-align: left;"><strong>B.A.T.M.A.N. Advanced</strong>[5]
is a routing protocol for multi-hop mobile ad-hoc networks which
operates on layer 2.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><em>ipoib</em></td>
<td style="text-align: left;">An IP over Infiniband subinterface.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>wlan</em></td>
<td style="text-align: left;">A virtual wireless network (WLAN)
interface.</td>
</tr>
</tbody>
</table>
<h1>[MATCH] SECTION OPTIONS</h1>
<p>A virtual network device is only created if the [Match] section
matches the current environment, or if the section is empty. The
following keys are accepted:</p>
<p><em>Host=</em></p>
<blockquote>
<p>Matches against the hostname or machine ID of the host. See
<em>ConditionHost=</em> in <strong>systemd.unit</strong>(5) for details.
When prefixed with an exclamation mark ("!"), the result is negated. If
an empty string is assigned, the previously assigned value is
cleared.</p>
</blockquote>
<p><em>Virtualization=</em></p>
<blockquote>
<p>Checks whether the system is executed in a virtualized environment
and optionally test whether it is a specific implementation. See
<em>ConditionVirtualization=</em> in <strong>systemd.unit</strong>(5)
for details. When prefixed with an exclamation mark ("!"), the result is
negated. If an empty string is assigned, the previously assigned value
is cleared.</p>
</blockquote>
<p><em>KernelCommandLine=</em></p>
<blockquote>
<p>Checks whether a specific kernel command line option is set. See
<em>ConditionKernelCommandLine=</em> in <strong>systemd.unit</strong>(5)
for details. When prefixed with an exclamation mark ("!"), the result is
negated. If an empty string is assigned, the previously assigned value
is cleared.</p>
</blockquote>
<p><em>KernelVersion=</em></p>
<blockquote>
<p>Checks whether the kernel version (as reported by <strong>uname
-r</strong>) matches a certain expression. See
<em>ConditionKernelVersion=</em> in <strong>systemd.unit</strong>(5) for
details. When prefixed with an exclamation mark ("!"), the result is
negated. If an empty string is assigned, the previously assigned value
is cleared.</p>
</blockquote>
<p><em>Credential=</em></p>
<blockquote>
<p>Checks whether the specified credential was passed to the
systemd-networkd.service service. See <strong>System and Service
Credentials</strong>[6] for details. When prefixed with an exclamation
mark ("!"), the result is negated. If an empty string is assigned, the
previously assigned value is cleared.</p>
</blockquote>
<p><em>Architecture=</em></p>
<blockquote>
<p>Checks whether the system is running on a specific architecture. See
<em>ConditionArchitecture=</em> in <strong>systemd.unit</strong>(5) for
details. When prefixed with an exclamation mark ("!"), the result is
negated. If an empty string is assigned, the previously assigned value
is cleared.</p>
</blockquote>
<p><em>Firmware=</em></p>
<blockquote>
<p>Checks whether the system is running on a machine with the specified
firmware. See <em>ConditionFirmware=</em> in
<strong>systemd.unit</strong>(5) for details. When prefixed with an
exclamation mark ("!"), the result is negated. If an empty string is
assigned, the previously assigned value is cleared.</p>
</blockquote>
<h1>[NETDEV] SECTION OPTIONS</h1>
<p>The [NetDev] section accepts the following keys:</p>
<p><em>Description=</em></p>
<blockquote>
<p>A free-form description of the netdev.</p>
</blockquote>
<p><em>Name=</em></p>
<blockquote>
<p>The interface name used when creating the netdev. This setting is
compulsory.</p>
</blockquote>
<p><em>Kind=</em></p>
<blockquote>
<p>The netdev kind. This setting is compulsory. See the "Supported
netdev kinds" section for the valid keys.</p>
</blockquote>
<p><em>MTUBytes=</em></p>
<blockquote>
<p>The maximum transmission unit in bytes to set for the device. The
usual suffixes K, M, G are supported and are understood to the base of
1024. For "tun" or "tap" devices, <em>MTUBytes=</em> setting is not
currently supported in [NetDev] section. Please specify it in [Link]
section of corresponding <strong>systemd.network</strong>(5) files.</p>
</blockquote>
<p><em>MACAddress=</em></p>
<blockquote>
<p>Specifies the MAC address to use for the device, or takes the special
value "none". When "none", <strong>systemd-networkd</strong> does not
request the MAC address for the device, and the kernel will assign a
random MAC address. For "tun", "tap", or "l2tp" devices, the
<em>MACAddress=</em> setting in the [NetDev] section is not supported
and will be ignored. Please specify it in the [Link] section of the
corresponding <strong>systemd.network</strong>(5) file. If this option
is not set, "vlan" device inherits the MAC address of the master
interface. For other kind of netdevs, if this option is not set, then
the MAC address is generated based on the interface name and the
<strong>machine-id</strong>(5).</p>
<p>Note, even if "none" is specified, <strong>systemd-udevd</strong>
will assign the persistent MAC address for the device, as
99-default.link has <em>MACAddressPolicy=persistent</em>. So, it is also
necessary to create a custom .link file for the device, if the MAC
address assignment is not desired.</p>
</blockquote>
<h1>[BRIDGE] SECTION OPTIONS</h1>
<p>The [Bridge] section only applies for netdevs of kind "bridge", and
accepts the following keys:</p>
<p><em>HelloTimeSec=</em></p>
<blockquote>
<p>HelloTimeSec specifies the number of seconds between two hello
packets sent out by the root bridge and the designated bridges. Hello
packets are used to communicate information about the topology
throughout the entire bridged local area network.</p>
</blockquote>
<p><em>MaxAgeSec=</em></p>
<blockquote>
<p>MaxAgeSec specifies the number of seconds of maximum message age. If
the last seen (received) hello packet is more than this number of
seconds old, the bridge in question will start the takeover procedure in
attempt to become the Root Bridge itself.</p>
</blockquote>
<p><em>ForwardDelaySec=</em></p>
<blockquote>
<p>ForwardDelaySec specifies the number of seconds spent in each of the
Listening and Learning states before the Forwarding state is
entered.</p>
</blockquote>
<p><em>AgeingTimeSec=</em></p>
<blockquote>
<p>This specifies the number of seconds a MAC Address will be kept in
the forwarding database after having a packet received from this MAC
Address.</p>
</blockquote>
<p><em>Priority=</em></p>
<blockquote>
<p>The priority of the bridge. An integer between 0 and 65535. A lower
value means higher priority. The bridge having the lowest priority will
be elected as root bridge.</p>
</blockquote>
<p><em>GroupForwardMask=</em></p>
<blockquote>
<p>A 16-bit bitmask represented as an integer which allows forwarding of
link local frames with 802.1D reserved addresses (01:80:C2:00:00:0X). A
logical AND is performed between the specified bitmask and the
exponentiation of 2^X, the lower nibble of the last octet of the MAC
address. For example, a value of 8 would allow forwarding of frames
addressed to 01:80:C2:00:00:03 (802.1X PAE).</p>
</blockquote>
<p><em>DefaultPVID=</em></p>
<blockquote>
<p>This specifies the default port VLAN ID of a newly attached bridge
port. Set this to an integer in the range 1...4094 or "none" to disable
the PVID.</p>
</blockquote>
<p><em>MulticastQuerier=</em></p>
<blockquote>
<p>Takes a boolean. This setting controls the IFLA_BR_MCAST_QUERIER
option in the kernel. If enabled, the kernel will send general ICMP
queries from a zero source address. This feature should allow faster
convergence on startup, but it causes some multicast-aware switches to
misbehave and disrupt forwarding of multicast packets. When unset, the
kernels default will be used.</p>
</blockquote>
<p><em>MulticastSnooping=</em></p>
<blockquote>
<p>Takes a boolean. This setting controls the IFLA_BR_MCAST_SNOOPING
option in the kernel. If enabled, IGMP snooping monitors the Internet
Group Management Protocol (IGMP) traffic between hosts and multicast
routers. When unset, the kernels default will be used.</p>
</blockquote>
<p><em>VLANFiltering=</em></p>
<blockquote>
<p>Takes a boolean. This setting controls the IFLA_BR_VLAN_FILTERING
option in the kernel. If enabled, the bridge will be started in
VLAN-filtering mode. When unset, the kernels default will be used.</p>
</blockquote>
<p><em>VLANProtocol=</em></p>
<blockquote>
<p>Allows setting the protocol used for VLAN filtering. Takes
<strong>802.1q</strong> or, <strong>802.1ad</strong>, and defaults to
unset and kernels default is used.</p>
</blockquote>
<p><em>STP=</em></p>
<blockquote>
<p>Takes a boolean. This enables the bridges Spanning Tree Protocol
(STP). When unset, the kernels default will be used.</p>
</blockquote>
<p><em>MulticastIGMPVersion=</em></p>
<blockquote>
<p>Allows changing bridges multicast Internet Group Management Protocol
(IGMP) version. Takes an integer 2 or 3. When unset, the kernels default
will be used.</p>
</blockquote>
<h1>[VLAN] SECTION OPTIONS</h1>
<p>The [VLAN] section only applies for netdevs of kind "vlan", and
accepts the following key:</p>
<p><em>Id=</em></p>
<blockquote>
<p>The VLAN ID to use. An integer in the range 0...4094. This setting is
compulsory.</p>
</blockquote>
<p><em>Protocol=</em></p>
<blockquote>
<p>Allows setting the protocol used for the VLAN interface. Takes
"802.1q" or, "802.1ad", and defaults to unset and kernels default is
used.</p>
</blockquote>
<p><em>GVRP=</em></p>
<blockquote>
<p>Takes a boolean. The Generic VLAN Registration Protocol (GVRP) is a
protocol that allows automatic learning of VLANs on a network. When
unset, the kernels default will be used.</p>
</blockquote>
<p><em>MVRP=</em></p>
<blockquote>
<p>Takes a boolean. Multiple VLAN Registration Protocol (MVRP) formerly
known as GARP VLAN Registration Protocol (GVRP) is a standards-based
Layer 2 network protocol, for automatic configuration of VLAN
information on switches. It was defined in the 802.1ak amendment to
802.1Q-2005. When unset, the kernels default will be used.</p>
</blockquote>
<p><em>LooseBinding=</em></p>
<blockquote>
<p>Takes a boolean. The VLAN loose binding mode, in which only the
operational state is passed from the parent to the associated VLANs, but
the VLAN device state is not changed. When unset, the kernels default
will be used.</p>
</blockquote>
<p><em>ReorderHeader=</em></p>
<blockquote>
<p>Takes a boolean. When enabled, the VLAN reorder header is used and
VLAN interfaces behave like physical interfaces. When unset, the kernels
default will be used.</p>
</blockquote>
<p><em>EgressQOSMaps=</em>, <em>IngressQOSMaps=</em></p>
<blockquote>
<p>Defines a mapping of Linux internal packet priority
(<strong>SO_PRIORITY</strong>) to VLAN header PCP field for outgoing and
incoming frames, respectively. Takes a whitespace-separated list of
integer pairs, where each integer must be in the range 1...4294967294,
in the format "from"-"to", e.g., "21-7 45-5". Note that "from" must be
greater than or equal to "to". When unset, the kernels default will be
used.</p>
</blockquote>
<h1>[MACVLAN] SECTION OPTIONS</h1>
<p>The [MACVLAN] section only applies for netdevs of kind "macvlan", and
accepts the following key:</p>
<p><em>Mode=</em></p>
<blockquote>
<p>The MACVLAN mode to use. The supported options are "private", "vepa",
"bridge", "passthru", and "source".</p>
</blockquote>
<p><em>SourceMACAddress=</em></p>
<blockquote>
<p>A whitespace-separated list of remote hardware addresses allowed on
the MACVLAN. This option only has an effect in source mode. Use full
colon-, hyphen- or dot-delimited hexadecimal. This option may appear
more than once, in which case the lists are merged. If the empty string
is assigned to this option, the list of hardware addresses defined prior
to this is reset. Defaults to unset.</p>
</blockquote>
<p><em>BroadcastMulticastQueueLength=</em></p>
<blockquote>
<p>Specifies the length of the receive queue for broadcast/multicast
packets. An unsigned integer in the range 0...4294967294. Defaults to
unset.</p>
</blockquote>
<h1>[MACVTAP] SECTION OPTIONS</h1>
<p>The [MACVTAP] section applies for netdevs of kind "macvtap" and
accepts the same keys as [MACVLAN].</p>
<h1>[IPVLAN] SECTION OPTIONS</h1>
<p>The [IPVLAN] section only applies for netdevs of kind "ipvlan", and
accepts the following key:</p>
<p><em>Mode=</em></p>
<blockquote>
<p>The IPVLAN mode to use. The supported options are "L2","L3" and
"L3S".</p>
</blockquote>
<p><em>Flags=</em></p>
<blockquote>
<p>The IPVLAN flags to use. The supported options are "bridge","private"
and "vepa".</p>
</blockquote>
<h1>[IPVTAP] SECTION OPTIONS</h1>
<p>The [IPVTAP] section only applies for netdevs of kind "ipvtap" and
accepts the same keys as [IPVLAN].</p>
<h1>[VXLAN] SECTION OPTIONS</h1>
<p>The [VXLAN] section only applies for netdevs of kind "vxlan", and
accepts the following keys:</p>
<p><em>VNI=</em></p>
<blockquote>
<p>The VXLAN Network Identifier (or VXLAN Segment ID). Takes a number in
the range 1...16777215.</p>
</blockquote>
<p><em>Remote=</em></p>
<blockquote>
<p>Configures destination IP address.</p>
</blockquote>
<p><em>Local=</em></p>
<blockquote>
<p>Configures local IP address. It must be an address on the underlying
interface of the VXLAN interface, or one of the special values
"ipv4_link_local", "ipv6_link_local", "dhcp4", "dhcp6", and "slaac". If
one of the special values is specified, an address which matches the
corresponding type on the underlying interface will be used. Defaults to
unset.</p>
</blockquote>
<p><em>Group=</em></p>
<blockquote>
<p>Configures VXLAN multicast group IP address. All members of a VXLAN
must use the same multicast group address.</p>
</blockquote>
<p><em>TOS=</em></p>
<blockquote>
<p>The Type Of Service byte value for a vxlan interface.</p>
</blockquote>
<p><em>TTL=</em></p>
<blockquote>
<p>A fixed Time To Live N on Virtual eXtensible Local Area Network
packets. Takes "inherit" or a number in the range 0...255. 0 is a
special value meaning inherit the inner protocols TTL value. "inherit"
means that it will inherit the outer protocols TTL value.</p>
</blockquote>
<p><em>MacLearning=</em></p>
<blockquote>
<p>Takes a boolean. When true, enables dynamic MAC learning to discover
remote MAC addresses.</p>
</blockquote>
<p><em>FDBAgeingSec=</em></p>
<blockquote>
<p>The lifetime of Forwarding Database entry learnt by the kernel, in
seconds.</p>
</blockquote>
<p><em>MaximumFDBEntries=</em></p>
<blockquote>
<p>Configures maximum number of FDB entries.</p>
</blockquote>
<p><em>ReduceARPProxy=</em></p>
<blockquote>
<p>Takes a boolean. When true, bridge-connected VXLAN tunnel endpoint
answers ARP requests from the local bridge on behalf of remote
Distributed Overlay Virtual Ethernet <strong>(DOVE)</strong>[7] clients.
Defaults to false.</p>
</blockquote>
<p><em>L2MissNotification=</em></p>
<blockquote>
<p>Takes a boolean. When true, enables netlink LLADDR miss
notifications.</p>
</blockquote>
<p><em>L3MissNotification=</em></p>
<blockquote>
<p>Takes a boolean. When true, enables netlink IP address miss
notifications.</p>
</blockquote>
<p><em>RouteShortCircuit=</em></p>
<blockquote>
<p>Takes a boolean. When true, route short circuiting is turned on.</p>
</blockquote>
<p><em>UDPChecksum=</em></p>
<blockquote>
<p>Takes a boolean. When true, transmitting UDP checksums when doing
VXLAN/IPv4 is turned on.</p>
</blockquote>
<p><em>UDP6ZeroChecksumTx=</em></p>
<blockquote>
<p>Takes a boolean. When true, sending zero checksums in VXLAN/IPv6 is
turned on.</p>
</blockquote>
<p><em>UDP6ZeroChecksumRx=</em></p>
<blockquote>
<p>Takes a boolean. When true, receiving zero checksums in VXLAN/IPv6 is
turned on.</p>
</blockquote>
<p><em>RemoteChecksumTx=</em></p>
<blockquote>
<p>Takes a boolean. When true, remote transmit checksum offload of VXLAN
is turned on.</p>
</blockquote>
<p><em>RemoteChecksumRx=</em></p>
<blockquote>
<p>Takes a boolean. When true, remote receive checksum offload in VXLAN
is turned on.</p>
</blockquote>
<p><em>GroupPolicyExtension=</em></p>
<blockquote>
<p>Takes a boolean. When true, it enables Group Policy VXLAN extension
security label mechanism across network peers based on VXLAN. For
details about the Group Policy VXLAN, see the <strong>VXLAN Group
Policy</strong>[8] document. Defaults to false.</p>
</blockquote>
<p><em>GenericProtocolExtension=</em></p>
<blockquote>
<p>Takes a boolean. When true, Generic Protocol Extension extends the
existing VXLAN protocol to provide protocol typing, OAM, and versioning
capabilities. For details about the VXLAN GPE Header, see the
<strong>Generic Protocol Extension for VXLAN</strong>[9] document. If
destination port is not specified and Generic Protocol Extension is set
then default port of 4790 is used. Defaults to false.</p>
</blockquote>
<p><em>DestinationPort=</em></p>
<blockquote>
<p>Configures the default destination UDP port. If the destination port
is not specified then Linux kernel default will be used. Set to 4789 to
get the IANA assigned value.</p>
</blockquote>
<p><em>PortRange=</em></p>
<blockquote>
<p>Configures the source port range for the VXLAN. The kernel assigns
the source UDP port based on the flow to help the receiver to do load
balancing. When this option is not set, the normal range of local UDP
ports is used.</p>
</blockquote>
<p><em>FlowLabel=</em></p>
<blockquote>
<p>Specifies the flow label to use in outgoing packets. The valid range
is 0-1048575.</p>
</blockquote>
<p><em>IPDoNotFragment=</em></p>
<blockquote>
<p>Allows setting the IPv4 Do not Fragment (DF) bit in outgoing packets,
or to inherit its value from the IPv4 inner header. Takes a boolean
value, or "inherit". Set to "inherit" if the encapsulated protocol is
IPv6. When unset, the kernels default will be used.</p>
</blockquote>
<p><em>Independent=</em></p>
<blockquote>
<p>Takes a boolean. When true, the vxlan interface is created without
any underlying network interface. Defaults to false, which means that a
.network file that requests this VXLAN interface using <em>VXLAN=</em>
is required for the VXLAN to be created.</p>
</blockquote>
<h1>[GENEVE] SECTION OPTIONS</h1>
<p>The [GENEVE] section only applies for netdevs of kind "geneve", and
accepts the following keys:</p>
<p><em>Id=</em></p>
<blockquote>
<p>Specifies the Virtual Network Identifier (VNI) to use, a number
between 0 and 16777215. This field is mandatory.</p>
</blockquote>
<p><em>Remote=</em></p>
<blockquote>
<p>Specifies the unicast destination IP address to use in outgoing
packets.</p>
</blockquote>
<p><em>TOS=</em></p>
<blockquote>
<p>Specifies the TOS value to use in outgoing packets. Takes a number
between 1 and 255.</p>
</blockquote>
<p><em>TTL=</em></p>
<blockquote>
<p>Accepts the same values as in the [VXLAN] section, except that when
unset or set to 0, the kernels default will be used, meaning that packet
TTL will be set from /proc/sys/net/ipv4/ip_default_ttl.</p>
</blockquote>
<p><em>UDPChecksum=</em></p>
<blockquote>
<p>Takes a boolean. When true, specifies that UDP checksum is calculated
for transmitted packets over IPv4.</p>
</blockquote>
<p><em>UDP6ZeroChecksumTx=</em></p>
<blockquote>
<p>Takes a boolean. When true, skip UDP checksum calculation for
transmitted packets over IPv6.</p>
</blockquote>
<p><em>UDP6ZeroChecksumRx=</em></p>
<blockquote>
<p>Takes a boolean. When true, allows incoming UDP packets over IPv6
with zero checksum field.</p>
</blockquote>
<p><em>DestinationPort=</em></p>
<blockquote>
<p>Specifies destination port. Defaults to 6081. If not set or assigned
the empty string, the default port of 6081 is used.</p>
</blockquote>
<p><em>FlowLabel=</em></p>
<blockquote>
<p>Specifies the flow label to use in outgoing packets.</p>
</blockquote>
<p><em>IPDoNotFragment=</em></p>
<blockquote>
<p>Accepts the same key as in [VXLAN] section.</p>
</blockquote>
<h1>[BAREUDP] SECTION OPTIONS</h1>
<p>The [BareUDP] section only applies for netdevs of kind "bareudp", and
accepts the following keys:</p>
<p><em>DestinationPort=</em></p>
<blockquote>
<p>Specifies the destination UDP port (in range 1...65535). This is
mandatory.</p>
</blockquote>
<p><em>EtherType=</em></p>
<blockquote>
<p>Specifies the L3 protocol. Takes one of "ipv4", "ipv6", "mpls-uc" or
"mpls-mc". This is mandatory.</p>
</blockquote>
<h1>[L2TP] SECTION OPTIONS</h1>
<p>The [L2TP] section only applies for netdevs of kind "l2tp", and
accepts the following keys:</p>
<p><em>TunnelId=</em></p>
<blockquote>
<p>Specifies the tunnel identifier. Takes an number in the range
1...4294967295. The value used must match the "PeerTunnelId=" value
being used at the peer. This setting is compulsory.</p>
</blockquote>
<p><em>PeerTunnelId=</em></p>
<blockquote>
<p>Specifies the peer tunnel id. Takes a number in the range
1...4294967295. The value used must match the "TunnelId=" value being
used at the peer. This setting is compulsory.</p>
</blockquote>
<p><em>Remote=</em></p>
<blockquote>
<p>Specifies the IP address of the remote peer. This setting is
compulsory.</p>
</blockquote>
<p><em>Local=</em></p>
<blockquote>
<p>Specifies the IP address of a local interface. Takes an IP address,
or the special values "auto", "static", or "dynamic". Optionally a name
of a local interface can be specified after "@", e.g. "192.168.0.1@eth0"
or "auto@eth0". When an address is specified, then a local or specified
interface must have the address, and the remote address must be
accessible through the local address. If "auto", then one of the
addresses on a local or specified interface which is accessible to the
remote address will be used. Similarly, if "static" or "dynamic" is set,
then one of the static or dynamic addresses will be used. Defaults to
"auto".</p>
</blockquote>
<p><em>EncapsulationType=</em></p>
<blockquote>
<p>Specifies the encapsulation type of the tunnel. Takes one of "udp" or
"ip".</p>
</blockquote>
<p><em>UDPSourcePort=</em></p>
<blockquote>
<p>Specifies the UDP source port to be used for the tunnel. When UDP
encapsulation is selected its mandatory. Ignored when IP encapsulation
is selected.</p>
</blockquote>
<p><em>UDPDestinationPort=</em></p>
<blockquote>
<p>Specifies destination port. When UDP encapsulation is selected its
mandatory. Ignored when IP encapsulation is selected.</p>
</blockquote>
<p><em>UDPChecksum=</em></p>
<blockquote>
<p>Takes a boolean. When true, specifies that UDP checksum is calculated
for transmitted packets over IPv4.</p>
</blockquote>
<p><em>UDP6ZeroChecksumTx=</em></p>
<blockquote>
<p>Takes a boolean. When true, skip UDP checksum calculation for
transmitted packets over IPv6.</p>
</blockquote>
<p><em>UDP6ZeroChecksumRx=</em></p>
<blockquote>
<p>Takes a boolean. When true, allows incoming UDP packets over IPv6
with zero checksum field.</p>
</blockquote>
<h1>[L2TPSESSION] SECTION OPTIONS</h1>
<p>The [L2TPSession] section only applies for netdevs of kind "l2tp",
and accepts the following keys:</p>
<p><em>Name=</em></p>
<blockquote>
<p>Specifies the name of the session. This setting is compulsory.</p>
</blockquote>
<p><em>SessionId=</em></p>
<blockquote>
<p>Specifies the session identifier. Takes an number in the range
1...4294967295. The value used must match the "SessionId=" value being
used at the peer. This setting is compulsory.</p>
</blockquote>
<p><em>PeerSessionId=</em></p>
<blockquote>
<p>Specifies the peer session identifier. Takes an number in the range
1...4294967295. The value used must match the "PeerSessionId=" value
being used at the peer. This setting is compulsory.</p>
</blockquote>
<p><em>Layer2SpecificHeader=</em></p>
<blockquote>
<p>Specifies layer2specific header type of the session. One of "none" or
"default". Defaults to "default".</p>
</blockquote>
<h1>[MACSEC] SECTION OPTIONS</h1>
<p>The [MACsec] section only applies for network devices of kind
"macsec", and accepts the following keys:</p>
<p><em>Port=</em></p>
<blockquote>
<p>Specifies the port to be used for the MACsec transmit channel. The
port is used to make secure channel identifier (SCI). Takes a value
between 1 and 65535. Defaults to unset.</p>
</blockquote>
<p><em>Encrypt=</em></p>
<blockquote>
<p>Takes a boolean. When true, enable encryption. Defaults to unset.</p>
</blockquote>
<h1>[MACSECRECEIVECHANNEL] SECTION OPTIONS</h1>
<p>The [MACsecReceiveChannel] section only applies for network devices
of kind "macsec", and accepts the following keys:</p>
<p><em>Port=</em></p>
<blockquote>
<p>Specifies the port to be used for the MACsec receive channel. The
port is used to make secure channel identifier (SCI). Takes a value
between 1 and 65535. This option is compulsory, and is not set by
default.</p>
</blockquote>
<p><em>MACAddress=</em></p>
<blockquote>
<p>Specifies the MAC address to be used for the MACsec receive channel.
The MAC address used to make secure channel identifier (SCI). This
setting is compulsory, and is not set by default.</p>
</blockquote>
<h1>[MACSECTRANSMITASSOCIATION] SECTION OPTIONS</h1>
<p>The [MACsecTransmitAssociation] section only applies for network
devices of kind "macsec", and accepts the following keys:</p>
<p><em>PacketNumber=</em></p>
<blockquote>
<p>Specifies the packet number to be used for replay protection and the
construction of the initialization vector (along with the secure channel
identifier [SCI]). Takes a value between 1-4,294,967,295. Defaults to
unset.</p>
</blockquote>
<p><em>KeyId=</em></p>
<blockquote>
<p>Specifies the identification for the key. Takes a number between
0-255. This option is compulsory, and is not set by default.</p>
</blockquote>
<p><em>Key=</em></p>
<blockquote>
<p>Specifies the encryption key used in the transmission channel. The
same key must be configured on the peer’s matching receive channel. This
setting is compulsory, and is not set by default. Takes a 128-bit key
encoded in a hexadecimal string, for example
"dffafc8d7b9a43d5b9a3dfbbf6a30c16".</p>
</blockquote>
<p><em>KeyFile=</em></p>
<blockquote>
<p>Takes an absolute path to a file which contains a 128-bit key encoded
in a hexadecimal string, which will be used in the transmission channel.
When this option is specified, <em>Key=</em> is ignored. Note that the
file must be readable by the user "systemd-network", so it should be,
e.g., owned by "root:systemd-network" with a "0640" file mode. If the
path refers to an <strong>AF_UNIX</strong> stream socket in the file
system a connection is made to it and the key read from it.</p>
</blockquote>
<p><em>Activate=</em></p>
<blockquote>
<p>Takes a boolean. If enabled, then the security association is
activated. Defaults to unset.</p>
</blockquote>
<p><em>UseForEncoding=</em></p>
<blockquote>
<p>Takes a boolean. If enabled, then the security association is used
for encoding. Only one [MACsecTransmitAssociation] section can enable
this option. When enabled, <em>Activate=yes</em> is implied. Defaults to
unset.</p>
</blockquote>
<h1>[MACSECRECEIVEASSOCIATION] SECTION OPTIONS</h1>
<p>The [MACsecReceiveAssociation] section only applies for network
devices of kind "macsec", and accepts the following keys:</p>
<p><em>Port=</em></p>
<blockquote>
<p>Accepts the same key as in [MACsecReceiveChannel] section.</p>
</blockquote>
<p><em>MACAddress=</em></p>
<blockquote>
<p>Accepts the same key as in [MACsecReceiveChannel] section.</p>
</blockquote>
<p><em>PacketNumber=</em></p>
<blockquote>
<p>Accepts the same key as in [MACsecTransmitAssociation] section.</p>
</blockquote>
<p><em>KeyId=</em></p>
<blockquote>
<p>Accepts the same key as in [MACsecTransmitAssociation] section.</p>
</blockquote>
<p><em>Key=</em></p>
<blockquote>
<p>Accepts the same key as in [MACsecTransmitAssociation] section.</p>
</blockquote>
<p><em>KeyFile=</em></p>
<blockquote>
<p>Accepts the same key as in [MACsecTransmitAssociation] section.</p>
</blockquote>
<p><em>Activate=</em></p>
<blockquote>
<p>Accepts the same key as in [MACsecTransmitAssociation] section.</p>
</blockquote>
<h1>[TUNNEL] SECTION OPTIONS</h1>
<p>The [Tunnel] section only applies for netdevs of kind "ipip", "sit",
"gre", "gretap", "ip6gre", "ip6gretap", "vti", "vti6", "ip6tnl", and
"erspan" and accepts the following keys:</p>
<p><em>External=</em></p>
<blockquote>
<p>Takes a boolean value. When true, then the tunnel is externally
controlled, which is also known as collect metadata mode, and most
settings below like <em>Local=</em> or <em>Remote=</em> are ignored.
This implies <em>Independent=</em>. Defaults to false.</p>
</blockquote>
<p><em>Local=</em></p>
<blockquote>
<p>A static local address for tunneled packets. It must be an address on
another interface of this host, or one of the special values "any",
"ipv4_link_local", "ipv6_link_local", "dhcp4", "dhcp6", and "slaac". If
one of the special values except for "any" is specified, an address
which matches the corresponding type on the underlying interface will be
used. Defaults to "any".</p>
</blockquote>
<p><em>Remote=</em></p>
<blockquote>
<p>The remote endpoint of the tunnel. Takes an IP address or the special
value "any".</p>
</blockquote>
<p><em>TOS=</em></p>
<blockquote>
<p>The Type Of Service byte value for a tunnel interface. For details
about the TOS, see the <strong>Type of Service in the Internet Protocol
Suite</strong>[10] document.</p>
</blockquote>
<p><em>TTL=</em></p>
<blockquote>
<p>A fixed Time To Live N on tunneled packets. N is a number in the
range 1...255. 0 is a special value meaning that packets inherit the TTL
value. The default value for IPv4 tunnels is 0 (inherit). The default
value for IPv6 tunnels is 64.</p>
</blockquote>
<p><em>DiscoverPathMTU=</em></p>
<blockquote>
<p>Takes a boolean. When true, enables Path MTU Discovery on the
tunnel.</p>
</blockquote>
<p><em>IPv6FlowLabel=</em></p>
<blockquote>
<p>Configures the 20-bit flow label (see <strong>RFC 6437</strong>[11])
field in the IPv6 header (see <strong>RFC 2460</strong>[12]), which is
used by a node to label packets of a flow. It is only used for IPv6
tunnels. A flow label of zero is used to indicate packets that have not
been labeled. It can be configured to a value in the range 0...0xFFFFF,
or be set to "inherit", in which case the original flowlabel is
used.</p>
</blockquote>
<p><em>CopyDSCP=</em></p>
<blockquote>
<p>Takes a boolean. When true, the Differentiated Service Code Point
(DSCP) field will be copied to the inner header from outer header during
the decapsulation of an IPv6 tunnel packet. DSCP is a field in an IP
packet that enables different levels of service to be assigned to
network traffic. Defaults to "no".</p>
</blockquote>
<p><em>EncapsulationLimit=</em></p>
<blockquote>
<p>The Tunnel Encapsulation Limit option specifies how many additional
levels of encapsulation are permitted to be prepended to the packet. For
example, a Tunnel Encapsulation Limit option containing a limit value of
zero means that a packet carrying that option may not enter another
tunnel before exiting the current tunnel. (see <strong>RFC
2473</strong>[13]). The valid range is 0...255 and "none". Defaults to
4.</p>
</blockquote>
<p><em>Key=</em></p>
<blockquote>
<p>The <em>Key=</em> parameter specifies the same key to use in both
directions (<em>InputKey=</em> and <em>OutputKey=</em>). The
<em>Key=</em> is either a number or an IPv4 address-like dotted quad. It
is used as mark-configured SAD/SPD entry as part of the lookup key (both
in data and control path) in IP XFRM (framework used to implement IPsec
protocol). See <strong>ip-xfrm — transform configuration</strong>[14]
for details. It is only used for VTI/VTI6, GRE, GRETAP, and ERSPAN
tunnels.</p>
</blockquote>
<p><em>InputKey=</em></p>
<blockquote>
<p>The <em>InputKey=</em> parameter specifies the key to use for input.
The format is same as <em>Key=</em>. It is only used for VTI/VTI6, GRE,
GRETAP, and ERSPAN tunnels.</p>
</blockquote>
<p><em>OutputKey=</em></p>
<blockquote>
<p>The <em>OutputKey=</em> parameter specifies the key to use for
output. The format is same as <em>Key=</em>. It is only used for
VTI/VTI6, GRE, GRETAP, and ERSPAN tunnels.</p>
</blockquote>
<p><em>Mode=</em></p>
<blockquote>
<p>An "ip6tnl" tunnel can be in one of three modes "ip6ip6" for IPv6
over IPv6, "ipip6" for IPv4 over IPv6 or "any" for either.</p>
</blockquote>
<p><em>Independent=</em></p>
<blockquote>
<p>Takes a boolean. When false (the default), the tunnel is always
created over some network device, and a .network file that requests this
tunnel using <em>Tunnel=</em> is required for the tunnel to be created.
When true, the tunnel is created independently of any network as
"tunnel@NONE".</p>
</blockquote>
<p><em>AssignToLoopback=</em></p>
<blockquote>
<p>Takes a boolean. If set to "yes", the loopback interface "lo" is used
as the underlying device of the tunnel interface. Defaults to "no".</p>
</blockquote>
<p><em>AllowLocalRemote=</em></p>
<blockquote>
<p>Takes a boolean. When true allows tunnel traffic on <em>ip6tnl</em>
devices where the remote endpoint is a local host address. When unset,
the kernels default will be used.</p>
</blockquote>
<p><em>FooOverUDP=</em></p>
<blockquote>
<p>Takes a boolean. Specifies whether <em>FooOverUDP=</em> tunnel is to
be configured. Defaults to false. This takes effects only for IPIP, SIT,
GRE, and GRETAP tunnels. For more detail information see <strong>Foo
over UDP</strong>[15]</p>
</blockquote>
<p><em>FOUDestinationPort=</em></p>
<blockquote>
<p>This setting specifies the UDP destination port for encapsulation.
This field is mandatory when <em>FooOverUDP=yes</em>, and is not set by
default.</p>
</blockquote>
<p><em>FOUSourcePort=</em></p>
<blockquote>
<p>This setting specifies the UDP source port for encapsulation.
Defaults to <strong>0</strong> — that is, the source port for packets is
left to the network stack to decide.</p>
</blockquote>
<p><em>Encapsulation=</em></p>
<blockquote>
<p>Accepts the same key as in the [FooOverUDP] section.</p>
</blockquote>
<p><em>IPv6RapidDeploymentPrefix=</em></p>
<blockquote>
<p>Reconfigure the tunnel for <strong>IPv6 Rapid
Deployment</strong>[16], also known as 6rd. The value is an ISP-specific
IPv6 prefix with a non-zero length. Only applicable to SIT tunnels.</p>
</blockquote>
<p><em>ISATAP=</em></p>
<blockquote>
<p>Takes a boolean. If set, configures the tunnel as Intra-Site
Automatic Tunnel Addressing Protocol (ISATAP) tunnel. Only applicable to
SIT tunnels. When unset, the kernels default will be used.</p>
</blockquote>
<p><em>SerializeTunneledPackets=</em></p>
<blockquote>
<p>Takes a boolean. If set to yes, then packets are serialized. Only
applies for GRE, GRETAP, and ERSPAN tunnels. When unset, the kernels
default will be used.</p>
</blockquote>
<p><em>ERSPANVersion=</em></p>
<blockquote>
<p>Specifies the ERSPAN version number. Takes 0 for version 0 (a.k.a.
type I), 1 for version 1 (a.k.a. type II), or 2 for version 2 (a.k.a.
type III). Defaults to 1.</p>
</blockquote>
<p><em>ERSPANIndex=</em></p>
<blockquote>
<p>Specifies the ERSPAN v1 index field for the interface. Takes an
integer in the range 0...1048575, which is associated with the ERSPAN
traffics source port and direction. Only used when
<em>ERSPANVersion=1</em>. Defaults to 0.</p>
</blockquote>
<p><em>ERSPANDirection=</em></p>
<blockquote>
<p>Specifies the ERSPAN v2 mirrored traffics direction. Takes "ingress"
or "egress". Only used when <em>ERSPANVersion=2</em>. Defaults to
"ingress".</p>
</blockquote>
<p><em>ERSPANHardwareId=</em></p>
<blockquote>
<p>Specifies an unique identifier of the ERSPAN v2 engine. Takes an
integer in the range 0...63. Only used when <em>ERSPANVersion=2</em>.
Defaults to 0.</p>
</blockquote>
<h1>[FOOOVERUDP] SECTION OPTIONS</h1>
<p>The [FooOverUDP] section only applies for netdevs of kind "fou" and
accepts the following keys:</p>
<p><em>Encapsulation=</em></p>
<blockquote>
<p>Specifies the encapsulation mechanism used to store networking
packets of various protocols inside the UDP packets. Supports the
following values: "FooOverUDP" provides the simplest no-frills model of
UDP encapsulation, it simply encapsulates packets directly in the UDP
payload. "GenericUDPEncapsulation" is a generic and extensible
encapsulation, it allows encapsulation of packets for any IP protocol
and optional data as part of the encapsulation. For more detailed
information see <strong>Generic UDP Encapsulation</strong>[17]. Defaults
to "FooOverUDP".</p>
</blockquote>
<p><em>Port=</em></p>
<blockquote>
<p>Specifies the port number where the encapsulated packets will arrive.
Those packets will be removed and manually fed back into the network
stack with the encapsulation removed to be sent to the real destination.
This option is mandatory.</p>
</blockquote>
<p><em>PeerPort=</em></p>
<blockquote>
<p>Specifies the peer port number. Defaults to unset. Note that when
peer port is set "Peer=" address is mandatory.</p>
</blockquote>
<p><em>Protocol=</em></p>
<blockquote>
<p>The <em>Protocol=</em> specifies the protocol number of the packets
arriving at the UDP port. When <em>Encapsulation=FooOverUDP</em>, this
field is mandatory and is not set by default. Takes an IP protocol name
such as "gre" or "ipip", or an integer within the range 1...255. When
<em>Encapsulation=GenericUDPEncapsulation</em>, this must not be
specified.</p>
</blockquote>
<p><em>Peer=</em></p>
<blockquote>
<p>Configures peer IP address. Note that when peer address is set
"PeerPort=" is mandatory.</p>
</blockquote>
<p><em>Local=</em></p>
<blockquote>
<p>Configures local IP address.</p>
</blockquote>
<h1>[PEER] SECTION OPTIONS</h1>
<p>The [Peer] section only applies for netdevs of kind "veth" and
accepts the following keys:</p>
<p><em>Name=</em></p>
<blockquote>
<p>The interface name used when creating the netdev. This setting is
compulsory.</p>
</blockquote>
<p><em>MACAddress=</em></p>
<blockquote>
<p>The peer MACAddress, if not set, it is generated in the same way as
the MAC address of the main interface.</p>
</blockquote>
<h1>[VXCAN] SECTION OPTIONS</h1>
<p>The [VXCAN] section only applies for netdevs of kind "vxcan" and
accepts the following key:</p>
<p><em>Peer=</em></p>
<blockquote>
<p>The peer interface name used when creating the netdev. This setting
is compulsory.</p>
</blockquote>
<h1>[TUN] SECTION OPTIONS</h1>
<p>The [Tun] section only applies for netdevs of kind "tun", and accepts
the following keys:</p>
<p><em>MultiQueue=</em></p>
<blockquote>
<p>Takes a boolean. Configures whether to use multiple file descriptors
(queues) to parallelize packets sending and receiving. Defaults to
"no".</p>
</blockquote>
<p><em>PacketInfo=</em></p>
<blockquote>
<p>Takes a boolean. Configures whether packets should be prepended with
four extra bytes (two flag bytes and two protocol bytes). If disabled,
it indicates that the packets will be pure IP packets. Defaults to
"no".</p>
</blockquote>
<p><em>VNetHeader=</em></p>
<blockquote>
<p>Takes a boolean. Configures IFF_VNET_HDR flag for a tun or tap
device. It allows sending and receiving larger Generic Segmentation
Offload (GSO) packets. This may increase throughput significantly.
Defaults to "no".</p>
</blockquote>
<p><em>User=</em></p>
<blockquote>
<p>User to grant access to the /dev/net/tun device.</p>
</blockquote>
<p><em>Group=</em></p>
<blockquote>
<p>Group to grant access to the /dev/net/tun device.</p>
</blockquote>
<p><em>KeepCarrier=</em></p>
<blockquote>
<p>Takes a boolean. If enabled, to make the interface maintain its
carrier status, the file descriptor of the interface is kept open. This
may be useful to keep the interface in running state, for example while
the backing process is temporarily shutdown. Defaults to "no".</p>
</blockquote>
<h1>[TAP] SECTION OPTIONS</h1>
<p>The [Tap] section only applies for netdevs of kind "tap", and accepts
the same keys as the [Tun] section.</p>
<h1>[WIREGUARD] SECTION OPTIONS</h1>
<p>The [WireGuard] section accepts the following keys:</p>
<p><em>PrivateKey=</em></p>
<blockquote>
<p>The Base64 encoded private key for the interface. It can be generated
using the <strong>wg genkey</strong> command (see
<strong>wg</strong>(8)). This option or <em>PrivateKeyFile=</em> is
mandatory to use WireGuard. Note that because this information is
secret, you may want to set the permissions of the .netdev file to be
owned by "root:systemd-network" with a "0640" file mode.</p>
</blockquote>
<p><em>PrivateKeyFile=</em></p>
<blockquote>
<p>Takes an absolute path to a file which contains the Base64 encoded
private key for the interface. When this option is specified, then
<em>PrivateKey=</em> is ignored. Note that the file must be readable by
the user "systemd-network", so it should be, e.g., owned by
"root:systemd-network" with a "0640" file mode. If the path refers to an
<strong>AF_UNIX</strong> stream socket in the file system a connection
is made to it and the key read from it.</p>
</blockquote>
<p><em>ListenPort=</em></p>
<blockquote>
<p>Sets UDP port for listening. Takes either value between 1 and 65535
or "auto". If "auto" is specified, the port is automatically generated
based on interface name. Defaults to "auto".</p>
</blockquote>
<p><em>FirewallMark=</em></p>
<blockquote>
<p>Sets a firewall mark on outgoing WireGuard packets from this
interface. Takes a number between 1 and 4294967295.</p>
</blockquote>
<p><em>RouteTable=</em></p>
<blockquote>
<p>The table identifier for the routes to the addresses specified in the
<em>AllowedIPs=</em>. Takes a negative boolean value, one of the
predefined names "default", "main", and "local", names defined in
<em>RouteTable=</em> in <strong>networkd.conf</strong>(5), or a number
in the range 1...4294967295. When "off" the routes to the addresses
specified in the <em>AllowedIPs=</em> setting will not be configured.
Defaults to false. This setting will be ignored when the same setting is
specified in the [WireGuardPeer] section.</p>
</blockquote>
<p><em>RouteMetric=</em></p>
<blockquote>
<p>The priority of the routes to the addresses specified in the
<em>AllowedIPs=</em>. Takes an integer in the range 0...4294967295.
Defaults to 0 for IPv4 addresses, and 1024 for IPv6 addresses. This
setting will be ignored when the same setting is specified in the
[WireGuardPeer] section.</p>
</blockquote>
<h1>[WIREGUARDPEER] SECTION OPTIONS</h1>
<p>The [WireGuardPeer] section accepts the following keys:</p>
<p><em>PublicKey=</em></p>
<blockquote>
<p>Sets a Base64 encoded public key calculated by <strong>wg
pubkey</strong> (see <strong>wg</strong>(8)) from a private key, and
usually transmitted out of band to the author of the configuration file.
This option is mandatory for this section.</p>
</blockquote>
<p><em>PresharedKey=</em></p>
<blockquote>
<p>Optional preshared key for the interface. It can be generated by the
<strong>wg genpsk</strong> command. This option adds an additional layer
of symmetric-key cryptography to be mixed into the already existing
public-key cryptography, for post-quantum resistance. Note that because
this information is secret, you may want to set the permissions of the
.netdev file to be owned by "root:systemd-network" with a "0640" file
mode.</p>
</blockquote>
<p><em>PresharedKeyFile=</em></p>
<blockquote>
<p>Takes an absolute path to a file which contains the Base64 encoded
preshared key for the peer. When this option is specified, then
<em>PresharedKey=</em> is ignored. Note that the file must be readable
by the user "systemd-network", so it should be, e.g., owned by
"root:systemd-network" with a "0640" file mode. If the path refers to an
<strong>AF_UNIX</strong> stream socket in the file system a connection
is made to it and the key read from it.</p>
</blockquote>
<p><em>AllowedIPs=</em></p>
<blockquote>
<p>Sets a comma-separated list of IP (v4 or v6) addresses with CIDR
masks from which this peer is allowed to send incoming traffic and to
which outgoing traffic for this peer is directed.</p>
<p>The catch-all 0.0.0.0/0 may be specified for matching all IPv4
addresses, and ::/0 may be specified for matching all IPv6
addresses.</p>
<p>Note that this only affects <em>routing inside the network interface
itself</em>, i.e. the packets that pass through the tunnel itself. To
cause packets to be sent via the tunnel in the first place, an
appropriate route needs to be added as well — either in the "[Routes]"
section on the ".network" matching the wireguard interface, or
externally to systemd-networkd.</p>
</blockquote>
<p><em>Endpoint=</em></p>
<blockquote>
<p>Sets an endpoint IP address or hostname, followed by a colon, and
then a port number. IPv6 address must be in the square brackets. For
example, "111.222.333.444:51820" for IPv4 and "[1111:2222::3333]:51820"
for IPv6 address. This endpoint will be updated automatically once to
the most recent source IP address and port of correctly authenticated
packets from the peer at configuration time.</p>
</blockquote>
<p><em>PersistentKeepalive=</em></p>
<blockquote>
<p>Sets a seconds interval, between 1 and 65535 inclusive, of how often
to send an authenticated empty packet to the peer for the purpose of
keeping a stateful firewall or NAT mapping valid persistently. For
example, if the interface very rarely sends traffic, but it might at
anytime receive traffic from a peer, and it is behind NAT, the interface
might benefit from having a persistent keepalive interval of 25 seconds.
If set to 0 or "off", this option is disabled. By default or when
unspecified, this option is off. Most users will not need this.</p>
</blockquote>
<p><em>RouteTable=</em></p>
<blockquote>
<p>The table identifier for the routes to the addresses specified in the
<em>AllowedIPs=</em>. Takes a negative boolean value, one of the
predefined names "default", "main", and "local", names defined in
<em>RouteTable=</em> in <strong>networkd.conf</strong>(5), or a number
in the range 1...4294967295. Defaults to unset, and the value specified
in the same setting in the [WireGuard] section will be used.</p>
</blockquote>
<p><em>RouteMetric=</em></p>
<blockquote>
<p>The priority of the routes to the addresses specified in the
<em>AllowedIPs=</em>. Takes an integer in the range 0...4294967295.
Defaults to unset, and the value specified in the same setting in the
[WireGuard] section will be used.</p>
</blockquote>
<h1>[BOND] SECTION OPTIONS</h1>
<p>The [Bond] section accepts the following key:</p>
<p><em>Mode=</em></p>
<blockquote>
<p>Specifies one of the bonding policies. The default is "balance-rr"
(round robin). Possible values are "balance-rr", "active-backup",
"balance-xor", "broadcast", "802.3ad", "balance-tlb", and
"balance-alb".</p>
</blockquote>
<p><em>TransmitHashPolicy=</em></p>
<blockquote>
<p>Selects the transmit hash policy to use for slave selection in
balance-xor, 802.3ad, and tlb modes. Possible values are "layer2",
"layer3+4", "layer2+3", "encap2+3", and "encap3+4".</p>
</blockquote>
<p><em>LACPTransmitRate=</em></p>
<blockquote>
<p>Specifies the rate with which link partner transmits Link Aggregation
Control Protocol Data Unit packets in 802.3ad mode. Possible values are
"slow", which requests partner to transmit LACPDUs every 30 seconds, and
"fast", which requests partner to transmit LACPDUs every second. The
default value is "slow".</p>
</blockquote>
<p><em>MIIMonitorSec=</em></p>
<blockquote>
<p>Specifies the frequency that Media Independent Interface link
monitoring will occur. A value of zero disables MII link monitoring.
This value is rounded down to the nearest millisecond. The default value
is 0.</p>
</blockquote>
<p><em>UpDelaySec=</em></p>
<blockquote>
<p>Specifies the delay before a link is enabled after a link up status
has been detected. This value is rounded down to a multiple of
<em>MIIMonitorSec=</em>. The default value is 0.</p>
</blockquote>
<p><em>DownDelaySec=</em></p>
<blockquote>
<p>Specifies the delay before a link is disabled after a link down
status has been detected. This value is rounded down to a multiple of
<em>MIIMonitorSec=</em>. The default value is 0.</p>
</blockquote>
<p><em>LearnPacketIntervalSec=</em></p>
<blockquote>
<p>Specifies the number of seconds between instances where the bonding
driver sends learning packets to each slave peer switch. The valid range
is 1...0x7fffffff; the default value is 1. This option has an effect
only for the balance-tlb and balance-alb modes.</p>
</blockquote>
<p><em>AdSelect=</em></p>
<blockquote>
<p>Specifies the 802.3ad aggregation selection logic to use. Possible
values are "stable", "bandwidth" and "count".</p>
</blockquote>
<p><em>AdActorSystemPriority=</em></p>
<blockquote>
<p>Specifies the 802.3ad actor system priority. Takes a number in the
range 1...65535.</p>
</blockquote>
<p><em>AdUserPortKey=</em></p>
<blockquote>
<p>Specifies the 802.3ad user defined portion of the port key. Takes a
number in the range 0...1023.</p>
</blockquote>
<p><em>AdActorSystem=</em></p>
<blockquote>
<p>Specifies the 802.3ad system MAC address. This cannot be a null or
multicast address.</p>
</blockquote>
<p><em>FailOverMACPolicy=</em></p>
<blockquote>
<p>Specifies whether the active-backup mode should set all slaves to the
same MAC address at the time of enslavement or, when enabled, to perform
special handling of the bonds MAC address in accordance with the
selected policy. The default policy is none. Possible values are "none",
"active" and "follow".</p>
</blockquote>
<p><em>ARPValidate=</em></p>
<blockquote>
<p>Specifies whether or not ARP probes and replies should be validated
in any mode that supports ARP monitoring, or whether non-ARP traffic
should be filtered (disregarded) for link monitoring purposes. Possible
values are "none", "active", "backup" and "all".</p>
</blockquote>
<p><em>ARPIntervalSec=</em></p>
<blockquote>
<p>Specifies the ARP link monitoring frequency. A value of 0 disables
ARP monitoring. The default value is 0, and the default unit
seconds.</p>
</blockquote>
<p><em>ARPIPTargets=</em></p>
<blockquote>
<p>Specifies the IP addresses to use as ARP monitoring peers when
<em>ARPIntervalSec=</em> is greater than 0. These are the targets of the
ARP request sent to determine the health of the link to the targets.
Specify these values in IPv4 dotted decimal format. At least one IP
address must be given for ARP monitoring to function. The maximum number
of targets that can be specified is 16. The default value is no IP
addresses.</p>
</blockquote>
<p><em>ARPAllTargets=</em></p>
<blockquote>
<p>Specifies the quantity of <em>ARPIPTargets=</em> that must be
reachable in order for the ARP monitor to consider a slave as being up.
This option affects only active-backup mode for slaves with ARPValidate
enabled. Possible values are "any" and "all".</p>
</blockquote>
<p><em>PrimaryReselectPolicy=</em></p>
<blockquote>
<p>Specifies the reselection policy for the primary slave. This affects
how the primary slave is chosen to become the active slave when failure
of the active slave or recovery of the primary slave occurs. This option
is designed to prevent flip-flopping between the primary slave and other
slaves. Possible values are "always", "better" and "failure".</p>
</blockquote>
<p><em>ResendIGMP=</em></p>
<blockquote>
<p>Specifies the number of IGMP membership reports to be issued after a
failover event. One membership report is issued immediately after the
failover, subsequent packets are sent in each 200ms interval. The valid
range is 0...255. Defaults to 1. A value of 0 prevents the IGMP
membership report from being issued in response to the failover
event.</p>
</blockquote>
<p><em>PacketsPerSlave=</em></p>
<blockquote>
<p>Specify the number of packets to transmit through a slave before
moving to the next one. When set to 0, then a slave is chosen at random.
The valid range is 0...65535. Defaults to 1. This option only has effect
when in balance-rr mode.</p>
</blockquote>
<p><em>GratuitousARP=</em></p>
<blockquote>
<p>Specify the number of peer notifications (gratuitous ARPs and
unsolicited IPv6 Neighbor Advertisements) to be issued after a failover
event. As soon as the link is up on the new slave, a peer notification
is sent on the bonding device and each VLAN sub-device. This is repeated
at each link monitor interval (ARPIntervalSec or MIIMonitorSec,
whichever is active) if the number is greater than 1. The valid range is
0...255. The default value is 1. These options affect only the
active-backup mode.</p>
</blockquote>
<p><em>AllSlavesActive=</em></p>
<blockquote>
<p>Takes a boolean. Specifies that duplicate frames (received on
inactive ports) should be dropped when false, or delivered when true.
Normally, bonding will drop duplicate frames (received on inactive
ports), which is desirable for most users. But there are some times it
is nice to allow duplicate frames to be delivered. The default value is
false (drop duplicate frames received on inactive ports).</p>
</blockquote>
<p><em>DynamicTransmitLoadBalancing=</em></p>
<blockquote>
<p>Takes a boolean. Specifies if dynamic shuffling of flows is enabled.
Applies only for balance-tlb mode. Defaults to unset.</p>
</blockquote>
<p><em>MinLinks=</em></p>
<blockquote>
<p>Specifies the minimum number of links that must be active before
asserting carrier. The default value is 0.</p>
</blockquote>
<p>For more detail information see <strong>Linux Ethernet Bonding Driver
HOWTO</strong>[1]</p>
<h1>[XFRM] SECTION OPTIONS</h1>
<p>The [Xfrm] section accepts the following keys:</p>
<p><em>InterfaceId=</em></p>
<blockquote>
<p>Sets the ID/key of the xfrm interface which needs to be associated
with a SA/policy. Can be decimal or hexadecimal, valid range is
1-0xffffffff. This is mandatory.</p>
</blockquote>
<p><em>Independent=</em></p>
<blockquote>
<p>Takes a boolean. If false (the default), the xfrm interface must have
an underlying device which can be used for hardware offloading.</p>
</blockquote>
<p>For more detail information see <strong>Virtual XFRM
Interfaces</strong>[18].</p>
<h1>[VRF] SECTION OPTIONS</h1>
<p>The [VRF] section only applies for netdevs of kind "vrf" and accepts
the following key:</p>
<p><em>Table=</em></p>
<blockquote>
<p>The numeric routing table identifier. This setting is compulsory.</p>
</blockquote>
<h1>[BATMANADVANCED] SECTION OPTIONS</h1>
<p>The [BatmanAdvanced] section only applies for netdevs of kind
"batadv" and accepts the following keys:</p>
<p><em>GatewayMode=</em></p>
<blockquote>
<p>Takes one of "off", "server", or "client". A batman-adv node can
either run in server mode (sharing its internet connection with the
mesh) or in client mode (searching for the most suitable internet
connection in the mesh) or having the gateway support turned off
entirely (which is the default setting).</p>
</blockquote>
<p><em>Aggregation=</em></p>
<blockquote>
<p>Takes a boolean value. Enables or disables aggregation of originator
messages. Defaults to true.</p>
</blockquote>
<p><em>BridgeLoopAvoidance=</em></p>
<blockquote>
<p>Takes a boolean value. Enables or disables avoidance of loops on
bridges. Defaults to true.</p>
</blockquote>
<p><em>DistributedArpTable=</em></p>
<blockquote>
<p>Takes a boolean value. Enables or disables the distributed ARP table.
Defaults to true.</p>
</blockquote>
<p><em>Fragmentation=</em></p>
<blockquote>
<p>Takes a boolean value. Enables or disables fragmentation. Defaults to
true.</p>
</blockquote>
<p><em>HopPenalty=</em></p>
<blockquote>
<p>The hop penalty setting allows one to modify
<strong>batctl</strong>(8) preference for multihop routes vs. short
routes. This integer value is applied to the TQ (Transmit Quality) of
each forwarded OGM (Originator Message), thereby propagating the cost of
an extra hop (the packet has to be received and retransmitted which
costs airtime). A higher hop penalty will make it more unlikely that
other nodes will choose this node as intermediate hop towards any given
destination. The default hop penalty of 15 is a reasonable value for
most setups and probably does not need to be changed. However, mobile
nodes could choose a value of 255 (maximum value) to avoid being chosen
as a router by other nodes. The minimum value is 0.</p>
</blockquote>
<p><em>OriginatorIntervalSec=</em></p>
<blockquote>
<p>The value specifies the interval in seconds, unless another time unit
is specified in which batman-adv floods the network with its protocol
information. See <strong>systemd.time</strong>(7) for more
information.</p>
</blockquote>
<p><em>GatewayBandwidthDown=</em></p>
<blockquote>
<p>If the node is a server, this parameter is used to inform other nodes
in the network about this nodes internet connection download bandwidth
in bits per second. Just enter any number suffixed with K, M, G or T
(base 1000) and the batman-adv module will propagate the entered value
in the mesh.</p>
</blockquote>
<p><em>GatewayBandwidthUp=</em></p>
<blockquote>
<p>If the node is a server, this parameter is used to inform other nodes
in the network about this nodes internet connection upload bandwidth in
bits per second. Just enter any number suffixed with K, M, G or T (base
1000) and the batman-adv module will propagate the entered value in the
mesh.</p>
</blockquote>
<p><em>RoutingAlgorithm=</em></p>
<blockquote>
<p>This can be either "batman-v" or "batman-iv" and describes which
routing_algo of <strong>batctl</strong>(8) to use. The algorithm cannot
be changed after interface creation. Defaults to "batman-v".</p>
</blockquote>
<h1>[IPOIB] SECTION OPTIONS</h1>
<p>The [IPoIB] section only applies for netdevs of kind "ipoib" and
accepts the following keys:</p>
<p><em>PartitionKey=</em></p>
<blockquote>
<p>Takes an integer in the range 1...0xffff, except for 0x8000. Defaults
to unset, and the kernels default is used.</p>
</blockquote>
<p><em>Mode=</em></p>
<blockquote>
<p>Takes one of the special values "datagram" or "connected". Defaults
to unset, and the kernels default is used.</p>
<p>When "datagram", the Infiniband unreliable datagram (UD) transport is
used, and so the interface MTU is equal to the IB L2 MTU minus the IPoIB
encapsulation header (4 bytes). For example, in a typical IB fabric with
a 2K MTU, the IPoIB MTU will be 2048 - 4 = 2044 bytes.</p>
<p>When "connected", the Infiniband reliable connected (RC) transport is
used. Connected mode takes advantage of the connected nature of the IB
transport and allows an MTU up to the maximal IP packet size of 64K,
which reduces the number of IP packets needed for handling large UDP
datagrams, TCP segments, etc and increases the performance for large
messages.</p>
</blockquote>
<p><em>IgnoreUserspaceMulticastGroup=</em></p>
<blockquote>
<p>Takes an boolean value. When true, the kernel ignores multicast
groups handled by userspace. Defaults to unset, and the kernels default
is used.</p>
</blockquote>
<h1>[WLAN] SECTION OPTIONS</h1>
<p>The [WLAN] section only applies to WLAN interfaces, and accepts the
following keys:</p>
<p><em>PhysicalDevice=</em></p>
<blockquote>
<p>Specifies the name or index of the physical WLAN device (e.g. "0" or
"phy0"). The list of the physical WLAN devices that exist on the host
can be obtained by <strong>iw phy</strong> command. This option is
mandatory.</p>
</blockquote>
<p><em>Type=</em></p>
<blockquote>
<p>Specifies the type of the interface. Takes one of the "ad-hoc",
"station", "ap", "ap-vlan", "wds", "monitor", "mesh-point",
"p2p-client", "p2p-go", "p2p-device", "ocb", and "nan". This option is
mandatory.</p>
</blockquote>
<p><em>WDS=</em></p>
<blockquote>
<p>Enables the Wireless Distribution System (WDS) mode on the interface.
The mode is also known as the "4 address mode". Takes a boolean value.
Defaults to unset, and the kernels default will be used.</p>
</blockquote>
<h1>EXAMPLES</h1>
<p><strong>Example 1. /etc/systemd/network/25-bridge.netdev</strong></p>
<blockquote>
<pre><code>[NetDev]
Name=bridge0
Kind=bridge</code></pre>
</blockquote>
<p><strong>Example 2. /etc/systemd/network/25-vlan1.netdev</strong></p>
<blockquote>
<pre><code>[Match]
Virtualization=no

[NetDev]
Name=vlan1
Kind=vlan

[VLAN]
Id=1</code></pre>
</blockquote>
<p><strong>Example 3. /etc/systemd/network/25-ipip.netdev</strong></p>
<blockquote>
<pre><code>[NetDev]
Name=ipip-tun
Kind=ipip
MTUBytes=1480

[Tunnel]
Local=192.168.223.238
Remote=192.169.224.239
TTL=64</code></pre>
</blockquote>
<p><strong>Example 4.
/etc/systemd/network/1-fou-tunnel.netdev</strong></p>
<blockquote>
<pre><code>[NetDev]
Name=fou-tun
Kind=fou

[FooOverUDP]
Port=5555
Protocol=4
      </code></pre>
</blockquote>
<p><strong>Example 5.
/etc/systemd/network/25-fou-ipip.netdev</strong></p>
<blockquote>
<pre><code>[NetDev]
Name=ipip-tun
Kind=ipip

[Tunnel]
Independent=yes
Local=10.65.208.212
Remote=10.65.208.211
FooOverUDP=yes
FOUDestinationPort=5555
      </code></pre>
</blockquote>
<p><strong>Example 6. /etc/systemd/network/25-tap.netdev</strong></p>
<blockquote>
<pre><code>[NetDev]
Name=tap-test
Kind=tap

[Tap]
MultiQueue=yes
PacketInfo=yes</code></pre>
</blockquote>
<p><strong>Example 7. /etc/systemd/network/25-sit.netdev</strong></p>
<blockquote>
<pre><code>[NetDev]
Name=sit-tun
Kind=sit
MTUBytes=1480

[Tunnel]
Local=10.65.223.238
Remote=10.65.223.239</code></pre>
</blockquote>
<p><strong>Example 8. /etc/systemd/network/25-6rd.netdev</strong></p>
<blockquote>
<pre><code>[NetDev]
Name=6rd-tun
Kind=sit
MTUBytes=1480

[Tunnel]
Local=10.65.223.238
IPv6RapidDeploymentPrefix=2602::/24</code></pre>
</blockquote>
<p><strong>Example 9. /etc/systemd/network/25-gre.netdev</strong></p>
<blockquote>
<pre><code>[NetDev]
Name=gre-tun
Kind=gre
MTUBytes=1480

[Tunnel]
Local=10.65.223.238
Remote=10.65.223.239</code></pre>
</blockquote>
<p><strong>Example 10.
/etc/systemd/network/25-ip6gre.netdev</strong></p>
<blockquote>
<pre><code>[NetDev]
Name=ip6gre-tun
Kind=ip6gre

[Tunnel]
Key=123</code></pre>
</blockquote>
<p><strong>Example 11. /etc/systemd/network/25-vti.netdev</strong></p>
<blockquote>
<pre><code>[NetDev]
Name=vti-tun
Kind=vti
MTUBytes=1480

[Tunnel]
Local=10.65.223.238
Remote=10.65.223.239</code></pre>
</blockquote>
<p><strong>Example 12. /etc/systemd/network/25-veth.netdev</strong></p>
<blockquote>
<pre><code>[NetDev]
Name=veth-test
Kind=veth

[Peer]
Name=veth-peer</code></pre>
</blockquote>
<p><strong>Example 13. /etc/systemd/network/25-bond.netdev</strong></p>
<blockquote>
<pre><code>[NetDev]
Name=bond1
Kind=bond

[Bond]
Mode=802.3ad
TransmitHashPolicy=layer3+4
MIIMonitorSec=1s
LACPTransmitRate=fast</code></pre>
</blockquote>
<p><strong>Example 14. /etc/systemd/network/25-dummy.netdev</strong></p>
<blockquote>
<pre><code>[NetDev]
Name=dummy-test
Kind=dummy
MACAddress=12:34:56:78:9a:bc</code></pre>
</blockquote>
<p><strong>Example 15. /etc/systemd/network/25-vrf.netdev</strong></p>
<p>Create a VRF interface with table 42.</p>
<blockquote>
<pre><code>[NetDev]
Name=vrf-test
Kind=vrf

[VRF]
Table=42</code></pre>
</blockquote>
<p><strong>Example 16.
/etc/systemd/network/25-macvtap.netdev</strong></p>
<p>Create a MacVTap device.</p>
<blockquote>
<pre><code>[NetDev]
Name=macvtap-test
Kind=macvtap
      </code></pre>
</blockquote>
<p><strong>Example 17.
/etc/systemd/network/25-wireguard.netdev</strong></p>
<blockquote>
<pre><code>[NetDev]
Name=wg0
Kind=wireguard

[WireGuard]
PrivateKey=EEGlnEPYJV//kbvvIqxKkQwOiS+UENyPncC4bF46ong=
ListenPort=51820

[WireGuardPeer]
PublicKey=RDf+LSpeEre7YEIKaxg+wbpsNV7du+ktR99uBEtIiCA=
AllowedIPs=fd31:bf08:57cb::/48,192.168.26.0/24
Endpoint=wireguard.example.com:51820</code></pre>
</blockquote>
<p><strong>Example 18. /etc/systemd/network/27-xfrm.netdev</strong></p>
<blockquote>
<pre><code>[NetDev]
Name=xfrm0
Kind=xfrm

[Xfrm]
Independent=yes</code></pre>
</blockquote>
<h1>SEE ALSO</h1>
<p><strong>systemd</strong>(1), <strong>systemd-networkd</strong>(8),
<strong>systemd.link</strong>(5), <strong>systemd.network</strong>(5),
<strong>systemd-network-generator.service</strong>(8)</p>
<h1>NOTES</h1>
<dl>
<dt> 1.</dt>
<dd>
<p>Linux Ethernet Bonding Driver HOWTO</p>
<p>https://docs.kernel.org/networking/bonding.html</p>
</dd>
<dt> 2.</dt>
<dd>
<p>RFC 2784</p>
<p>https://tools.ietf.org/html/rfc2784</p>
</dd>
<dt> 3.</dt>
<dd>
<p>IEEE 802.1Q</p>
<p>http://www.ieee802.org/1/pages/802.1Q.html</p>
</dd>
<dt> 4.</dt>
<dd>
<p>VRF</p>
<p>https://docs.kernel.org/networking/vrf.html</p>
</dd>
<dt> 5.</dt>
<dd>
<p>B.A.T.M.A.N. Advanced</p>
<p>https://www.open-mesh.org/projects/open-mesh/wiki</p>
</dd>
<dt> 6.</dt>
<dd>
<p>System and Service Credentials</p>
<p>https://systemd.io/CREDENTIALS</p>
</dd>
<dt> 7.</dt>
<dd>
<p>(DOVE)</p>
<p>https://en.wikipedia.org/wiki/Distributed_Overlay_Virtual_Ethernet</p>
</dd>
<dt> 8.</dt>
<dd>
<p>VXLAN Group Policy</p>
<p>https://tools.ietf.org/html/draft-smith-vxlan-group-policy</p>
</dd>
<dt> 9.</dt>
<dd>
<p>Generic Protocol Extension for VXLAN</p>
<p>https://tools.ietf.org/html/draft-ietf-nvo3-vxlan-gpe-07</p>
</dd>
</dl>
<ol start="10" type="1">
<li><p>Type of Service in the Internet Protocol Suite</p>
<p>http://tools.ietf.org/html/rfc1349</p></li>
<li><p>RFC 6437</p>
<p>https://tools.ietf.org/html/rfc6437</p></li>
<li><p>RFC 2460</p>
<p>https://tools.ietf.org/html/rfc2460</p></li>
<li><p>RFC 2473</p>
<p>https://tools.ietf.org/html/rfc2473#section-4.1.1</p></li>
<li><p>ip-xfrm — transform configuration</p>
<p>https://man7.org/linux/man-pages/man8/ip-xfrm.8.html</p></li>
<li><p>Foo over UDP</p>
<p>https://lwn.net/Articles/614348</p></li>
<li><p>IPv6 Rapid Deployment</p>
<p>https://tools.ietf.org/html/rfc5569</p></li>
<li><p>Generic UDP Encapsulation</p>
<p>https://lwn.net/Articles/615044</p></li>
<li><p>Virtual XFRM Interfaces</p>
<p>https://lwn.net/Articles/757391</p></li>
</ol>
