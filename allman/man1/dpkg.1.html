<pre><code></code></pre>
<p><br />
</p>
<link rel='stylesheet' href='../style.css'>
<script src='../script.js'></script>
<h1>NAME</h1>
<p>dpkg - package manager for Debian</p>
<h1>SYNOPSIS</h1>
<p><strong>dpkg</strong> [<em>option</em>...] <em>action</em></p>
<h1>WARNING</h1>
<p>This manual is intended for users wishing to understand
<strong>dpkg</strong>'s command line options and package states in more
detail than that provided by <strong>dpkg --help</strong>.</p>
<p>It should <em>not</em> be used by package maintainers wishing to
understand how <strong>dpkg</strong> will install their packages. The
descriptions of what <strong>dpkg</strong> does when installing and
removing packages are particularly inadequate.</p>
<h1>DESCRIPTION</h1>
<p><strong>dpkg</strong> is a medium-level tool to install, build,
remove and manage Debian packages. The primary and more user-friendly
front-end for <strong>dpkg</strong> as a CLI (command-line interface) is
<strong>apt</strong>(8) and as a TUI (terminal user interface) is
<strong>aptitude</strong>(8). <strong>dpkg</strong> itself is controlled
entirely via command line parameters, which consist of exactly one
action and zero or more options. The action-parameter tells
<strong>dpkg</strong> what to do and options control the behavior of the
action in some way.</p>
<p><strong>dpkg</strong> can also be used as a front-end to
<strong>dpkg-deb</strong>(1) and <strong>dpkg-query</strong>(1). The
list of supported actions can be found later on in the
<strong>ACTIONS</strong> section. If any such action is encountered
<strong>dpkg</strong> just runs <strong>dpkg-deb</strong> or
<strong>dpkg-query</strong> with the parameters given to it, but no
specific options are currently passed to them, to use any such option
the back-ends need to be called directly.</p>
<h1>INFORMATION ABOUT PACKAGES</h1>
<p><strong>dpkg</strong> maintains some usable information about
available packages. The information is divided in three classes:
<strong>states</strong>, <strong>selection states</strong> and
<strong>flags</strong>. These values are intended to be changed mainly
with <strong>dselect</strong>.</p>
<h2>Package states</h2>
<dl>
<dt>not-installed</dt>
<dd>
<p>The package is not installed on your system.</p>
</dd>
<dt>config-files</dt>
<dd>
<p>Only the configuration files or the <strong>postrm</strong> script
and the data it needs to remove of the package exist on the system.</p>
</dd>
<dt>half-installed</dt>
<dd>
<p>The installation of the package has been started, but not completed
for some reason.</p>
</dd>
<dt>unpacked</dt>
<dd>
<p>The package is unpacked, but not configured.</p>
</dd>
<dt>half-configured</dt>
<dd>
<p>The package is unpacked and configuration has been started, but not
yet completed for some reason.</p>
</dd>
<dt>triggers-awaited</dt>
<dd>
<p>The package awaits trigger processing by another package.</p>
</dd>
<dt>triggers-pending</dt>
<dd>
<p>The package has been triggered.</p>
</dd>
<dt>installed</dt>
<dd>
<p>The package is correctly unpacked and configured.</p>
</dd>
</dl>
<h2>Package selection states</h2>
<dl>
<dt>install</dt>
<dd>
<p>The package is selected for installation.</p>
</dd>
<dt>hold</dt>
<dd>
<p>A package marked to be on <strong>hold</strong> is kept on the same
version, that is, no automatic new installs, upgrades or removals will
be performed on them, unless these actions are requested explicitly, or
are permitted to be done automatically with the
<strong>--force-hold</strong> option.</p>
</dd>
<dt>deinstall</dt>
<dd>
<p>The package is selected for deinstallation (i.e. we want to remove
all files, except configuration files).</p>
</dd>
<dt>purge</dt>
<dd>
<p>The package is selected to be purged (i.e. we want to remove
everything from system directories, even configuration files).</p>
</dd>
<dt>unknown</dt>
<dd>
<p>The package selection is unknown. A package that is also in a
<strong>not-installed</strong> state, and with an <strong>ok</strong>
flag will be forgotten in the next database store.</p>
</dd>
</dl>
<h2>Package flags</h2>
<dl>
<dt>ok</dt>
<dd>
<p>A package marked <strong>ok</strong> is in a known state, but might
need further processing.</p>
</dd>
<dt>reinstreq</dt>
<dd>
<p>A package marked <strong>reinstreq</strong> is broken and requires
reinstallation. These packages cannot be removed, unless forced with
option <strong>--force-remove-reinstreq</strong>.</p>
</dd>
</dl>
<h1>ACTIONS</h1>
<dl>
<dt>-i, --install package-file...</dt>
<dd>
<p>Install the package. If <strong>--recursive</strong> or
<strong>-R</strong> option is specified, <em>package-file</em> must
refer to a directory instead. Installation consists of the following
steps: <strong>1.</strong> Extract the control files of the new package.
<strong>2.</strong> If another version of the same package was installed
before the new installation, execute <em>prerm</em> script of the old
package. <strong>3.</strong> Run <em>preinst</em> script, if provided by
the package. <strong>4.</strong> Unpack the new files, and at the same
time back up the old files, so that if something goes wrong, they can be
restored. <strong>5.</strong> If another version of the same package was
installed before the new installation, execute the <em>postrm</em>
script of the old package. Note that this script is executed after the
<em>preinst</em> script of the new package, because new files are
written at the same time old files are removed. <strong>6.</strong>
Configure the package. See <strong>--configure</strong> for detailed
information about how this is done.</p>
</dd>
<dt>--unpack package-file...</dt>
<dd>
<p>Unpack the package, but don't configure it. If
<strong>--recursive</strong> or <strong>-R</strong> option is specified,
<em>package-file</em> must refer to a directory instead. Will process
triggers for <strong>Pre-Depends</strong> unless
<strong>--no-triggers</strong> has been specified.</p>
</dd>
<dt>--configure package...|-a|--pending</dt>
<dd>
<p>Configure a package which has been unpacked but not yet configured.
If <strong>-a</strong> or <strong>--pending</strong> is given instead of
<em>package</em>, all unpacked but unconfigured packages are configured.
To reconfigure a package which has already been configured, try the
<strong>dpkg-reconfigure</strong>(8) command instead. Configuring
consists of the following steps: <strong>1.</strong> Unpack the
conffiles, and at the same time back up the old conffiles, so that they
can be restored if something goes wrong. <strong>2.</strong> Run
<em>postinst</em> script, if provided by the package. Will process
triggers unless <strong>--no-triggers</strong> has been specified.</p>
</dd>
<dt>--triggers-only package...|-a|--pending</dt>
<dd>
<p>Processes only triggers (since dpkg 1.14.17). All pending triggers
will be processed. If package names are supplied only those packages'
triggers will be processed, exactly once each where necessary. Use of
this option may leave packages in the improper
<strong>triggers-awaited</strong> and <strong>triggers-pending</strong>
states. This can be fixed later by running: <strong>dpkg --configure
--pending</strong>.</p>
</dd>
<dt>-r, --remove package...|-a|--pending</dt>
<dd>
<p>Remove an installed package. This removes everything except conffiles
and other data cleaned up by the <em>postrm</em> script, which may avoid
having to reconfigure the package if it is reinstalled later (conffiles
are configuration files that are listed in the <em>DEBIAN/conffiles</em>
control file). If there is no <em>DEBIAN/conffiles</em> control file nor
<em>DEBIAN/postrm</em> script, this command is equivalent to calling
<strong>--purge</strong>. If <strong>-a</strong> or
<strong>--pending</strong> is given instead of a package name, then all
packages unpacked, but marked to be removed in file
<em>/var/lib/dpkg/status</em>, are removed. Removing of a package
consists of the following steps: <strong>1.</strong> Run <em>prerm</em>
script <strong>2.</strong> Remove the installed files
<strong>3.</strong> Run <em>postrm</em> script Will process triggers
unless <strong>--no-triggers</strong> has been specified.</p>
</dd>
<dt>-P, --purge package...|-a|--pending</dt>
<dd>
<p>Purge an installed or already removed package. This removes
everything, including conffiles, and anything else cleaned up from
<em>postrm</em>. If <strong>-a</strong> or <strong>--pending</strong> is
given instead of a package name, then all packages unpacked or removed,
but marked to be purged in file <em>/var/lib/dpkg/status</em>, are
purged. <strong>Note:</strong> Some configuration files might be unknown
to <strong>dpkg</strong> because they are created and handled separately
through the configuration scripts. In that case, <strong>dpkg</strong>
won't remove them by itself, but the package's <em>postrm</em> script
(which is called by <strong>dpkg</strong>), has to take care of their
removal during purge. Of course, this only applies to files in system
directories, not configuration files written to individual users' home
directories. Purging of a package consists of the following steps:
<strong>1.</strong> Remove the package, if not already removed. See
<strong>--remove</strong> for detailed information about how this is
done. <strong>2.</strong> Run <em>postrm</em> script. Will process
triggers unless <strong>--no-triggers</strong> has been specified.</p>
</dd>
<dt>-V, --verify [package-name...]</dt>
<dd>
<p>Verifies the integrity of <em>package-name</em> or all packages if
omitted, by comparing information from the files installed by a package
with the files metadata information stored in the <strong>dpkg</strong>
database (since dpkg 1.17.2). The origin of the files metadata
information in the database is the binary packages themselves. That
metadata gets collected at package unpack time during the installation
process. Currently the only functional check performed is an md5sum
verification of the file contents against the stored value in the files
database. It will only get checked if the database contains the file
md5sum. To check for any missing metadata in the database, the
<strong>--audit</strong> command can be used. The output format is
selectable with the <strong>--verify-format</strong> option, which by
default uses the <strong>rpm</strong> format, but that might change in
the future, and as such, programs parsing this command output should be
explicit about the format they expect.</p>
</dd>
<dt>-C, --audit [package-name...]</dt>
<dd>
<p>Performs database sanity and consistency checks for
<em>package-name</em> or all packages if omitted (per package checks
since dpkg 1.17.10). For example, searches for packages that have been
installed only partially on your system or that have missing, wrong or
obsolete control data or files. <strong>dpkg</strong> will suggest what
to do with them to get them fixed.</p>
</dd>
<dt>--update-avail [Packages-file]</dt>
<dd>

</dd>
</dl>
<dl>
<dt>--merge-avail [Packages-file]</dt>
<dd>

</dd>
</dl>
<p>Update <strong>dpkg</strong>'s and <strong>dselect</strong>'s idea of
which packages are available. With action
<strong>--merge-avail</strong>, old information is combined with
information from <em>Packages-file</em>. With action
<strong>--update-avail</strong>, old information is replaced with the
information in the <em>Packages-file</em>. The <em>Packages-file</em>
distributed with Debian is simply named «<em>Packages</em>». If the
<em>Packages-file</em> argument is missing or named «<strong>-</strong>»
then it will be read from standard input (since dpkg 1.17.7).
<strong>dpkg</strong> keeps its record of available packages in
<em>/var/lib/dpkg/available</em>. A simpler one-shot command to retrieve
and update the <em>available</em> file is <strong>dselect
update</strong>. Note that this file is mostly useless if you don't use
<strong>dselect</strong> but an APT-based frontend: APT has its own
system to keep track of available packages.</p>
<dl>
<dt>-A, --record-avail package-file...</dt>
<dd>
<p>Update <strong>dpkg</strong> and <strong>dselect</strong>'s idea of
which packages are available with information from the package
<em>package-file</em>. If <strong>--recursive</strong> or
<strong>-R</strong> option is specified, <em>package-file</em> must
refer to a directory instead.</p>
</dd>
<dt>--forget-old-unavail</dt>
<dd>
<p>Now <strong>obsolete</strong> and a no-op as <strong>dpkg</strong>
will automatically forget uninstalled unavailable packages (since dpkg
1.15.4), but only those that do not contain user information such as
package selections.</p>
</dd>
<dt>--clear-avail</dt>
<dd>
<p>Erase the existing information about what packages are available.</p>
</dd>
<dt>--get-selections [package-name-pattern...]</dt>
<dd>
<p>Get list of package selections, and write it to stdout. Without a
pattern, non-installed packages (i.e. those which have been previously
purged) will not be shown.</p>
</dd>
<dt>--set-selections</dt>
<dd>
<p>Set package selections using file read from stdin. This file should
be in the format “<em>package</em> <em>state</em>”, where state is one
of <strong>install</strong>, <strong>hold</strong>,
<strong>deinstall</strong> or <strong>purge</strong>. Blank lines and
comment lines beginning with ‘<strong>#</strong>’ are also permitted.
The <em>available</em> file needs to be up-to-date for this command to
be useful, otherwise unknown packages will be ignored with a warning.
See the <strong>--update-avail</strong> and
<strong>--merge-avail</strong> commands for more information.</p>
</dd>
<dt>--clear-selections</dt>
<dd>
<p>Set the requested state of every non-essential package to deinstall
(since dpkg 1.13.18). This is intended to be used immediately before
<strong>--set-selections</strong>, to deinstall any packages not in list
given to <strong>--set-selections</strong>.</p>
</dd>
<dt>--yet-to-unpack</dt>
<dd>
<p>Searches for packages selected for installation, but which for some
reason still haven't been installed. <strong>Note:</strong> This command
makes use of both the available file and the package selections.</p>
</dd>
<dt>--predep-package</dt>
<dd>
<p>Print a single package which is the target of one or more relevant
pre-dependencies and has itself no unsatisfied pre-dependencies. If such
a package is present, output it as a Packages file entry, which can be
massaged as appropriate. <strong>Note:</strong> This command makes use
of both the available file and the package selections. Returns 0 when a
package is printed, 1 when no suitable package is available and 2 on
error.</p>
</dd>
<dt>--add-architecture architecture</dt>
<dd>
<p>Add <em>architecture</em> to the list of architectures for which
packages can be installed without using
<strong>--force-architecture</strong> (since dpkg 1.16.2). The
architecture <strong>dpkg</strong> is built for (i.e. the output of
<strong>--print-architecture</strong>) is always part of that list.</p>
</dd>
<dt>--remove-architecture architecture</dt>
<dd>
<p>Remove <em>architecture</em> from the list of architectures for which
packages can be installed without using
<strong>--force-architecture</strong> (since dpkg 1.16.2). If the
architecture is currently in use in the database then the operation will
be refused, except if <strong>--force-architecture</strong> is
specified. The architecture <strong>dpkg</strong> is built for (i.e. the
output of <strong>--print-architecture</strong>) can never be removed
from that list.</p>
</dd>
<dt>--print-architecture</dt>
<dd>
<p>Print architecture of packages <strong>dpkg</strong> installs (for
example, “i386”).</p>
</dd>
<dt>--print-foreign-architectures</dt>
<dd>
<p>Print a newline-separated list of the extra architectures
<strong>dpkg</strong> is configured to allow packages to be installed
for (since dpkg 1.16.2).</p>
</dd>
<dt>--assert-help</dt>
<dd>
<p>Give help about the <strong>--assert-</strong><em>feature</em>
options (since dpkg 1.21.0).</p>
</dd>
<dt>--assert-feature</dt>
<dd>
<p>Asserts that <strong>dpkg</strong> supports the requested feature.
Returns 0 if the feature is fully supported, 1 if the feature is known
but <strong>dpkg</strong> cannot provide support for it yet, and 2 if
the feature is unknown. The current list of assertable features is:</p>
<dl>
<dt>support-predepends</dt>
<dd>
<p>Supports the <strong>Pre-Depends</strong> field (since dpkg
1.1.0).</p>
</dd>
<dt>working-epoch</dt>
<dd>
<p>Supports epochs in version strings (since dpkg 1.4.0.7).</p>
</dd>
<dt>long-filenames</dt>
<dd>
<p>Supports long filenames in <strong>deb</strong>(5) archives (since
dpkg 1.4.1.17).</p>
</dd>
<dt>multi-conrep</dt>
<dd>
<p>Supports multiple <strong>Conflicts</strong> and
<strong>Replaces</strong> (since dpkg 1.4.1.19).</p>
</dd>
<dt>multi-arch</dt>
<dd>
<p>Supports multi-arch fields and semantics (since dpkg 1.16.2).</p>
</dd>
<dt>versioned-provides</dt>
<dd>
<p>Supports versioned <strong>Provides</strong> (since dpkg
1.17.11).</p>
</dd>
<dt>protected-field</dt>
<dd>
<p>Supports the <strong>Protected</strong> field (since dpkg
1.20.1).</p>
</dd>
</dl>
</dd>
<dt>--validate-thing string</dt>
<dd>
<p>Validate that the <em>thing</em> <em>string</em> has a correct syntax
(since dpkg 1.18.16). Returns 0 if the <em>string</em> is valid, 1 if
the <em>string</em> is invalid but might be accepted in lax contexts,
and 2 if the <em>string</em> is invalid. The current list of validatable
<em>thing</em>s is:</p>
<dl>
<dt>pkgname</dt>
<dd>
<p>Validates the given package name (since dpkg 1.18.16).</p>
</dd>
<dt>trigname</dt>
<dd>
<p>Validates the given trigger name (since dpkg 1.18.16).</p>
</dd>
<dt>archname</dt>
<dd>
<p>Validates the given architecture name (since dpkg 1.18.16).</p>
</dd>
<dt>version</dt>
<dd>
<p>Validates the given version (since dpkg 1.18.16).</p>
</dd>
</dl>
</dd>
<dt>--compare-versions ver1 op ver2</dt>
<dd>
<p>Compare version numbers, where <em>op</em> is a binary operator.
<strong>dpkg</strong> returns true (<strong>0</strong>) if the specified
condition is satisfied, and false (<strong>1</strong>) otherwise. There
are two groups of operators, which differ in how they treat an empty
<em>ver1</em> or <em>ver2</em>. These treat an empty version as earlier
than any version: <strong>lt le eq ne ge gt</strong>. These treat an
empty version as later than any version: <strong>lt-nl le-nl ge-nl
gt-nl</strong>. These are provided only for compatibility with control
file syntax: <strong>&lt; &lt;&lt; &lt;= = &gt;= &gt;&gt;</strong> &gt;.
The <strong>&lt;</strong> and <strong>&gt;</strong> operators are
obsolete and should <strong>not</strong> be used, due to confusing
semantics. To illustrate: <strong>0.1 &lt; 0.1</strong> evaluates to
true.</p>
</dd>
<dt>-?, --help</dt>
<dd>
<p>Display a brief help message.</p>
</dd>
<dt>--force-help</dt>
<dd>
<p>Give help about the <strong>--force-</strong><em>thing</em>
options.</p>
</dd>
<dt>-Dh, --debug=help</dt>
<dd>
<p>Give help about debugging options.</p>
</dd>
<dt>--version</dt>
<dd>
<p>Display <strong>dpkg</strong> version information. When used with
<strong>--robot</strong>, the output will be the program version number
in a dotted numerical format, with no newline.</p>
</dd>
<dt>dpkg-deb actions</dt>
<dd>
<p>See <strong>dpkg-deb</strong>(1) for more information about the
following actions, and other actions and options not exposed by the
<strong>dpkg</strong> front-end.</p>
<dl>
<dt>-b, --build directory [archive|directory]</dt>
<dd>
<p>Build a deb package.</p>
</dd>
<dt>-c, --contents archive</dt>
<dd>
<p>List contents of a deb package.</p>
</dd>
<dt>-e, --control archive [directory]</dt>
<dd>
<p>Extract control-information from a package.</p>
</dd>
<dt>-x, --extract archive directory</dt>
<dd>
<p>Extract the files contained by package.</p>
</dd>
<dt>-X, --vextract archive directory</dt>
<dd>
<p>Extract and display the filenames contained by a package.</p>
</dd>
<dt>-f, --field archive [control-field...]</dt>
<dd>
<p>Display control field(s) of a package.</p>
</dd>
<dt>--ctrl-tarfile archive</dt>
<dd>
<p>Output the control tar-file contained in a Debian package.</p>
</dd>
<dt>--fsys-tarfile archive</dt>
<dd>
<p>Output the filesystem tar-file contained by a Debian package.</p>
</dd>
<dt>-I, --info archive [control-file...]</dt>
<dd>
<p>Show information about a package.</p>
</dd>
</dl>
</dd>
<dt>dpkg-query actions</dt>
<dd>
<p>See <strong>dpkg-query</strong>(1) for more information about the
following actions, and other actions and options not exposed by the
<strong>dpkg</strong> front-end.</p>
<dl>
<dt>-l, --list package-name-pattern...</dt>
<dd>
<p>List packages matching given pattern.</p>
</dd>
<dt>-s, --status package-name...</dt>
<dd>
<p>Report status of specified package.</p>
</dd>
<dt>-L, --listfiles package-name...</dt>
<dd>
<p>List files installed to your system from <em>package-name</em>.</p>
</dd>
<dt>-S, --search filename-search-pattern...</dt>
<dd>
<p>Search for a filename from installed packages.</p>
</dd>
<dt>-p, --print-avail package-name...</dt>
<dd>
<p>Display details about <em>package-name</em>, as found in
<em>/var/lib/dpkg/available</em>. Users of APT-based frontends should
use <strong>apt show</strong> <em>package-name</em> instead.</p>
</dd>
</dl>
</dd>
</dl>
<h1>OPTIONS</h1>
<p>All options can be specified both on the command line and in the
<strong>dpkg</strong> configuration file <em>/etc/dpkg/dpkg.cfg</em> or
fragment files (with names matching this shell pattern '[0-9a-zA-Z_-]*')
on the configuration directory <em>/etc/dpkg/dpkg.cfg.d/</em>. Each line
in the configuration file is either an option (exactly the same as the
command line option but without leading hyphens) or a comment (if it
starts with a ‘<strong>#</strong>’).</p>
<dl>
<dt>--abort-after=number</dt>
<dd>
<p>Change after how many errors <strong>dpkg</strong> will abort. The
default is 50.</p>
</dd>
<dt>-B, --auto-deconfigure</dt>
<dd>
<p>When a package is removed, there is a possibility that another
installed package depended on the removed package. Specifying this
option will cause automatic deconfiguration of the package which
depended on the removed package.</p>
</dd>
<dt>-Doctal, --debug=octal</dt>
<dd>
<p>Switch debugging on. <em>octal</em> is formed by bitwise-ORing
desired values together from the list below (note that these values may
change in future releases). <strong>-Dh</strong> or
<strong>--debug=help</strong> display these debugging values. Number
Description 1 Generally helpful progress information 2 Invocation and
status of maintainer scripts 10 Output for each file processed 100 Lots
of output for each file processed 20 Output for each configuration file
200 Lots of output for each configuration file 40 Dependencies and
conflicts 400 Lots of dependencies/conflicts output 10000 Trigger
activation and processing 20000 Lots of output regarding triggers 40000
Silly amounts of output regarding triggers 1000 Lots of drivel about for
example the dpkg/info dir 2000 Insane amounts of drivel</p>
</dd>
<dt>--force-things</dt>
<dd>

</dd>
</dl>
<dl>
<dt>--no-force-things, --refuse-things</dt>
<dd>

</dd>
</dl>
<p>Force or refuse (<strong>no-force</strong> and
<strong>refuse</strong> mean the same thing) to do some things.
<em>things</em> is a comma separated list of things specified below.
<strong>--force-help</strong> displays a message describing them. Things
marked with (*) are forced by default. <em>Warning: These options are
mostly intended to be used by experts</em> only. Using them without
fully understanding their effects may break your whole system.
<strong>all</strong>: Turns on (or off) all force options.
<strong>downgrade</strong>(*): Install a package, even if newer version
of it is already installed. <em>Warning: At present</em>
<strong>dpkg</strong> <em>does not do any dependency</em> checking on
downgrades and therefore will not warn you if the downgrade breaks the
dependency of some other package. This can have serious side effects,
downgrading essential system components can even make your whole system
unusable. Use with care. <strong>configure-any</strong>: Configure also
any unpacked but unconfigured packages on which the current package
depends. <strong>hold</strong>: Allow automatic installs, upgrades or
removals of packages even when marked to be on “hold”.
<strong>Note:</strong> When these actions are requested explicitly, the
“hold” package selection state always gets ignored.
<strong>remove-reinstreq</strong>: Remove a package, even if it's broken
and marked to require reinstallation. This may, for example, cause parts
of the package to remain on the system, which will then be forgotten by
<strong>dpkg</strong>. <strong>remove-protected</strong>: Remove, even
if the package is considered protected (since dpkg 1.20.1). Protected
packages contain mostly important system boot infrastructure or are used
for custom system-local meta-packages. Removing them might cause the
whole system to be unable to boot or lose required functionality to
operate, so use with caution. <strong>remove-essential</strong>: Remove,
even if the package is considered essential. Essential packages contain
mostly very basic Unix commands, required for the packaging system, for
the operation of the system in general or during boot (although the
latter should be converted to protected packages instead). Removing them
might cause the whole system to stop working, so use with caution.
<strong>depends</strong>: Turn all dependency problems into warnings.
This affects the <strong>Pre-Depends</strong> and
<strong>Depends</strong> fields. <strong>depends-version</strong>: Don't
care about versions when checking dependencies. This affects the
<strong>Pre-Depends</strong> and <strong>Depends</strong> fields.
<strong>breaks</strong>: Install, even if this would break another
package (since dpkg 1.14.6). This affects the <strong>Breaks</strong>
field. <strong>conflicts</strong>: Install, even if it conflicts with
another package. This is dangerous, for it will usually cause
overwriting of some files. This affects the <strong>Conflicts</strong>
field. <strong>confmiss</strong>: Always install the missing conffile
without prompting. This is dangerous, since it means not preserving a
change (removing) made to the file. <strong>confnew</strong>: If a
conffile has been modified and the version in the package did change,
always install the new version without prompting, unless the
<strong>--force-confdef</strong> is also specified, in which case the
default action is preferred. <strong>confold</strong>: If a conffile has
been modified and the version in the package did change, always keep the
old version without prompting, unless the
<strong>--force-confdef</strong> is also specified, in which case the
default action is preferred. <strong>confdef</strong>: If a conffile has
been modified and the version in the package did change, always choose
the default action without prompting. If there is no default action it
will stop to ask the user unless <strong>--force-confnew</strong> or
<strong>--force-confold</strong> is also been given, in which case it
will use that to decide the final action. <strong>confask</strong>: If a
conffile has been modified always offer to replace it with the version
in the package, even if the version in the package did not change (since
dpkg 1.15.8). If any of <strong>--force-confnew</strong>,
<strong>--force-confold</strong>, or <strong>--force-confdef</strong> is
also given, it will be used to decide the final action.
<strong>overwrite</strong>: Overwrite one package's file with another's
file. <strong>overwrite-dir</strong>: Overwrite one package's directory
with another's file. <strong>overwrite-diverted</strong>: Overwrite a
diverted file with an undiverted version.
<strong>statoverride-add</strong>: Overwrite an existing stat override
when adding it (since dpkg 1.19.5).
<strong>statoverride-remove</strong>: Ignore a missing stat override
when removing it (since dpkg 1.19.5). <strong>security-mac</strong>(*):
Use platform-specific Mandatory Access Controls (MAC) based security
when installing files into the filesystem (since dpkg 1.19.5). On Linux
systems the implementation uses SELinux. <strong>unsafe-io</strong>: Do
not perform safe I/O operations when unpacking (since dpkg 1.15.8.6).
Currently this implies not performing file system syncs before file
renames, which is known to cause substantial performance degradation on
some file systems, unfortunately the ones that require the safe I/O on
the first place due to their unreliable behaviour causing zero-length
files on abrupt system crashes. <em>Note</em>: For ext4, the main
offender, consider using instead the mount option
<strong>nodelalloc</strong>, which will fix both the performance
degradation and the data safety issues, the latter by making the file
system not produce zero-length files on abrupt system crashes with any
software not doing syncs before atomic renames. <em>Warning: Using this
option might improve performance at the cost of</em> losing data, use
with care. <strong>script-chrootless</strong>: Run maintainer scripts
without <strong>chroot</strong>(2)ing into <strong>instdir</strong> even
if the package does not support this mode of operation (since dpkg
1.18.5). <em>Warning: This can destroy your host system, use with
extreme care.</em> <strong>architecture</strong>: Process even packages
with wrong or no architecture. <strong>bad-version</strong>: Process
even packages with wrong versions (since dpkg 1.16.1).
<strong>bad-path</strong>: <strong>PATH</strong> is missing important
programs, so problems are likely. <strong>not-root</strong>: Try to
(de)install things even when not root. <strong>bad-verify</strong>:
Install a package even if it fails authenticity check.</p>
<dl>
<dt>--ignore-depends=package,...</dt>
<dd>
<p>Ignore dependency-checking for specified packages (actually, checking
is performed, but only warnings about conflicts are given, nothing
else). This affects the <strong>Pre-Depends</strong>,
<strong>Depends</strong> and <strong>Breaks</strong> fields.</p>
</dd>
<dt>--no-act, --dry-run, --simulate</dt>
<dd>
<p>Do everything which is supposed to be done, but don't write any
changes. This is used to see what would happen with the specified
action, without actually modifying anything. Be sure to give
<strong>--no-act</strong> before the action-parameter, or you might end
up with undesirable results. (e.g. <strong>dpkg --purge foo
--no-act</strong> will first purge package “foo” and then try to purge
package ”--no-act”, even though you probably expected it to actually do
nothing).</p>
</dd>
<dt>-R, --recursive</dt>
<dd>
<p>Recursively handle all regular files matching pattern
<strong>*.deb</strong> found at specified directories and all of its
subdirectories. This can be used with <strong>-i</strong>,
<strong>-A</strong>, <strong>--install</strong>,
<strong>--unpack</strong> and <strong>--record-avail</strong>
actions.</p>
</dd>
<dt>-G</dt>
<dd>
<p>Don't install a package if a newer version of the same package is
already installed. This is an alias of
<strong>--refuse-downgrade</strong>.</p>
</dd>
<dt>--admindir=dir</dt>
<dd>
<p>Set the administrative directory to <em>directory</em>. This
directory contains many files that give information about status of
installed or uninstalled packages, etc. Defaults to
«<em>/var/lib/dpkg</em>» if <strong>DPKG_ADMINDIR</strong> has not been
set.</p>
</dd>
<dt>--instdir=dir</dt>
<dd>
<p>Set the installation directory, which refers to the directory where
packages are to be installed. <strong>instdir</strong> is also the
directory passed to <strong>chroot</strong>(2) before running package's
installation scripts, which means that the scripts see
<strong>instdir</strong> as a root directory. Defaults to
«<em>/</em>».</p>
</dd>
<dt>--root=dir</dt>
<dd>
<p>Set the root directory to <strong>directory</strong>, which sets the
installation directory to «<em>dir</em>» and the administrative
directory to «<em>dir</em><strong>/var/lib/dpkg</strong>».</p>
</dd>
<dt>-O, --selected-only</dt>
<dd>
<p>Only process the packages that are selected for installation. The
actual marking is done with <strong>dselect</strong> or by
<strong>dpkg</strong>, when it handles packages. For example, when a
package is removed, it will be marked selected for deinstallation.</p>
</dd>
<dt>-E, --skip-same-version</dt>
<dd>
<p>Don't install the package if the same version and architecture of the
package is already installed. Since dpkg 1.21.10, the architecture is
also taken into account, which makes it possible to cross-grade packages
or install additional co-installable instances with the same version,
but different architecture.</p>
</dd>
<dt>--pre-invoke=command</dt>
<dd>

</dd>
</dl>
<dl>
<dt>--post-invoke=command</dt>
<dd>

</dd>
</dl>
<p>Set an invoke hook <em>command</em> to be run via “sh -c” before or
after the <strong>dpkg</strong> run for the <em>unpack</em>,
<em>configure</em>, <em>install</em>, <em>triggers-only</em>,
<em>remove</em>, <em>purge</em>, <em>add-architecture</em> and
<em>remove-architecture</em> <strong>dpkg</strong> actions (since dpkg
1.15.4; <em>add-architecture</em> and <em>remove-architecture</em>
actions since dpkg 1.17.19). This option can be specified multiple
times. The order the options are specified is preserved, with the ones
from the configuration files taking precedence. The environment variable
<strong>DPKG_HOOK_ACTION</strong> is set for the hooks to the current
<strong>dpkg</strong> action. <strong>Note:</strong> Front-ends might
call <strong>dpkg</strong> several times per invocation, which might run
the hooks more times than expected.</p>
<dl>
<dt>--path-exclude=glob-pattern</dt>
<dd>

</dd>
</dl>
<dl>
<dt>--path-include=glob-pattern</dt>
<dd>

</dd>
</dl>
<p>Set <em>glob-pattern</em> as a path filter, either by excluding or
re-including previously excluded paths matching the specified patterns
during install (since dpkg 1.15.8). <em>Warning: Take into account that
depending on the excluded paths you</em> might completely break your
system, use with caution. The glob patterns use the same wildcards used
in the shell, were ‘*’ matches any sequence of characters, including the
empty string and also ‘/’. For example, «<em>/usr/*/READ*</em>» matches
«<em>/usr/share/doc/package/README</em>». As usual, ‘?’ matches any
single character (again, including ‘/’). And ‘[’ starts a character
class, which can contain a list of characters, ranges and
complementations. See <strong>glob</strong>(7) for detailed information
about globbing. <strong>Note:</strong> The current implementation might
re-include more directories and symlinks than needed, in particular when
there is a more specific re-inclusion, to be on the safe side and avoid
possible unpack failures; future work might fix this. This can be used
to remove all paths except some particular ones; a typical case is:
--path-exclude=/usr/share/doc/*
--path-include=/usr/share/doc/*/copyright to remove all documentation
files except the copyright files. These two options can be specified
multiple times, and interleaved with each other. Both are processed in
the given order, with the last rule that matches a file name making the
decision. The filters are applied when unpacking the binary packages,
and as such only have knowledge of the type of object currently being
filtered (e.g. a normal file or a directory) and have not visibility of
what objects will come next. Because these filters have side effects (in
contrast to <strong>find</strong>(1) filters), excluding an exact
pathname that happens to be a directory object like
<em>/usr/share/doc</em> will not have the desired result, and only that
pathname will be excluded (which could be automatically reincluded if
the code sees the need). Any subsequent files contained within that
directory will fail to unpack. Hint: make sure the globs are not
expanded by your shell.</p>
<dl>
<dt>--verify-format format-name</dt>
<dd>
<p>Sets the output format for the <strong>--verify</strong> command
(since dpkg 1.17.2). The only currently supported output format is
<strong>rpm</strong>, which consists of a line for every path that
failed any check. These lines have the following format:</p>
</dd>
</dl>
<p><strong>missing</strong> [<strong>c</strong>] <em>pathname</em>
[<strong>(</strong><em>error-message</em><strong>)</strong>]
<strong>??5??????</strong> [<strong>c</strong>] <em>pathname</em> The
first 9 characters are used to report the checks result, either a
literal <strong>missing</strong> when the file is not present or its
metadata cannot be fetched, or one of the following special characters
that report the result for each check:</p>
<blockquote>
<dl>
<dt>‘?’</dt>
<dd>
<p>Implies the check could not be done (lack of support, file
permissions, etc).</p>
</dd>
<dt>‘.’</dt>
<dd>
<p>Implies the check passed.</p>
</dd>
<dt>‘A-Za-z0-9’</dt>
<dd>
<p>Implies a specific check failed. The following positions and
alphanumeric characters are currently supported:</p>
<dl>
<dt>1 ‘?’</dt>
<dd>
<p>These checks are currently not supported, will always be
‘<strong>?</strong>’.</p>
</dd>
<dt>2 ‘M’</dt>
<dd>
<p>The file mode check failed (since dpkg 1.21.0). Because pathname
metadata is currently not tracked, this check can only be partially
emulated via a very simple heuristic for pathnames that have a known
digest, which implies they should be regular files, where the check will
fail if the pathname is not a regular file on the filesystem. This check
will currently never succeed as it does not have enough information
available.</p>
</dd>
<dt>3 ‘5’</dt>
<dd>
<p>The digest check failed, which means the file contents have
changed.</p>
</dd>
<dt>4-9 ‘?’</dt>
<dd>
<p>These checks are currently not supported, will always be
‘<strong>?</strong>’.</p>
</dd>
</dl>
</dd>
</dl>
</blockquote>
<blockquote>
<p>The line is followed by a space and an attribute character. The
following attribute character is supported:</p>
<dl>
<dt>‘c’</dt>
<dd>
<p>The pathname is a conffile.</p>
</dd>
</dl>
</blockquote>
<blockquote>
<p>Finally followed by another space and the pathname. In case the entry
was of the <strong>missing</strong> type, and the file was not actually
present on the filesystem, then the line is followed by a space and the
error message enclosed within parenthesis.</p>
</blockquote>
<dl>
<dt>--status-fd n</dt>
<dd>
<p>Send machine-readable package status and progress information to file
descriptor <em>n</em>. This option can be specified multiple times. The
information is generally one record per line, in one of the following
forms:</p>
<dl>
<dt>status: package: status</dt>
<dd>
<p>Package status changed; <em>status</em> is as in the status file.</p>
</dd>
<dt>status: package : error : extended-error-message</dt>
<dd>
<p>An error occurred. Any possible newlines in
<em>extended-error-message</em> will be converted to spaces before
output.</p>
</dd>
<dt>status: file : conffile-prompt : 'real-old' 'real-new' useredited
distedited</dt>
<dd>
<p>User is being asked a conffile question.</p>
</dd>
<dt>processing: stage: package</dt>
<dd>
<p>Sent just before a processing stage starts. <em>stage</em> is one of
<strong>upgrade</strong>, <strong>install</strong> (both sent before
unpacking), <strong>configure</strong>, <strong>trigproc</strong>,
<strong>disappear</strong>, <strong>remove</strong>,
<strong>purge</strong>.</p>
</dd>
</dl>
</dd>
<dt>--status-logger=command</dt>
<dd>
<p>Send machine-readable package status and progress information to the
shell <em>command</em>'s standard input, to be run via “sh -c” (since
dpkg 1.16.0). This option can be specified multiple times. The output
format used is the same as in <strong>--status-fd</strong>.</p>
</dd>
<dt>--log=filename</dt>
<dd>
<p>Log status change updates and actions to <em>filename</em>, instead
of the default <em>/var/log/dpkg.log</em>. If this option is given
multiple times, the last filename is used. Log messages are of the
form:</p>
<dl>
<dt>YYYY-MM-DD HH:MM:SS startup type command</dt>
<dd>
<p>For each dpkg invocation where <em>type</em> is
<strong>archives</strong> (with a <em>command</em> of
<strong>unpack</strong> or <strong>install</strong>) or
<strong>packages</strong> (with a <em>command</em> of
<strong>configure</strong>, <strong>triggers-only</strong>,
<strong>remove</strong> or <strong>purge</strong>).</p>
</dd>
<dt>YYYY-MM-DD HH:MM:SS status state pkg installed-version</dt>
<dd>
<p>For status change updates.</p>
</dd>
<dt>YYYY-MM-DD HH:MM:SS action pkg installed-version
available-version</dt>
<dd>
<p>For actions where <em>action</em> is one of <strong>install</strong>,
<strong>upgrade</strong>, <strong>configure</strong>,
<strong>trigproc</strong>, <strong>disappear</strong>,
<strong>remove</strong> or <strong>purge</strong>.</p>
</dd>
<dt>YYYY-MM-DD HH:MM:SS conffile filename decision</dt>
<dd>
<p>For conffile changes where <em>decision</em> is either
<strong>install</strong> or <strong>keep</strong>.</p>
</dd>
</dl>
</dd>
<dt>--robot</dt>
<dd>
<p>Use a machine-readable output format. This provides an interface for
programs that need to parse the output of some of the commands that do
not otherwise emit a machine-readable output format. No localization
will be used, and the output will be modified to make it easier to
parse. The only currently supported command is
<strong>--version</strong>.</p>
</dd>
<dt>--no-pager</dt>
<dd>
<p>Disables the use of any pager when showing information (since dpkg
1.19.2).</p>
</dd>
<dt>--no-debsig</dt>
<dd>
<p>Do not try to verify package signatures.</p>
</dd>
<dt>--no-triggers</dt>
<dd>
<p>Do not run any triggers in this run (since dpkg 1.14.17), but
activations will still be recorded. If used with
<strong>--configure</strong> <em>package</em> or
<strong>--triggers-only</strong> <em>package</em> then the named package
postinst will still be run even if only a triggers run is needed. Use of
this option may leave packages in the improper
<strong>triggers-awaited</strong> and <strong>triggers-pending</strong>
states. This can be fixed later by running: <strong>dpkg --configure
--pending</strong>.</p>
</dd>
<dt>--triggers</dt>
<dd>
<p>Cancels a previous <strong>--no-triggers</strong> (since dpkg
1.14.17).</p>
</dd>
</dl>
<h1>EXIT STATUS</h1>
<ol start="0" type="1">
<li><p>The requested action was successfully performed. Or a check or
assertion command returned true.</p></li>
<li><p>A check or assertion command returned false.</p></li>
<li><p>Fatal or unrecoverable error due to invalid command-line usage,
or interactions with the system, such as accesses to the database,
memory allocations, etc.</p></li>
</ol>
<h1>ENVIRONMENT</h1>
<h2>External environment</h2>
<dl>
<dt>PATH</dt>
<dd>
<p>This variable is expected to be defined in the environment and point
to the system paths where several required programs are to be found. If
it's not set or the programs are not found, <strong>dpkg</strong> will
abort.</p>
</dd>
<dt>HOME</dt>
<dd>
<p>If set, <strong>dpkg</strong> will use it as the directory from which
to read the user specific configuration file.</p>
</dd>
<dt>TMPDIR</dt>
<dd>
<p>If set, <strong>dpkg</strong> will use it as the directory in which
to create temporary files and directories.</p>
</dd>
<dt>SHELL</dt>
<dd>
<p>The program <strong>dpkg</strong> will execute when starting a new
interactive shell, or when spawning a command via a shell.</p>
</dd>
<dt>PAGER</dt>
<dd>

</dd>
</dl>
<dl>
<dt>DPKG_PAGER</dt>
<dd>

</dd>
</dl>
<p>The program <strong>dpkg</strong> will execute when running a pager,
which will be executed with «<strong><code>$SHELL</code> -c</strong>»,
for example when displaying the conffile differences. If
<strong>SHELL</strong> is not set, «<strong>sh</strong>» will be used
instead. The <strong>DPKG_PAGER</strong> overrides the
<strong>PAGER</strong> environment variable (since dpkg 1.19.2).</p>
<dl>
<dt>DPKG_COLORS</dt>
<dd>
<p>Sets the color mode (since dpkg 1.18.5). The currently accepted
values are: <strong>auto</strong> (default), <strong>always</strong> and
<strong>never</strong>.</p>
</dd>
<dt>DPKG_DEBUG</dt>
<dd>
<p>Sets the debug mask (since dpkg 1.21.10) from an octal value. The
currently accepted flags are described in the <strong>--debug</strong>
option.</p>
</dd>
<dt>DPKG_FORCE</dt>
<dd>
<p>Sets the force flags (since dpkg 1.19.5). When this variable is
present, no built-in force defaults will be applied. If the variable is
present but empty, all force flags will be disabled.</p>
</dd>
<dt>DPKG_ADMINDIR</dt>
<dd>
<p>If set and the <strong>--admindir</strong> or <strong>--root</strong>
options have not been specified, it will be used as the
<strong>dpkg</strong> administrative directory (since dpkg 1.20.0).</p>
</dd>
<dt>DPKG_FRONTEND_LOCKED</dt>
<dd>
<p>Set by a package manager frontend to notify dpkg that it should not
acquire the frontend lock (since dpkg 1.19.1).</p>
</dd>
</dl>
<h2>Internal environment</h2>
<dl>
<dt>LESS</dt>
<dd>
<p>Defined by <strong>dpkg</strong> to “<strong>-FRSXMQ</strong>”, if
not already set, when spawning a pager (since dpkg 1.19.2). To change
the default behavior, this variable can be preset to some other value
including an empty string, or the <strong>PAGER</strong> or
<strong>DPKG_PAGER</strong> variables can be set to disable specific
options with «<strong>-+</strong>», for example <strong>DPKG_PAGER=less
-+F</strong>.</p>
</dd>
<dt>DPKG_ROOT</dt>
<dd>
<p>Defined by <strong>dpkg</strong> on the maintainer script environment
to indicate which installation to act on (since dpkg 1.18.5). The value
is intended to be prepended to any path maintainer scripts operate on.
During normal operation, this variable is empty. When installing
packages into a different <strong>instdir</strong>,
<strong>dpkg</strong> normally invokes maintainer scripts using
<strong>chroot</strong>(2) and leaves this variable empty, but if
<strong>--force-script-chrootless</strong> is specified then the
<strong>chroot</strong>(2) call is skipped and <strong>instdir</strong>
is non-empty.</p>
</dd>
<dt>DPKG_ADMINDIR</dt>
<dd>
<p>Defined by <strong>dpkg</strong> on the maintainer script environment
to indicate the <strong>dpkg</strong> administrative directory to use
(since dpkg 1.16.0). This variable is always set to the current
<strong>--admindir</strong> value.</p>
</dd>
<dt>DPKG_FORCE</dt>
<dd>
<p>Defined by <strong>dpkg</strong> on the subprocesses environment to
all the currently enabled force option names separated by commas (since
dpkg 1.19.5).</p>
</dd>
<dt>DPKG_SHELL_REASON</dt>
<dd>
<p>Defined by <strong>dpkg</strong> on the shell spawned on the conffile
prompt to examine the situation (since dpkg 1.15.6). Current valid
value: <strong>conffile-prompt</strong>.</p>
</dd>
<dt>DPKG_CONFFILE_OLD</dt>
<dd>
<p>Defined by <strong>dpkg</strong> on the shell spawned on the conffile
prompt to examine the situation (since dpkg 1.15.6). Contains the path
to the old conffile.</p>
</dd>
<dt>DPKG_CONFFILE_NEW</dt>
<dd>
<p>Defined by <strong>dpkg</strong> on the shell spawned on the conffile
prompt to examine the situation (since dpkg 1.15.6). Contains the path
to the new conffile.</p>
</dd>
<dt>DPKG_HOOK_ACTION</dt>
<dd>
<p>Defined by <strong>dpkg</strong> on the shell spawned when executing
a hook action (since dpkg 1.15.4). Contains the current
<strong>dpkg</strong> action.</p>
</dd>
<dt>DPKG_RUNNING_VERSION</dt>
<dd>
<p>Defined by <strong>dpkg</strong> on the maintainer script environment
to the version of the currently running <strong>dpkg</strong> instance
(since dpkg 1.14.17).</p>
</dd>
<dt>DPKG_MAINTSCRIPT_PACKAGE</dt>
<dd>
<p>Defined by <strong>dpkg</strong> on the maintainer script environment
to the (non-arch-qualified) package name being handled (since dpkg
1.14.17).</p>
</dd>
<dt>DPKG_MAINTSCRIPT_PACKAGE_REFCOUNT</dt>
<dd>
<p>Defined by <strong>dpkg</strong> on the maintainer script environment
to the package reference count, i.e. the number of package instances
with a state greater than <strong>not-installed</strong> (since dpkg
1.17.2).</p>
</dd>
<dt>DPKG_MAINTSCRIPT_ARCH</dt>
<dd>
<p>Defined by <strong>dpkg</strong> on the maintainer script environment
to the architecture the package got built for (since dpkg 1.15.4).</p>
</dd>
<dt>DPKG_MAINTSCRIPT_NAME</dt>
<dd>
<p>Defined by <strong>dpkg</strong> on the maintainer script environment
to the name of the script running, one of <strong>preinst</strong>,
<strong>postinst</strong>, <strong>prerm</strong> or
<strong>postrm</strong> (since dpkg 1.15.7).</p>
</dd>
<dt>DPKG_MAINTSCRIPT_DEBUG</dt>
<dd>
<p>Defined by <strong>dpkg</strong> on the maintainer script environment
to a value (‘<strong>0</strong>’ or ‘<strong>1</strong>’) noting whether
debugging has been requested (with the <strong>--debug</strong> option)
for the maintainer scripts (since dpkg 1.18.4).</p>
</dd>
</dl>
<h1>FILES</h1>
<dl>
<dt>/etc/dpkg/dpkg.cfg.d/[0-9a-zA-Z_-]*</dt>
<dd>
<p>Configuration fragment files (since dpkg 1.15.4).</p>
</dd>
<dt>/etc/dpkg/dpkg.cfg</dt>
<dd>
<p>Configuration file with default options.</p>
</dd>
<dt>/var/log/dpkg.log</dt>
<dd>
<p>Default log file (see <em>/etc/dpkg/dpkg.cfg</em> and option
<strong>--log</strong>).</p>
</dd>
</dl>
<p>The other files listed below are in their default directories, see
option <strong>--admindir</strong> to see how to change locations of
these files.</p>
<dl>
<dt>/var/lib/dpkg/available</dt>
<dd>
<p>List of available packages.</p>
</dd>
<dt>/var/lib/dpkg/status</dt>
<dd>
<p>Statuses of available packages. This file contains information about
whether a package is marked for removing or not, whether it is installed
or not, etc. See section <strong>INFORMATION ABOUT PACKAGES</strong> for
more info. The status file is backed up daily in <em>/var/backups</em>.
It can be useful if it's lost or corrupted due to filesystems
troubles.</p>
</dd>
</dl>
<p>The format and contents of a binary package are described in
<strong>deb</strong>(5).</p>
<h1>BUGS</h1>
<p><strong>--no-act</strong> usually gives less information than might
be helpful.</p>
<h1>EXAMPLES</h1>
<p>To list installed packages related to the editor
<strong>vi</strong>(1) (note that <strong>dpkg-query</strong> does not
load the <em>available</em> file anymore by default, and the
<strong>dpkg-query</strong> <strong>--load-avail</strong> option should
be used instead for that): dpkg -l *vi*</p>
<p>To see the entries in <em>/var/lib/dpkg/available</em> of two
packages: dpkg --print-avail elvis vim | less</p>
<p>To search the listing of packages yourself: less
/var/lib/dpkg/available</p>
<p>To remove an installed elvis package: dpkg -r elvis</p>
<p>To install a package, you first need to find it in an archive or
CDROM. The <em>available</em> file shows that the vim package is in
section <strong>editors</strong>: cd /media/cdrom/pool/main/v/vim dpkg
-i vim_4.5-3.deb</p>
<p>To make a local copy of the package selection states: dpkg
--get-selections&gt; myselections</p>
<p>You might transfer this file to another computer, and after having
updated the <em>available</em> file there with your package manager
frontend of choice (see
&lt;https://wiki.debian.org/Teams/Dpkg/FAQ#set-selections&gt; for more
details), for example: apt-cache dumpavail | dpkg --merge-avail</p>
<p>or with dpkg 1.17.6 and earlier: avail=$(mktemp) apt-cache
dumpavail&gt; "$avail" dpkg --merge-avail "$avail" rm "$avail"</p>
<p>you can install it with: dpkg --clear-selections dpkg
--set-selections &lt;myselections</p>
<p>Note that this will not actually install or remove anything, but just
set the selection state on the requested packages. You will need some
other application to actually download and install the requested
packages. For example, run <strong>apt-get dselect-upgrade</strong>.</p>
<p>Ordinarily, you will find that <strong>dselect</strong>(1) provides a
more convenient way to modify the package selection states.</p>
<h1>ADDITIONAL FUNCTIONALITY</h1>
<p>Additional functionality can be gained by installing any of the
following packages: <strong>apt</strong>, <strong>aptitude</strong> and
<strong>debsums</strong>.</p>
<h1>SEE ALSO</h1>
<p><strong>aptitude</strong>(8), <strong>apt</strong>(8),
<strong>dselect</strong>(1), <strong>dpkg-deb</strong>(1),
<strong>dpkg-query</strong>(1), <strong>deb</strong>(5),
<strong>deb-control</strong>(5), <strong>dpkg.cfg</strong>(5), and
<strong>dpkg-reconfigure</strong>(8).</p>
<h1>AUTHORS</h1>
<p>See <em>/usr/share/doc/dpkg/THANKS</em> for the list of people who
have contributed to <strong>dpkg</strong>.</p>
