<link rel='stylesheet' href='../style.css'>
<script src='../script.js'></script>
<h1>NAME</h1>
<p>discover — hardware detection utility</p>
<h1>SYNOPSIS</h1>
<p><strong>discover</strong> [DATA_OPTIONS] [DISPLAY_OPTIONS]
[--bus-summary] [bus ...]</p>
<p><strong>discover</strong> [DATA_OPTIONS] [DISPLAY_OPTIONS]
--type-summary [type ...]</p>
<p><strong>discover</strong> [DATA_OPTIONS]
--data-path=<em>path/to/data</em> ... [--data-version=<em>version</em>]
[--normalize-whitespace] [--format=<em>format string</em>] [type | id
...]</p>
<dl>
<dt>DATA_OPTIONS</dt>
<dd>
<dl>
<dt> ·</dt>
<dd>
<p><strong>-d | --disable-bus=</strong><em>bus</em> <em></em> </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>-e | --enable-bus=</strong><em>bus</em> <em></em> </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>--insert-url=</strong><em>url</em> <em></em> </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>--append-url=</strong><em>url</em> <em></em> </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>-v | --verbose</strong> <em></em> </p>
</dd>
</dl>
</dd>
<dt>DISPLAY_OPTIONS</dt>
<dd>
<dl>
<dt> ·</dt>
<dd>
<p><strong>--model | --no-model</strong> <em></em> </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>--model-id | --no-model-id</strong> <em></em> </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>--vendor | --no-vendor</strong> <em></em> </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>--vendor-id | --no-vendor-id</strong> <em></em> </p>
</dd>
</dl>
</dd>
</dl>
<h1>Description</h1>
<p><strong>discover</strong> provides an extensible hardware detection
and reporting interface. Hardware information is stored in an XML data
format and can be retrieved across the network.</p>
<p>Fundamental modes of operation:</p>
<dl>
<dt> ·</dt>
<dd>
<p>Display a list of hardware devices based on type of device or system
bus on which the devices reside, via <strong>--type-summary</strong> or
<strong>--bus-summary</strong> (the latter of which is the default
behavior). </p>
</dd>
<dt> ·</dt>
<dd>
<p>Query specified data for attached hardware, via
<strong>--data-path</strong>. </p>
</dd>
</dl>
<h1>Options</h1>
<dl>
<dt>-h | --help</dt>
<dd>
<p>Display a simple help message. </p>
</dd>
<dt>-v | --verbose</dt>
<dd>
<p>Instruct the tool to provide feedback as it operates. This will
affect the output as <strong>discover</strong> parses certain arguments,
so this should appear early in the command line. </p>
</dd>
<dt>-V | --version</dt>
<dd>
<p>Display the tool name and version. </p>
</dd>
<dt>-b | --bus-summary</dt>
<dd>
<p>This is the default behavior: Display basic information regarding all
devices on the appropriate buses. See <em>"Selecting Buses"</em> &gt;.
</p>
</dd>
<dt>-t | --type-summary</dt>
<dd>
<p>Summarize devices by class of hardware. Examples of valid device
types include <strong>broadband</strong>, <strong>fixeddisk</strong>,
<strong>display</strong>, and <strong>network</strong>. See <em>"Device
Types"</em> &gt;. </p>
</dd>
<dt>--data-path=path/to/data</dt>
<dd>
<p>Query matching devices for detailed information. Device-specific data
is stored in a hierarchical fashion, and the query argument comprises
strings naming each level in that hierarchy. </p>
</dd>
<dt></dt>
<dd>
<p>Typically, the top-level component of the data path will be the
``<em>platform'' that will need</em> the information, such as
<strong>linux</strong> <em>or</em> <strong>xfree86</strong><em>. For
example, to retrieve</em> the Linux kernel module name for a piece of
hardware, the <strong>--data-path</strong> <em>argument would be</em>
<strong>linux/module/name</strong><em>.</em> </p>
</dd>
<dt></dt>
<dd>
<p>If multiple <strong>--data-path</strong> <em>arguments are given and
no format string (see</em> <strong>--format</strong><em>) is provided,
only the last</em> path is used. </p>
</dd>
<dt></dt>
<dd>
<p>See also the <strong>--data-version</strong> <em>argument.</em> </p>
</dd>
<dt>--data-version=version</dt>
<dd>
<p>Specify a version string for the platform that will use the
information specified by the argument to
<strong>--data-path</strong><em>.</em> </p>
</dd>
<dt></dt>
<dd>
<p>This string must be in dotted-decimal notation in order to be matched
against a range of values, and thus may be shorter than the real
version. </p>
</dd>
<dt>--format=format string</dt>
<dd>
<p>Dictate the output of the results of the queries specified by
<strong>--data-path</strong> <em>arguments.</em> This format string
should follow <strong>printf(3)</strong> <em>specifications,
although</em> only <strong>%s</strong> <em>and appropriate flags,</em>
precision, and width values are supported (or make sense); literal text
and <strong>%%</strong> <em>can also be used. The behavior when the
string is</em> poorly formatted is undefined. See also
<strong>--normalize-whitespace</strong><em>.</em> </p>
</dd>
<dt>-d | --disable-bus=bus</dt>
<dd>
<p>Use this option to override the list of buses to scan by default as
defined in <strong>discover.conf</strong><em>. Use</em> <em>all</em> as
an argument to disable all buses; this is useful only if followed by
<strong>--enable-bus</strong> (or <strong>-e</strong>) arguments. </p>
</dd>
<dt>-e | --enable-bus=bus</dt>
<dd>
<p>Specify a bus to be scanned. </p>
</dd>
<dt>--insert-url=url</dt>
<dd>
<p>Insert a URL at the head of the list of network resources to include
in the search for hardware information. Earlier data overrides later
data; to override the local data sources, insert URLs into the list. See
also <strong>--append-url</strong><em>.</em> </p>
</dd>
<dt>--append-url=url</dt>
<dd>
<p>Append a URL to the end of the list of network resources to search
for hardware information. See also
<strong>--insert-url</strong><em>.</em> </p>
</dd>
<dt>--model</dt>
<dd>
<p>Include the model description in summary information. This is enabled
by default. </p>
</dd>
<dt>--model-id</dt>
<dd>
<p>Include the numeric model identifier in summary information. </p>
</dd>
<dt>--no-model</dt>
<dd>
<p>Do not include the model description in summary information. </p>
</dd>
<dt>--no-model-id</dt>
<dd>
<p>Do not include the numeric model identifier in summary information.
This is the default. </p>
</dd>
<dt>--vendor</dt>
<dd>
<p>Include the vendor description in summary information. This is
enabled by default. </p>
</dd>
<dt>--vendor-id</dt>
<dd>
<p>Include the numeric vendor identifier in summary information. </p>
</dd>
<dt>--no-vendor</dt>
<dd>
<p>Do not include the vendor description in summary information. </p>
</dd>
<dt>--no-vendor-id</dt>
<dd>
<p>Do not include the numeric vendor identifier in summary information.
This is the default. </p>
</dd>
<dt>--normalize-whitespace</dt>
<dd>
<p>Consolidate whitespace in the results of a
<strong>--data-path</strong> <em>query. The default is not to do
so,</em> which faithfully reproduces all text in the raw XML data. </p>
</dd>
<dt></dt>
<dd>
<p>With this option enabled, leading and trailing whitespace is removed,
and any consecutive internal whitespaces are compressed to a single
space character. </p>
</dd>
</dl>
<h1>Selecting Buses</h1>
<p><strong>discover.conf</strong> <em>defines two lists of system</em>
buses: one to scan by default (used by the <strong>discover</strong>
command), and one never to scan (used by the <strong>Discover</strong>
library).</p>
<p>You can override and/or extend the list of default buses with
<strong>--disable-bus</strong> and <strong>--enable-bus</strong>. The
list of buses <em>not</em> to scan cannot be overridden without changing
<strong>discover.conf</strong>, so that list should be used only for
buses that may be dangerous to probe.</p>
<p>Both arguments take the string ``<em>all</em>'' as a value.</p>
<p>If a bus summary is being performed, which is indicated either by the
presence of <strong>--bus-summary</strong> or the absence of
<strong>--type-summary</strong> and <strong>--data-path</strong>, any
unattached arguments on the command line will be interpreted as the only
buses to scan. This is equivalent to using
<strong>--disable-bus</strong> all before invoking
<strong>--enable-bus</strong> for the buses of interest.</p>
<p>The following buses are currently supported by
<strong>Discover</strong>:</p>
<dl>
<dt> ·</dt>
<dd>
<p><strong>ata</strong> </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>pci</strong> </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>pcmcia</strong> </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>scsi</strong> </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>usb</strong> </p>
</dd>
</dl>
<h1>Device Types</h1>
<p><strong>Discover</strong> defines its own device types, to which the
device types used by each bus are mapped. <strong>Discover</strong>
currently recognizes the following device types:</p>
<dl>
<dt> ·</dt>
<dd>
<p><strong>audio</strong> </p>
</dd>
<dt></dt>
<dd>
<p>A device capable of producing an analog or digital sound signal is an
<em>audio</em> device. Typically, any device commonly referred to as a
``<em>sound card</em>'' is classified by <strong>Discover</strong> as an
audio device. </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>bridge</strong> </p>
</dd>
<dt></dt>
<dd>
<p>A device that provides access to devices of a different type,
commonly on a different bus, is a <em>bridge</em> device. For instance,
consumer PCI chipsets often feature a bridge to ATA (also known as IDE)
devices. </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>broadband</strong> </p>
</dd>
<dt></dt>
<dd>
<p>An interface device to a computer communications network implemented
on top of a technology not explicitly designed for that purpose is a
<em>broadband</em> device. Examples include ISDN terminal adapters as
well as DSL and cable ``<em>modems</em>''; analog phone-line modems are
not included in this classification (see ``<em>modem</em>'' below). </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>display</strong> </p>
</dd>
<dt></dt>
<dd>
<p>A device controlled by the host machine's CPU and capable of
producing an analog or digital video signal for output purposes is a
<em>display</em> device. Typically, any device commonly referred to as a
``<em>video card</em>'' is classified by <strong>Discover</strong> as a
display device. </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>fixeddisk</strong> </p>
</dd>
<dt></dt>
<dd>
<p>A high-speed, fixed magnetic storage device such as a hard disk drive
is a <em>fixeddisk</em> device. Removable media devices such as floppy
disk drives, CD-ROM drives, magneto-optical devices, tape drives, and
Compact Flash card readers are not included in this classification. </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>humaninput</strong> </p>
</dd>
<dt></dt>
<dd>
<p>A device that receives tactile input from a person for the purpose of
directing a computer's activity is a <em>humaninput</em> device.
Examples include keyboards, mice, trackballs, joysticks, gamepads,
digital tablets manipulated with a stylus or finger, and so forth. Input
devices that rely upon non-tactile means of determining a person's
intent, such as speech-recognition devices or cameras, are not included
in this classification. </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>imaging</strong> </p>
</dd>
<dt></dt>
<dd>
<p>A device that captures still images for input purposes is an
<em>imaging</em> device. Scanners and digital cameras are examples of
imaging devices. Motion-capture devices such as television tuner cards,
webcams, and digital video cameras are not included in this
classification. </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>miscellaneous</strong> </p>
</dd>
<dt></dt>
<dd>
<p>Any device that cannot logically be classified as another device type
is a <em>miscellaneous</em> device. </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>modem</strong> </p>
</dd>
<dt></dt>
<dd>
<p>An analog phone-line modulator/demodulator (modem) is classified by
<strong>Discover</strong> as a <em>modem</em> device. No other kind of
device is so classified. </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>network</strong> </p>
</dd>
<dt></dt>
<dd>
<p>An interface device to a conventional computer data communications
network that does not require the use of a terminal adapter is a
<em>network</em> device. For example, Ethernet and Token Ring network
interface cards are network devices. Analog phone-line modems; terminal
adapters for technologies such as ISDN and DSL; and ``<em>cable
modems</em>'' are not ``<em>network</em>'' devices. </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>optical</strong> </p>
</dd>
<dt></dt>
<dd>
<p>An optical-technology storage device, often using read-only media, is
an <em>optical</em> device. By far the most common examples of these
devices are CD-ROM and DVD-ROM drives, including versions of these
drives that can ``<em>burn</em>'' (write to) optical discs. </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>printer</strong> </p>
</dd>
<dt></dt>
<dd>
<p>A device that renders visual output in a permanent or semi-permanent
manner to a physical medium is a <em>printer</em>. Typically, any device
colloquially referred to as a ``<em>printer</em>'' is also classified by
<strong>Discover</strong> as a printer. </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>removabledisk</strong> </p>
</dd>
<dt></dt>
<dd>
<p>Storage devices that feature removable media using just about any
technology except that of magnetic tape, CD-ROM, and DVD-ROM drives are
<em>removabledisk</em> devices. Examples include floppy disk drives,
magneto-optical drives, and Compact Flash card readers. </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>tape</strong> </p>
</dd>
<dt></dt>
<dd>
<p>A sequential-access mass storage device using magnetic tape is a
<em>tape</em> device. Commonly used for archival and backup purposes,
DAT drives are examples of tape devices. </p>
</dd>
<dt> ·</dt>
<dd>
<p><strong>video</strong> </p>
</dd>
<dt></dt>
<dd>
<p>A device that produces a real-time digital video signal for input
purposes is a <em>video</em> device. Webcams, digital video cameras, and
television tuners are examples of video devices. Note that still digital
cameras with ``<em>movie</em>'' capability are <em>not</em> considered
video devices unless they can transmit the live video signal to the host
in real time. </p>
</dd>
</dl>
<h1>Examples</h1>
<p><strong>Scan the local buses</strong></p>
<pre><code># discover 
Intel Corporation 82815 Chipset Host Bridge and Memory Controller Hub 
unknown unknown 
unknown unknown 
unknown unknown 
Intel Corporation 82815 Chipset IDE controller 
Intel Corporation 82815 Chipset USB (A) 
Intel Corporation 82815 System Management bus controller 
ATI Technologies, Inc. Rage 128 Pro GL [PF] 
3Com Corporation 3c905C-TX [Fast Etherlink] 
Ensoniq ES1371 [AudioPCI-97] 
unknown unknown </code></pre>
<p><strong>View PCI video cards</strong></p>
<pre><code># discover -v --type-summary --disable-bus all --enable-bus pci display 
Disabled pci 
Disabled pcmcia 
Disabled scsi 
Disabled usb 
Enabled pci 
Loading XML data... pci Done 
Scanning buses... pci Done 
ATI Technologies, Inc. Rage 128 Pro GL [PF] </code></pre>
<p><strong>Query for the driver module for</strong> XFree86 server
version 4.2.0</p>
<pre><code># discover --data-path=xfree86/server/device/driver --data-version=4.2.0 display 
ati </code></pre>
<p><strong>Get model and vendor</strong> information by type</p>
<pre><code>$ discover -t --no-model 
Intel Corporation 
NVIDIA Corporation 
3Com Corporation 
$ discover -t --no-vendor 
82815 System Management bus controller 
Vanta [NV6] 
3c905C-TX [Fast Etherlink] </code></pre>
<h1>Files</h1>
<dl>
<dt>/etc/discover.conf.d</dt>
<dd>
<p>The directory containing configuration files that control the default
behavior for both the <strong>discover</strong> tool and the
<strong>Discover</strong> library. </p>
</dd>
<dt>file:///lib/discover/list.xml</dt>
<dd>
<p>An XML file containing URLs with hardware information. This list can
be extended with <strong>--append-url</strong> and
<strong>--extend-url</strong>. </p>
</dd>
</dl>
<h1>Authors</h1>
<p>Josh Bressers, John R. Daily, and G. Branden Robinson developed the
current implementation of <strong>Discover</strong> for Progeny Linux
Systems.</p>
<p>The Linux implementation of the system-dependent interfaces is
derived from <strong>detect</strong>, by MandrakeSoft SA.</p>
<h1>See Also</h1>
<p>discover.conf(5), discover-modprobe(8)</p>
