<pre><code></code></pre>
<p><br />
</p>
<link rel='stylesheet' href='../style.css'>
<script src='../script.js'></script>
<h1>NAME</h1>
<p>openssl-req - PKCS#10 certificate request and certificate generating
command</p>
<h1>SYNOPSIS</h1>
<p><strong>openssl</strong> <strong>req</strong>
[<strong>-help</strong>] [<strong>-inform</strong>
<strong>DER</strong>|<strong>PEM</strong>] [<strong>-outform</strong>
<strong>DER</strong>|<strong>PEM</strong>] [<strong>-in</strong>
<em>filename</em>] [<strong>-passin</strong> <em>arg</em>]
[<strong>-out</strong> <em>filename</em>] [<strong>-passout</strong>
<em>arg</em>] [<strong>-text</strong>] [<strong>-pubkey</strong>]
[<strong>-noout</strong>] [<strong>-verify</strong>]
[<strong>-modulus</strong>] [<strong>-new</strong>]
[<strong>-newkey</strong> <em>arg</em>] [<strong>-pkeyopt</strong>
<em>opt</em>:<em>value</em>] [<strong>-noenc</strong>]
[<strong>-nodes</strong>] [<strong>-key</strong>
<em>filename</em>|<em>uri</em>] [<strong>-keyform</strong>
<strong>DER</strong>|<strong>PEM</strong>|<strong>P12</strong>|<strong>ENGINE</strong>]
[<strong>-keyout</strong> <em>filename</em>]
[<strong>-keygen_engine</strong> <em>id</em>]
[<strong>-<em>digest</em></strong>] [<strong>-config</strong>
<em>filename</em>] [<strong>-section</strong> <em>name</em>]
[<strong>-x509</strong>] [<strong>-CA</strong>
<em>filename</em>|<em>uri</em>] [<strong>-CAkey</strong>
<em>filename</em>|<em>uri</em>] [<strong>-days</strong> <em>n</em>]
[<strong>-set_serial</strong> <em>n</em>] [<strong>-newhdr</strong>]
[<strong>-copy_extensions</strong> <em>arg</em>]
[<strong>-addext</strong> <em>ext</em>] [<strong>-extensions</strong>
<em>section</em>] [<strong>-reqexts</strong> <em>section</em>]
[<strong>-precert</strong>] [<strong>-utf8</strong>]
[<strong>-reqopt</strong>] [<strong>-subject</strong>]
[<strong>-subj</strong> <em>arg</em>] [<strong>-multivalue-rdn</strong>]
[<strong>-sigopt</strong> <em>nm</em>:<em>v</em>]
[<strong>-vfyopt</strong> <em>nm</em>:<em>v</em>]
[<strong>-batch</strong>] [<strong>-verbose</strong>]
[<strong>-nameopt</strong> <em>option</em>] [<strong>-rand</strong>
<em>files</em>] [<strong>-writerand</strong> <em>file</em>]
[<strong>-engine</strong> <em>id</em>] [<strong>-provider</strong>
<em>name</em>] [<strong>-provider-path</strong> <em>path</em>]
[<strong>-propquery</strong> <em>propq</em>]</p>
<h1>DESCRIPTION</h1>
<p>This command primarily creates and processes certificate requests
(CSRs) in PKCS#10 format. It can additionally create self-signed
certificates for use as root CAs for example.</p>
<h1>OPTIONS</h1>
<dl>
<dt>-help</dt>
<dd>
<p>Print out a usage message.</p>
</dd>
<dt>-inform DER|PEM, -outform DER|PEM</dt>
<dd>
<p>The input and output formats; unspecified by default. See
<strong>openssl-format-options</strong> (1) for details. The data is a
PKCS#10 object.</p>
</dd>
<dt>-in filename</dt>
<dd>
<p>This specifies the input filename to read a request from. This
defaults to standard input unless <strong>-x509</strong> or
<strong>-CA</strong> is specified. A request is only read if the
creation options (<strong>-new</strong> or <strong>-newkey</strong> or
<strong>-precert</strong>) are not specified.</p>
</dd>
<dt>-sigopt nm:v</dt>
<dd>
<p>Pass options to the signature algorithm during sign operations. Names
and values of these options are algorithm-specific.</p>
</dd>
<dt>-vfyopt nm:v</dt>
<dd>
<p>Pass options to the signature algorithm during verify operations.
Names and values of these options are algorithm-specific.</p>
</dd>
<dt>-passin arg</dt>
<dd>
<p>The password source for private key and certificate input. For more
information about the format of <strong>arg</strong> see
<strong>openssl-passphrase-options</strong> (1).</p>
</dd>
<dt>-passout arg</dt>
<dd>
<p>The password source for the output file. For more information about
the format of <strong>arg</strong> see
<strong>openssl-passphrase-options</strong> (1).</p>
</dd>
<dt>-out filename</dt>
<dd>
<p>This specifies the output filename to write to or standard output by
default.</p>
</dd>
<dt>-text</dt>
<dd>
<p>Prints out the certificate request in text form.</p>
</dd>
<dt>-subject</dt>
<dd>
<p>Prints out the certificate request subject (or certificate subject if
<strong>-x509</strong> is in use).</p>
</dd>
<dt>-pubkey</dt>
<dd>
<p>Prints out the public key.</p>
</dd>
<dt>-noout</dt>
<dd>
<p>This option prevents output of the encoded version of the certificate
request.</p>
</dd>
<dt>-modulus</dt>
<dd>
<p>Prints out the value of the modulus of the public key contained in
the request.</p>
</dd>
<dt>-verify</dt>
<dd>
<p>Verifies the self-signature on the request.</p>
</dd>
<dt>-new</dt>
<dd>
<p>This option generates a new certificate request. It will prompt the
user for the relevant field values. The actual fields prompted for and
their maximum and minimum sizes are specified in the configuration file
and any requested extensions. If the <strong>-key</strong> option is not
given it will generate a new private key using information specified in
the configuration file or given with the <strong>-newkey</strong> and
<strong>-pkeyopt</strong> options, else by default an RSA key with 2048
bits length.</p>
</dd>
<dt>-newkey arg</dt>
<dd>
<p>This option is used to generate a new private key unless
<strong>-key</strong> is given. It is subsequently used as if it was
given using the <strong>-key</strong> option. This option implies the
<strong>-new</strong> flag to create a new certificate request or a new
certificate in case <strong>-x509</strong> is given. The argument takes
one of several forms. [<strong>rsa:</strong>]<em>nbits</em> generates an
RSA key <em>nbits</em> in size. If <em>nbits</em> is omitted, i.e.,
<strong>-newkey</strong> <strong>rsa</strong> is specified, the default
key size specified in the configuration file with the
<strong>default_bits</strong> option is used if present, else 2048. All
other algorithms support the <strong>-newkey</strong>
<em>algname</em>:<em>file</em> form, where <em>file</em> is an algorithm
parameter file, created with <code>openssl genpkey -genparam</code> or
an X.509 certificate for a key with appropriate algorithm.
<strong>param:</strong><em>file</em> generates a key using the parameter
file or certificate <em>file</em>, the algorithm is determined by the
parameters. <em>algname</em>[:<em>file</em>] generates a key using the
given algorithm <em>algname</em>. If a parameter file <em>file</em> is
given then the parameters specified there are used, where the algorithm
parameters must match <em>algname</em>. If algorithm parameters are not
given, any necessary parameters should be specified via the
<strong>-pkeyopt</strong> option. <strong>dsa:</strong><em>filename</em>
generates a DSA key using the parameters in the file <em>filename</em>.
<strong>ec:</strong><em>filename</em> generates EC key (usable both with
ECDSA or ECDH algorithms), <strong>gost2001:</strong><em>filename</em>
generates GOST R 34.10-2001 key (requires <strong>gost</strong> engine
configured in the configuration file). If just <strong>gost2001</strong>
is specified a parameter set should be specified by
<strong>-pkeyopt</strong> <em>paramset:X</em></p>
</dd>
<dt>-pkeyopt opt:value</dt>
<dd>
<p>Set the public key algorithm option <em>opt</em> to <em>value</em>.
The precise set of options supported depends on the public key algorithm
used and its implementation. See KEY GENERATION OPTIONS in
<strong>openssl-genpkey</strong> (1) for more details.</p>
</dd>
<dt>-key filename|uri</dt>
<dd>
<p>This option provides the private key for signing a new certificate or
certificate request. Unless <strong>-in</strong> is given, the
corresponding public key is placed in the new certificate or certificate
request, resulting in a self-signature. For certificate signing this
option is overridden by the <strong>-CA</strong> option. This option
also accepts PKCS#8 format private keys for PEM format files.</p>
</dd>
<dt>-keyform DER|PEM|P12|ENGINE</dt>
<dd>
<p>The format of the private key; unspecified by default. See
<strong>openssl-format-options</strong> (1) for details.</p>
</dd>
<dt>-keyout filename</dt>
<dd>
<p>This gives the filename to write any private key to that has been
newly created or read from <strong>-key</strong>. If neither the
<strong>-keyout</strong> option nor the <strong>-key</strong> option are
given then the filename specified in the configuration file with the
<strong>default_keyfile</strong> option is used, if present. Thus, if
you want to write the private key and the <strong>-key</strong> option
is provided, you should provide the <strong>-keyout</strong> option
explicitly. If a new key is generated and no filename is specified the
key is written to standard output.</p>
</dd>
<dt>-noenc</dt>
<dd>
<p>If this option is specified then if a private key is created it will
not be encrypted.</p>
</dd>
<dt>-nodes</dt>
<dd>
<p>This option is deprecated since OpenSSL 3.0; use
<strong>-noenc</strong> instead.</p>
</dd>
<dt>-digest</dt>
<dd>
<p>This specifies the message digest to sign the request. Any digest
supported by the OpenSSL <strong>dgst</strong> command can be used. This
overrides the digest algorithm specified in the configuration file. Some
public key algorithms may override this choice. For instance, DSA
signatures always use SHA1, GOST R 34.10 signatures always use GOST R
34.11-94 (<strong>-md_gost94</strong>), Ed25519 and Ed448 never use any
digest.</p>
</dd>
<dt>-config filename</dt>
<dd>
<p>This allows an alternative configuration file to be specified.
Optional; for a description of the default value, see COMMAND SUMMARY in
<strong>openssl</strong> (1).</p>
</dd>
<dt>-section name</dt>
<dd>
<p>Specifies the name of the section to use; the default is
<strong>req</strong>.</p>
</dd>
<dt>-subj arg</dt>
<dd>
<p>Sets subject name for new request or supersedes the subject name when
processing a certificate request. The arg must be formatted as
<code>/type0=value0/type1=value1/type2=...</code>. Special characters
may be escaped by <code>\</code> (backslash), whitespace is retained.
Empty values are permitted, but the corresponding type will not be
included in the request. Giving a single <code>/</code> will lead to an
empty sequence of RDNs (a NULL-DN). Multi-valued RDNs can be formed by
placing a <code>+</code> character instead of a <code>/</code> between
the AttributeValueAssertions (AVAs) that specify the members of the set.
Example:
<code>/DC=org/DC=OpenSSL/DC=users/UID=123456+CN=John Doe</code></p>
</dd>
<dt>-multivalue-rdn</dt>
<dd>
<p>This option has been deprecated and has no effect.</p>
</dd>
<dt>-x509</dt>
<dd>
<p>This option outputs a certificate instead of a certificate request.
This is typically used to generate test certificates. It is implied by
the <strong>-CA</strong> option. This option implies the
<strong>-new</strong> flag if <strong>-in</strong> is not given. If an
existing request is specified with the <strong>-in</strong> option, it
is converted to the a certificate; otherwise a request is created from
scratch. Unless specified using the <strong>-set_serial</strong> option,
a large random number will be used for the serial number. Unless the
<strong>-copy_extensions</strong> option is used, X.509 extensions are
not copied from any provided request input file. X.509 extensions to be
added can be specified in the configuration file or using the
<strong>-addext</strong> option.</p>
</dd>
<dt>-CA filename|uri</dt>
<dd>
<p>Specifies the CA certificate to be used for signing a new certificate
and implies use of <strong>-x509</strong>. When present, this behaves
like a micro CA as follows: The subject name of the CA certificate is
placed as issuer name in the new certificate, which is then signed using
the CA key given as specified below.</p>
</dd>
<dt>-CAkey filename|uri</dt>
<dd>
<p>Sets the CA private key to sign a certificate with. The private key
must match the public key of the certificate given with
<strong>-CA</strong>. If this option is not provided then the key must
be present in the <strong>-CA</strong> input.</p>
</dd>
<dt>-days n</dt>
<dd>
<p>When <strong>-x509</strong> is in use this specifies the number of
days to certify the certificate for, otherwise it is ignored. <em>n</em>
should be a positive integer. The default is 30 days.</p>
</dd>
<dt>-set_serial n</dt>
<dd>
<p>Serial number to use when outputting a self-signed certificate. This
may be specified as a decimal value or a hex value if preceded by
<code>0x</code>. If not given, a large random number will be used.</p>
</dd>
<dt>-copy_extensions arg</dt>
<dd>
<p>Determines how X.509 extensions in certificate requests should be
handled when <strong>-x509</strong> is in use. If <em>arg</em> is
<strong>none</strong> or this option is not present then extensions are
ignored. If <em>arg</em> is <strong>copy</strong> or
<strong>copyall</strong> then all extensions in the request are copied
to the certificate. The main use of this option is to allow a
certificate request to supply values for certain extensions such as
subjectAltName.</p>
</dd>
<dt>-addext ext</dt>
<dd>
<p>Add a specific extension to the certificate (if
<strong>-x509</strong> is in use) or certificate request. The argument
must have the form of a key=value pair as it would appear in a config
file. This option can be given multiple times.</p>
</dd>
<dt>-extensions section</dt>
<dd>

</dd>
</dl>
<dl>
<dt>-reqexts section</dt>
<dd>

</dd>
</dl>
<p>These options specify alternative sections to include certificate
extensions (if <strong>-x509</strong> is in use) or certificate request
extensions. This allows several different sections to be used in the
same configuration file to specify requests for a variety of
purposes.</p>
<dl>
<dt>-precert</dt>
<dd>
<p>A poison extension will be added to the certificate, making it a
pre-certificate (see RFC6962). This can be submitted to Certificate
Transparency logs in order to obtain signed certificate timestamps
(SCTs). These SCTs can then be embedded into the pre-certificate as an
extension, before removing the poison and signing the certificate. This
implies the <strong>-new</strong> flag.</p>
</dd>
<dt>-utf8</dt>
<dd>
<p>This option causes field values to be interpreted as UTF8 strings, by
default they are interpreted as ASCII. This means that the field values,
whether prompted from a terminal or obtained from a configuration file,
must be valid UTF8 strings.</p>
</dd>
<dt>-reqopt option</dt>
<dd>
<p>Customise the printing format used with <strong>-text</strong>. The
<em>option</em> argument can be a single option or multiple options
separated by commas. See discussion of the <strong>-certopt</strong>
parameter in the <strong>openssl-x509</strong> (1) command.</p>
</dd>
<dt>-newhdr</dt>
<dd>
<p>Adds the word <strong>NEW</strong> to the PEM file header and footer
lines on the outputted request. Some software (Netscape certificate
server) and some CAs need this.</p>
</dd>
<dt>-batch</dt>
<dd>
<p>Non-interactive mode.</p>
</dd>
<dt>-verbose</dt>
<dd>
<p>Print extra details about the operations being performed.</p>
</dd>
<dt>-keygen_engine id</dt>
<dd>
<p>Specifies an engine (by its unique <em>id</em> string) which would be
used for key generation operations.</p>
</dd>
<dt>-nameopt option</dt>
<dd>
<p>This specifies how the subject or issuer names are displayed. See
<strong>openssl-namedisplay-options</strong> (1) for details.</p>
</dd>
<dt>-rand files, -writerand file</dt>
<dd>
<p>See Random State Options in <strong>openssl</strong> (1) for
details.</p>
</dd>
<dt>-engine id</dt>
<dd>
<p>See Engine Options in <strong>openssl</strong> (1). This option is
deprecated.</p>
</dd>
<dt>-provider name</dt>
<dd>

</dd>
</dl>
<dl>
<dt>-provider-path path</dt>
<dd>

</dd>
<dt>-propquery propq</dt>
<dd>

</dd>
</dl>
<p>See Provider Options in <strong>openssl</strong> (1),
<strong>provider</strong> (7), and <strong>property</strong> (7).</p>
<h1>CONFIGURATION FILE FORMAT</h1>
<p>The configuration options are specified in the <strong>req</strong>
section of the configuration file. An alternate name be specified by
using the <strong>-section</strong> option. As with all configuration
files, if no value is specified in the specific section then the initial
unnamed or <strong>default</strong> section is searched too.</p>
<p>The options available are described in detail below.</p>
<dl>
<dt>input_password, output_password</dt>
<dd>
<p>The passwords for the input private key file (if present) and the
output private key file (if one will be created). The command line
options <strong>passin</strong> and <strong>passout</strong> override
the configuration file values.</p>
</dd>
<dt>default_bits</dt>
<dd>
<p>Specifies the default key size in bits. This option is used in
conjunction with the <strong>-new</strong> option to generate a new key.
It can be overridden by specifying an explicit key size in the
<strong>-newkey</strong> option. The smallest accepted key size is 512
bits. If no key size is specified then 2048 bits is used.</p>
</dd>
<dt>default_keyfile</dt>
<dd>
<p>This is the default filename to write a private key to. If not
specified the key is written to standard output. This can be overridden
by the <strong>-keyout</strong> option.</p>
</dd>
<dt>oid_file</dt>
<dd>
<p>This specifies a file containing additional <strong>OBJECT
IDENTIFIERS</strong>. Each line of the file should consist of the
numerical form of the object identifier followed by whitespace then the
short name followed by whitespace and finally the long name.</p>
</dd>
<dt>oid_section</dt>
<dd>
<p>This specifies a section in the configuration file containing extra
object identifiers. Each line should consist of the short name of the
object identifier followed by <strong>=</strong> and the numerical form.
The short and long names are the same when this option is used.</p>
</dd>
<dt>RANDFILE</dt>
<dd>
<p>At startup the specified file is loaded into the random number
generator, and at exit 256 bytes will be written to it. It is used for
private key generation.</p>
</dd>
<dt>encrypt_key</dt>
<dd>
<p>If this is set to <strong>no</strong> then if a private key is
generated it is <strong>not</strong> encrypted. This is equivalent to
the <strong>-noenc</strong> command line option. For compatibility
<strong>encrypt_rsa_key</strong> is an equivalent option.</p>
</dd>
<dt>default_md</dt>
<dd>
<p>This option specifies the digest algorithm to use. Any digest
supported by the OpenSSL <strong>dgst</strong> command can be used. This
option can be overridden on the command line. Certain signing algorithms
(i.e. Ed25519 and Ed448) will ignore any digest that has been set.</p>
</dd>
<dt>string_mask</dt>
<dd>
<p>This option masks out the use of certain string types in certain
fields. Most users will not need to change this option. It can be set to
several values <strong>default</strong> which is also the default option
uses PrintableStrings, T61Strings and BMPStrings if the
<strong>pkix</strong> value is used then only PrintableStrings and
BMPStrings will be used. This follows the PKIX recommendation in
RFC2459. If the <strong>utf8only</strong> option is used then only
UTF8Strings will be used: this is the PKIX recommendation in RFC2459
after 2003. Finally the <strong>nombstr</strong> option just uses
PrintableStrings and T61Strings: certain software has problems with
BMPStrings and UTF8Strings: in particular Netscape.</p>
</dd>
<dt>req_extensions</dt>
<dd>
<p>This specifies the configuration file section containing a list of
extensions to add to the certificate request. It can be overridden by
the <strong>-reqexts</strong> command line switch. See the
<strong>x509v3_config</strong> (5) manual page for details of the
extension section format.</p>
</dd>
<dt>x509_extensions</dt>
<dd>
<p>This specifies the configuration file section containing a list of
extensions to add to certificate generated when <strong>-x509</strong>
is in use. It can be overridden by the <strong>-extensions</strong>
command line switch.</p>
</dd>
<dt>prompt</dt>
<dd>
<p>If set to the value <strong>no</strong> this disables prompting of
certificate fields and just takes values from the config file directly.
It also changes the expected format of the
<strong>distinguished_name</strong> and <strong>attributes</strong>
sections.</p>
</dd>
<dt>utf8</dt>
<dd>
<p>If set to the value <strong>yes</strong> then field values to be
interpreted as UTF8 strings, by default they are interpreted as ASCII.
This means that the field values, whether prompted from a terminal or
obtained from a configuration file, must be valid UTF8 strings.</p>
</dd>
<dt>attributes</dt>
<dd>
<p>This specifies the section containing any request attributes: its
format is the same as <strong>distinguished_name</strong>. Typically
these may contain the challengePassword or unstructuredName types. They
are currently ignored by OpenSSL's request signing utilities but some
CAs might want them.</p>
</dd>
<dt>distinguished_name</dt>
<dd>
<p>This specifies the section containing the distinguished name fields
to prompt for when generating a certificate or certificate request. The
format is described in the next section.</p>
</dd>
</dl>
<h1>DISTINGUISHED NAME AND ATTRIBUTE SECTION FORMAT</h1>
<p>There are two separate formats for the distinguished name and
attribute sections. If the <strong>prompt</strong> option is set to
<strong>no</strong> then these sections just consist of field names and
values: for example,</p>
<p>CN=My Name OU=My Organization emailAddress=someone@somewhere.org</p>
<p>This allows external programs (e.g. GUI based) to generate a template
file with all the field names and values and just pass it to this
command. An example of this kind of configuration file is contained in
the <strong>EXAMPLES</strong> section.</p>
<p>Alternatively if the <strong>prompt</strong> option is absent or not
set to <strong>no</strong> then the file contains field prompting
information. It consists of lines of the form:</p>
<p>fieldName="prompt" fieldName_default="default field value"
fieldName_min= 2 fieldName_max= 4</p>
<p>fieldName is the field name being used, for example commonName (or
CN). The prompt string is used to ask the user to enter the relevant
details. If the user enters nothing then the default value is used if no
default value is present then the field is omitted. A field can still be
omitted if a default value is present if the user just enters the '.'
character.</p>
<p>The number of characters entered must be between the fieldName_min
and fieldName_max limits: there may be additional restrictions based on
the field being used (for example countryName can only ever be two
characters long and must fit in a PrintableString).</p>
<p>Some fields (such as organizationName) can be used more than once in
a DN. This presents a problem because configuration files will not
recognize the same name occurring twice. To avoid this problem if the
fieldName contains some characters followed by a full stop they will be
ignored. So for example a second organizationName can be input by
calling it 1.organizationName.</p>
<p>The actual permitted field names are any object identifier short or
long names. These are compiled into OpenSSL and include the usual values
such as commonName, countryName, localityName, organizationName,
organizationalUnitName, stateOrProvinceName. Additionally emailAddress
is included as well as name, surname, givenName, initials, and
dnQualifier.</p>
<p>Additional object identifiers can be defined with the
<strong>oid_file</strong> or <strong>oid_section</strong> options in the
configuration file. Any additional fields will be treated as though they
were a DirectoryString.</p>
<h1>EXAMPLES</h1>
<p>Examine and verify certificate request:</p>
<p>openssl req -in req.pem -text -verify -noout</p>
<p>Create a private key and then generate a certificate request from
it:</p>
<p>openssl genrsa -out key.pem 2048 openssl req -new -key key.pem -out
req.pem</p>
<p>The same but just using req:</p>
<p>openssl req -newkey rsa:2048 -keyout key.pem -out req.pem</p>
<p>Generate a self-signed root certificate:</p>
<p>openssl req -x509 -newkey rsa:2048 -keyout key.pem -out req.pem</p>
<p>Create an SM2 private key and then generate a certificate request
from it:</p>
<p>openssl ecparam -genkey -name SM2 -out sm2.key openssl req -new -key
sm2.key -out sm2.csr -sm3 -sigopt "distid:1234567812345678"</p>
<p>Examine and verify an SM2 certificate request:</p>
<p>openssl req -verify -in sm2.csr -sm3 -vfyopt
"distid:1234567812345678"</p>
<p>Example of a file pointed to by the <strong>oid_file</strong>
option:</p>
<p>1.2.3.4 shortName A longer Name 1.2.3.6 otherName Other longer
Name</p>
<p>Example of a section pointed to by <strong>oid_section</strong>
making use of variable expansion:</p>
<p>testoid1=1.2.3.5 testoid2=${testoid1}.6</p>
<p>Sample configuration file prompting for field values:</p>
<p>[ req ] default_bits = 2048 default_keyfile = privkey.pem
distinguished_name = req_distinguished_name attributes = req_attributes
req_extensions = v3_ca dirstring_type = nobmp [ req_distinguished_name ]
countryName = Country Name (2 letter code) countryName_default = AU
countryName_min = 2 countryName_max = 2 localityName = Locality Name
(eg, city) organizationalUnitName = Organizational Unit Name (eg,
section) commonName = Common Name (eg, YOUR name) commonName_max = 64
emailAddress = Email Address emailAddress_max = 40 [ req_attributes ]
challengePassword = A challenge password challengePassword_min = 4
challengePassword_max = 20 [ v3_ca ] subjectKeyIdentifier=hash
authorityKeyIdentifier=keyid:always,issuer:always basicConstraints =
critical, CA:true</p>
<p>Sample configuration containing all field values:</p>
<p>[ req ] default_bits = 2048 default_keyfile = keyfile.pem
distinguished_name = req_distinguished_name attributes = req_attributes
prompt = no output_password = mypass [ req_distinguished_name ] C = GB
ST = Test State or Province L = Test Locality O = Organization Name OU =
Organizational Unit Name CN = Common Name emailAddress =
test@email.address [ req_attributes ] challengePassword = A challenge
password</p>
<p>Example of giving the most common attributes (subject and extensions)
on the command line:</p>
<p>openssl req -new -subj "/C=GB/CN=foo" \ -addext "subjectAltName =
DNS:foo.co.uk" \ -addext "certificatePolicies = 1.2.3.4" \ -newkey
rsa:2048 -keyout key.pem -out req.pem</p>
<h1>NOTES</h1>
<p>The certificate requests generated by <strong>Xenroll</strong> with
MSIE have extensions added. It includes the <strong>keyUsage</strong>
extension which determines the type of key (signature only or general
purpose) and any additional OIDs entered by the script in an
<strong>extendedKeyUsage</strong> extension.</p>
<h1>DIAGNOSTICS</h1>
<p>The following messages are frequently asked about:</p>
<p>Using configuration from /some/path/openssl.cnf Unable to load config
info</p>
<p>This is followed some time later by:</p>
<p>unable to find distinguished_name in config problems making
Certificate Request</p>
<p>The first error message is the clue: it can't find the configuration
file! Certain operations (like examining a certificate request) don't
need a configuration file so its use isn't enforced. Generation of
certificates or requests however does need a configuration file. This
could be regarded as a bug.</p>
<p>Another puzzling message is this:</p>
<p>Attributes: a0:00</p>
<p>this is displayed when no attributes are present and the request
includes the correct empty <strong>SET OF</strong> structure (the DER
encoding of which is 0xa0 0x00). If you just see:</p>
<p>Attributes:</p>
<p>then the <strong>SET OF</strong> is missing and the encoding is
technically invalid (but it is tolerated). See the description of the
command line option <strong>-asn1-kludge</strong> for more
information.</p>
<h1>BUGS</h1>
<p>OpenSSL's handling of T61Strings (aka TeletexStrings) is broken: it
effectively treats them as ISO-8859-1 (Latin 1), Netscape and MSIE have
similar behaviour. This can cause problems if you need characters that
aren't available in PrintableStrings and you don't want to or can't use
BMPStrings.</p>
<p>As a consequence of the T61String handling the only correct way to
represent accented characters in OpenSSL is to use a BMPString:
unfortunately Netscape currently chokes on these. If you have to use
accented characters with Netscape and MSIE then you currently need to
use the invalid T61String form.</p>
<p>The current prompting is not very friendly. It doesn't allow you to
confirm what you've just entered. Other things like extensions in
certificate requests are statically defined in the configuration file.
Some of these: like an email address in subjectAltName should be input
by the user.</p>
<h1>SEE ALSO</h1>
<p><strong>openssl</strong> (1), <strong>openssl-x509</strong> (1),
<strong>openssl-ca</strong> (1), <strong>openssl-genrsa</strong> (1),
<strong>openssl-gendsa</strong> (1), <strong>config</strong> (5),
<strong>x509v3_config</strong> (5)</p>
<h1>HISTORY</h1>
<p>The <strong>-section</strong> option was added in OpenSSL 3.0.0.</p>
<p>The <strong>-multivalue-rdn</strong> option has become obsolete in
OpenSSL 3.0.0 and has no effect.</p>
<p>The <strong>-engine</strong> option was deprecated in OpenSSL 3.0.
The &lt;-nodes&gt; option was deprecated in OpenSSL 3.0, too; use
<strong>-noenc</strong> instead.</p>
<h1>COPYRIGHT</h1>
<p>Copyright 2000-2021 The OpenSSL Project Authors. All Rights
Reserved.</p>
<p>Licensed under the Apache License 2.0 (the License). You may not use
this file except in compliance with the License. You can obtain a copy
in the file LICENSE in the source distribution or at
&lt;https://www.openssl.org/source/license.html&gt;.</p>
