<pre><code></code></pre>
<p><br />
</p>
<link rel='stylesheet' href='../style.css'>
<script src='../script.js'></script>
<h1>NAME</h1>
<p>openssl-s_client - SSL/TLS client program</p>
<h1>SYNOPSIS</h1>
<p><strong>openssl</strong> <strong>s_client</strong>
[<strong>-help</strong>] [<strong>-ssl_config</strong> <em>section</em>]
[<strong>-connect</strong> <em>host:port</em>] [<strong>-host</strong>
<em>hostname</em>] [<strong>-port</strong> <em>port</em>]
[<strong>-bind</strong> <em>host:port</em>] [<strong>-proxy</strong>
<em>host:port</em>] [<strong>-proxy_user</strong> <em>userid</em>]
[<strong>-proxy_pass</strong> <em>arg</em>] [<strong>-unix</strong>
<em>path</em>] [<strong>-4</strong>] [<strong>-6</strong>]
[<strong>-servername</strong> <em>name</em>]
[<strong>-noservername</strong>] [<strong>-verify</strong>
<em>depth</em>] [<strong>-verify_return_error</strong>]
[<strong>-verify_quiet</strong>] [<strong>-verifyCAfile</strong>
<em>filename</em>] [<strong>-verifyCApath</strong> <em>dir</em>]
[<strong>-verifyCAstore</strong> <em>uri</em>] [<strong>-cert</strong>
<em>filename</em>] [<strong>-certform</strong>
<strong>DER</strong>|<strong>PEM</strong>|<strong>P12</strong>]
[<strong>-cert_chain</strong> <em>filename</em>]
[<strong>-build_chain</strong>] [<strong>-CRL</strong>
<em>filename</em>] [<strong>-CRLform</strong>
<strong>DER</strong>|<strong>PEM</strong>]
[<strong>-crl_download</strong>] [<strong>-key</strong>
<em>filename</em>|<em>uri</em>] [<strong>-keyform</strong>
<strong>DER</strong>|<strong>PEM</strong>|<strong>P12</strong>|<strong>ENGINE</strong>]
[<strong>-pass</strong> <em>arg</em>] [<strong>-chainCAfile</strong>
<em>filename</em>] [<strong>-chainCApath</strong> <em>directory</em>]
[<strong>-chainCAstore</strong> <em>uri</em>]
[<strong>-requestCAfile</strong> <em>filename</em>]
[<strong>-dane_tlsa_domain</strong> <em>domain</em>]
[<strong>-dane_tlsa_rrdata</strong> <em>rrdata</em>]
[<strong>-dane_ee_no_namechecks</strong>] [<strong>-reconnect</strong>]
[<strong>-showcerts</strong>] [<strong>-prexit</strong>]
[<strong>-debug</strong>] [<strong>-trace</strong>]
[<strong>-nocommands</strong>] [<strong>-security_debug</strong>]
[<strong>-security_debug_verbose</strong>] [<strong>-msg</strong>]
[<strong>-timeout</strong>] [<strong>-mtu</strong> <em>size</em>]
[<strong>-no_etm</strong>] [<strong>-keymatexport</strong>
<em>label</em>] [<strong>-keymatexportlen</strong> <em>len</em>]
[<strong>-msgfile</strong> <em>filename</em>]
[<strong>-nbio_test</strong>] [<strong>-state</strong>]
[<strong>-nbio</strong>] [<strong>-crlf</strong>]
[<strong>-ign_eof</strong>] [<strong>-no_ign_eof</strong>]
[<strong>-psk_identity</strong> <em>identity</em>]
[<strong>-psk</strong> <em>key</em>] [<strong>-psk_session</strong>
<em>file</em>] [<strong>-quiet</strong>] [<strong>-sctp</strong>]
[<strong>-sctp_label_bug</strong>] [<strong>-fallback_scsv</strong>]
[<strong>-async</strong>] [<strong>-maxfraglen</strong> <em>len</em>]
[<strong>-max_send_frag</strong>] [<strong>-split_send_frag</strong>]
[<strong>-max_pipelines</strong>] [<strong>-read_buf</strong>]
[<strong>-ignore_unexpected_eof</strong>] [<strong>-bugs</strong>]
[<strong>-comp</strong>] [<strong>-no_comp</strong>]
[<strong>-brief</strong>] [<strong>-legacy_server_connect</strong>]
[<strong>-no_legacy_server_connect</strong>]
[<strong>-allow_no_dhe_kex</strong>] [<strong>-sigalgs</strong>
<em>sigalglist</em>] [<strong>-curves</strong> <em>curvelist</em>]
[<strong>-cipher</strong> <em>cipherlist</em>]
[<strong>-ciphersuites</strong> <em>val</em>]
[<strong>-serverpref</strong>] [<strong>-starttls</strong>
<em>protocol</em>] [<strong>-name</strong> <em>hostname</em>]
[<strong>-xmpphost</strong> <em>hostname</em>] [<strong>-name</strong>
<em>hostname</em>] [<strong>-tlsextdebug</strong>]
[<strong>-no_ticket</strong>] [<strong>-sess_out</strong>
<em>filename</em>] [<strong>-serverinfo</strong> <em>types</em>]
[<strong>-sess_in</strong> <em>filename</em>]
[<strong>-serverinfo</strong> <em>types</em>] [<strong>-status</strong>]
[<strong>-alpn</strong> <em>protocols</em>]
[<strong>-nextprotoneg</strong> <em>protocols</em>]
[<strong>-ct</strong>] [<strong>-noct</strong>]
[<strong>-ctlogfile</strong>] [<strong>-keylogfile</strong>
<em>file</em>] [<strong>-early_data</strong> <em>file</em>]
[<strong>-enable_pha</strong>] [<strong>-use_srtp</strong>
<em>value</em>] [<strong>-srpuser</strong> <em>value</em>]
[<strong>-srppass</strong> <em>value</em>]
[<strong>-srp_lateuser</strong>] [<strong>-srp_moregroups</strong>]
[<strong>-srp_strength</strong> <em>number</em>]
[<strong>-nameopt</strong> <em>option</em>] [<strong>-no_ssl3</strong>]
[<strong>-no_tls1</strong>] [<strong>-no_tls1_1</strong>]
[<strong>-no_tls1_2</strong>] [<strong>-no_tls1_3</strong>]
[<strong>-ssl3</strong>] [<strong>-tls1</strong>]
[<strong>-tls1_1</strong>] [<strong>-tls1_2</strong>]
[<strong>-tls1_3</strong>] [<strong>-dtls</strong>]
[<strong>-dtls1</strong>] [<strong>-dtls1_2</strong>]
[<strong>-xkey</strong> <em>infile</em>] [<strong>-xcert</strong>
<em>file</em>] [<strong>-xchain</strong> <em>file</em>]
[<strong>-xchain_build</strong> <em>file</em>]
[<strong>-xcertform</strong>
<strong>DER</strong>|<strong>PEM</strong>]&gt;
[<strong>-xkeyform</strong>
<strong>DER</strong>|<strong>PEM</strong>]&gt; [<strong>-CAfile</strong>
<em>file</em>] [<strong>-no-CAfile</strong>] [<strong>-CApath</strong>
<em>dir</em>] [<strong>-no-CApath</strong>] [<strong>-CAstore</strong>
<em>uri</em>] [<strong>-no-CAstore</strong>] [<strong>-bugs</strong>]
[<strong>-no_comp</strong>] [<strong>-comp</strong>]
[<strong>-no_ticket</strong>] [<strong>-serverpref</strong>]
[<strong>-client_renegotiation</strong>]
[<strong>-legacy_renegotiation</strong>]
[<strong>-no_renegotiation</strong>]
[<strong>-no_resumption_on_reneg</strong>]
[<strong>-legacy_server_connect</strong>]
[<strong>-no_legacy_server_connect</strong>] [<strong>-no_etm</strong>]
[<strong>-allow_no_dhe_kex</strong>]
[<strong>-prioritize_chacha</strong>] [<strong>-strict</strong>]
[<strong>-sigalgs</strong> <em>algs</em>]
[<strong>-client_sigalgs</strong> <em>algs</em>]
[<strong>-groups</strong> <em>groups</em>] [<strong>-curves</strong>
<em>curves</em>] [<strong>-named_curve</strong> <em>curve</em>]
[<strong>-cipher</strong> <em>ciphers</em>]
[<strong>-ciphersuites</strong> <em>1.3ciphers</em>]
[<strong>-min_protocol</strong> <em>minprot</em>]
[<strong>-max_protocol</strong> <em>maxprot</em>]
[<strong>-record_padding</strong> <em>padding</em>]
[<strong>-debug_broken_protocol</strong>]
[<strong>-no_middlebox</strong>] [<strong>-rand</strong> <em>files</em>]
[<strong>-writerand</strong> <em>file</em>] [<strong>-provider</strong>
<em>name</em>] [<strong>-provider-path</strong> <em>path</em>]
[<strong>-propquery</strong> <em>propq</em>] [<strong>-engine</strong>
<em>id</em>] [<strong>-ssl_client_engine</strong> <em>id</em>]
[<strong>-allow_proxy_certs</strong>] [<strong>-attime</strong>
<em>timestamp</em>] [<strong>-no_check_time</strong>]
[<strong>-check_ss_sig</strong>] [<strong>-crl_check</strong>]
[<strong>-crl_check_all</strong>] [<strong>-explicit_policy</strong>]
[<strong>-extended_crl</strong>] [<strong>-ignore_critical</strong>]
[<strong>-inhibit_any</strong>] [<strong>-inhibit_map</strong>]
[<strong>-partial_chain</strong>] [<strong>-policy</strong>
<em>arg</em>] [<strong>-policy_check</strong>]
[<strong>-policy_print</strong>] [<strong>-purpose</strong>
<em>purpose</em>] [<strong>-suiteB_128</strong>]
[<strong>-suiteB_128_only</strong>] [<strong>-suiteB_192</strong>]
[<strong>-trusted_first</strong>] [<strong>-no_alt_chains</strong>]
[<strong>-use_deltas</strong>] [<strong>-auth_level</strong>
<em>num</em>] [<strong>-verify_depth</strong> <em>num</em>]
[<strong>-verify_email</strong> <em>email</em>]
[<strong>-verify_hostname</strong> <em>hostname</em>]
[<strong>-verify_ip</strong> <em>ip</em>] [<strong>-verify_name</strong>
<em>name</em>] [<strong>-x509_strict</strong>]
[<strong>-issuer_checks</strong>] [<em>host</em>:<em>port</em>]</p>
<h1>DESCRIPTION</h1>
<p>This command implements a generic SSL/TLS client which connects to a
remote host using SSL/TLS. It is a <em>very</em> useful diagnostic tool
for SSL servers.</p>
<h1>OPTIONS</h1>
<p>In addition to the options below, this command also supports the
common and client only options documented in the Supported Command Line
Commands section of the <strong>SSL_CONF_cmd</strong>â€†(3) manual
page.</p>
<dl>
<dt>-help</dt>
<dd>
<p>Print out a usage message.</p>
</dd>
<dt>-ssl_config section</dt>
<dd>
<p>Use the specified section of the configuration file to configure the
<strong>SSL_CTX</strong> object.</p>
</dd>
<dt>-connect host:port</dt>
<dd>
<p>This specifies the host and optional port to connect to. It is
possible to select the host and port using the optional target
positional argument instead. If neither this nor the target positional
argument are specified then an attempt is made to connect to the local
host on port 4433.</p>
</dd>
<dt>-host hostname</dt>
<dd>
<p>Host to connect to; use <strong>-connect</strong> instead.</p>
</dd>
<dt>-port port</dt>
<dd>
<p>Connect to the specified port; use <strong>-connect</strong>
instead.</p>
</dd>
<dt>-bind host:port</dt>
<dd>
<p>This specifies the host address and or port to bind as the source for
the connection. For Unix-domain sockets the port is ignored and the host
is used as the source socket address.</p>
</dd>
<dt>-proxy host:port</dt>
<dd>
<p>When used with the <strong>-connect</strong> flag, the program uses
the host and port specified with this flag and issues an HTTP CONNECT
command to connect to the desired server.</p>
</dd>
<dt>-proxy_user userid</dt>
<dd>
<p>When used with the <strong>-proxy</strong> flag, the program will
attempt to authenticate with the specified proxy using basic (base64)
authentication. NB: Basic authentication is insecure; the credentials
are sent to the proxy in easily reversible base64 encoding before any
TLS/SSL session is established. Therefore, these credentials are easily
recovered by anyone able to sniff/trace the network. Use with
caution.</p>
</dd>
<dt>-proxy_pass arg</dt>
<dd>
<p>The proxy password source, used with the <strong>-proxy_user</strong>
flag. For more information about the format of <strong>arg</strong> see
<strong>openssl-passphrase-options</strong>â€†(1).</p>
</dd>
<dt>-unix path</dt>
<dd>
<p>Connect over the specified Unix-domain socket.</p>
</dd>
<dt>-4</dt>
<dd>
<p>Use IPv4 only.</p>
</dd>
<dt>-6</dt>
<dd>
<p>Use IPv6 only.</p>
</dd>
<dt>-servername name</dt>
<dd>
<p>Set the TLS SNI (Server Name Indication) extension in the ClientHello
message to the given value. If <strong>-servername</strong> is not
provided, the TLS SNI extension will be populated with the name given to
<strong>-connect</strong> if it follows a DNS name format. If
<strong>-connect</strong> is not provided either, the SNI is set to
localhost. This is the default since OpenSSL 1.1.1. Even though SNI
should normally be a DNS name and not an IP address, if
<strong>-servername</strong> is provided then that name will be sent,
regardless of whether it is a DNS name or not. This option cannot be
used in conjunction with <strong>-noservername</strong>.</p>
</dd>
<dt>-noservername</dt>
<dd>
<p>Suppresses sending of the SNI (Server Name Indication) extension in
the ClientHello message. Cannot be used in conjunction with the
<strong>-servername</strong> or <strong>-dane_tlsa_domain</strong>
options.</p>
</dd>
<dt>-cert filename</dt>
<dd>
<p>The client certificate to use, if one is requested by the server. The
default is not to use a certificate. The chain for the client
certificate may be specified using <strong>-cert_chain</strong>.</p>
</dd>
<dt>-certform DER|PEM|P12</dt>
<dd>
<p>The client certificate file format to use; unspecified by default.
See <strong>openssl-format-options</strong>â€†(1) for details.</p>
</dd>
<dt>-cert_chain</dt>
<dd>
<p>A file or URI of untrusted certificates to use when attempting to
build the certificate chain related to the certificate specified via the
<strong>-cert</strong> option. The input can be in PEM, DER, or PKCS#12
format.</p>
</dd>
<dt>-build_chain</dt>
<dd>
<p>Specify whether the application should build the client certificate
chain to be provided to the server.</p>
</dd>
<dt>-CRL filename</dt>
<dd>
<p>CRL file to use to check the server's certificate.</p>
</dd>
<dt>-CRLform DER|PEM</dt>
<dd>
<p>The CRL file format; unspecified by default. See
<strong>openssl-format-options</strong>â€†(1) for details.</p>
</dd>
<dt>-crl_download</dt>
<dd>
<p>Download CRL from distribution points in the certificate.</p>
</dd>
<dt>-key filename|uri</dt>
<dd>
<p>The client private key to use. If not specified then the certificate
file will be used to read also the key.</p>
</dd>
<dt>-keyform DER|PEM|P12|ENGINE</dt>
<dd>
<p>The key format; unspecified by default. See
<strong>openssl-format-options</strong>â€†(1) for details.</p>
</dd>
<dt>-pass arg</dt>
<dd>
<p>the private key and certificate file password source. For more
information about the format of <em>arg</em> see
<strong>openssl-passphrase-options</strong>â€†(1).</p>
</dd>
<dt>-verify depth</dt>
<dd>
<p>The verify depth to use. This specifies the maximum length of the
server certificate chain and turns on server certificate verification.
Currently the verify operation continues after errors so all the
problems with a certificate chain can be seen. As a side effect the
connection will never fail due to a server certificate verify
failure.</p>
</dd>
<dt>-verify_return_error</dt>
<dd>
<p>Return verification errors instead of continuing. This will typically
abort the handshake with a fatal error.</p>
</dd>
<dt>-verify_quiet</dt>
<dd>
<p>Limit verify output to only errors.</p>
</dd>
<dt>-verifyCAfile filename</dt>
<dd>
<p>A file in PEM format containing trusted certificates to use for
verifying the server's certificate.</p>
</dd>
<dt>-verifyCApath dir</dt>
<dd>
<p>A directory containing trusted certificates to use for verifying the
server's certificate. This directory must be in hash format, see
<strong>openssl-verify</strong>â€†(1) for more information.</p>
</dd>
<dt>-verifyCAstore uri</dt>
<dd>
<p>The URI of a store containing trusted certificates to use for
verifying the server's certificate.</p>
</dd>
<dt>-chainCAfile file</dt>
<dd>
<p>A file in PEM format containing trusted certificates to use when
attempting to build the client certificate chain.</p>
</dd>
<dt>-chainCApath directory</dt>
<dd>
<p>A directory containing trusted certificates to use for building the
client certificate chain provided to the server. This directory must be
in hash format, see <strong>openssl-verify</strong>â€†(1) for more
information.</p>
</dd>
<dt>-chainCAstore uri</dt>
<dd>
<p>The URI of a store containing trusted certificates to use when
attempting to build the client certificate chain. The URI may indicate a
single certificate, as well as a collection of them. With URIs in the
<code>file:</code> scheme, this acts as <strong>-chainCAfile</strong> or
<strong>-chainCApath</strong>, depending on if the URI indicates a
directory or a single file. See <strong>ossl_store-file</strong>â€†(7) for
more information on the <code>file:</code> scheme.</p>
</dd>
<dt>-requestCAfile file</dt>
<dd>
<p>A file containing a list of certificates whose subject names will be
sent to the server in the <strong>certificate_authorities</strong>
extension. Only supported for TLS 1.3</p>
</dd>
<dt>-dane_tlsa_domain domain</dt>
<dd>
<p>Enable RFC6698/RFC7671 DANE TLSA authentication and specify the TLSA
base domain which becomes the default SNI hint and the primary reference
identifier for hostname checks. This must be used in combination with at
least one instance of the <strong>-dane_tlsa_rrdata</strong> option
below. When DANE authentication succeeds, the diagnostic output will
include the lowest (closest to 0) depth at which a TLSA record
authenticated a chain certificate. When that TLSA record is a 2 1 0
trust anchor public key that signed (rather than matched) the top-most
certificate of the chain, the result is reported as TA public key
verified. Otherwise, either the TLSA record matched TA certificate at a
positive depth or else matched EE certificate at depth 0.</p>
</dd>
<dt>-dane_tlsa_rrdata rrdata</dt>
<dd>
<p>Use one or more times to specify the RRDATA fields of the DANE TLSA
RRset associated with the target service. The <em>rrdata</em> value is
specified in presentation form, that is four whitespace separated fields
that specify the usage, selector, matching type and associated data,
with the last of these encoded in hexadecimal. Optional whitespace is
ignored in the associated data field. For example: $ openssl s_client
-brief -starttls smtp \ -connect smtp.example.com:25 \ -dane_tlsa_domain
smtp.example.com \ -dane_tlsa_rrdata "2 1 1
B111DD8A1C2091A89BD4FD60C57F0716CCE50FEEFF8137CDBEE0326E 02CF362B" \
-dane_tlsa_rrdata "2 1 1
60B87575447DCBA2A36B7D11AC09FB24A9DB406FEE12D2CC90180517 616E8A18" ...
Verification: OK Verified peername: smtp.example.com DANE TLSA 2 1 1
...ee12d2cc90180517616e8a18 matched TA certificate at depth 1 ...</p>
</dd>
<dt>-dane_ee_no_namechecks</dt>
<dd>
<p>This disables server name checks when authenticating via
<strong>DANE-EE</strong>â€†(3) TLSA records. For some applications,
primarily web browsers, it is not safe to disable name checks due to
unknown key share attacks, in which a malicious server can convince a
client that a connection to a victim server is instead a secure
connection to the malicious server. The malicious server may then be
able to violate cross-origin scripting restrictions. Thus, despite the
text of RFC7671, name checks are by default enabled for
<strong>DANE-EE</strong>â€†(3) TLSA records, and can be disabled in
applications where it is safe to do so. In particular, SMTP and XMPP
clients should set this option as SRV and MX records already make it
possible for a remote domain to redirect client connections to any
server of its choice, and in any case SMTP and XMPP clients do not
execute scripts downloaded from remote servers.</p>
</dd>
<dt>-reconnect</dt>
<dd>
<p>Reconnects to the same server 5 times using the same session ID, this
can be used as a test that session caching is working.</p>
</dd>
<dt>-showcerts</dt>
<dd>
<p>Displays the server certificate list as sent by the server: it only
consists of certificates the server has sent (in the order the server
has sent them). It is <strong>not</strong> a verified chain.</p>
</dd>
<dt>-prexit</dt>
<dd>
<p>Print session information when the program exits. This will always
attempt to print out information even if the connection fails. Normally
information will only be printed out once if the connection succeeds.
This option is useful because the cipher in use may be renegotiated or
the connection may fail because a client certificate is required or is
requested only after an attempt is made to access a certain URL. Note:
the output produced by this option is not always accurate because a
connection might never have been established.</p>
</dd>
<dt>-state</dt>
<dd>
<p>Prints out the SSL session states.</p>
</dd>
<dt>-debug</dt>
<dd>
<p>Print extensive debugging information including a hex dump of all
traffic.</p>
</dd>
<dt>-nocommands</dt>
<dd>
<p>Do not use interactive command letters.</p>
</dd>
<dt>-security_debug</dt>
<dd>
<p>Enable security debug messages.</p>
</dd>
<dt>-security_debug_verbose</dt>
<dd>
<p>Output more security debug output.</p>
</dd>
<dt>-msg</dt>
<dd>
<p>Show protocol messages.</p>
</dd>
<dt>-timeout</dt>
<dd>
<p>Enable send/receive timeout on DTLS connections.</p>
</dd>
<dt>-mtu size</dt>
<dd>
<p>Set MTU of the link layer to the specified size.</p>
</dd>
<dt>-no_etm</dt>
<dd>
<p>Disable Encrypt-then-MAC negotiation.</p>
</dd>
<dt>-keymatexport label</dt>
<dd>
<p>Export keying material using the specified label.</p>
</dd>
<dt>-keymatexportlen len</dt>
<dd>
<p>Export the specified number of bytes of keying material; default is
20. Show all protocol messages with hex dump.</p>
</dd>
<dt>-trace</dt>
<dd>
<p>Show verbose trace output of protocol messages.</p>
</dd>
<dt>-msgfile filename</dt>
<dd>
<p>File to send output of <strong>-msg</strong> or
<strong>-trace</strong> to, default standard output.</p>
</dd>
<dt>-nbio_test</dt>
<dd>
<p>Tests nonblocking I/O</p>
</dd>
<dt>-nbio</dt>
<dd>
<p>Turns on nonblocking I/O</p>
</dd>
<dt>-crlf</dt>
<dd>
<p>This option translated a line feed from the terminal into CR+LF as
required by some servers.</p>
</dd>
<dt>-ign_eof</dt>
<dd>
<p>Inhibit shutting down the connection when end of file is reached in
the input.</p>
</dd>
<dt>-quiet</dt>
<dd>
<p>Inhibit printing of session and certificate information. This
implicitly turns on <strong>-ign_eof</strong> as well.</p>
</dd>
<dt>-no_ign_eof</dt>
<dd>
<p>Shut down the connection when end of file is reached in the input.
Can be used to override the implicit <strong>-ign_eof</strong> after
<strong>-quiet</strong>.</p>
</dd>
<dt>-psk_identity identity</dt>
<dd>
<p>Use the PSK identity <em>identity</em> when using a PSK cipher suite.
The default value is Client_identity (without the quotes).</p>
</dd>
<dt>-psk key</dt>
<dd>
<p>Use the PSK key <em>key</em> when using a PSK cipher suite. The key
is given as a hexadecimal number without leading 0x, for example -psk
1a2b3c4d. This option must be provided in order to use a PSK cipher.</p>
</dd>
<dt>-psk_session file</dt>
<dd>
<p>Use the pem encoded SSL_SESSION data stored in <em>file</em> as the
basis of a PSK. Note that this will only work if TLSv1.3 is
negotiated.</p>
</dd>
<dt>-sctp</dt>
<dd>
<p>Use SCTP for the transport protocol instead of UDP in DTLS. Must be
used in conjunction with <strong>-dtls</strong>, <strong>-dtls1</strong>
or <strong>-dtls1_2</strong>. This option is only available where
OpenSSL has support for SCTP enabled.</p>
</dd>
<dt>-sctp_label_bug</dt>
<dd>
<p>Use the incorrect behaviour of older OpenSSL implementations when
computing endpoint-pair shared secrets for DTLS/SCTP. This allows
communication with older broken implementations but breaks
interoperability with correct implementations. Must be used in
conjunction with <strong>-sctp</strong>. This option is only available
where OpenSSL has support for SCTP enabled.</p>
</dd>
<dt>-fallback_scsv</dt>
<dd>
<p>Send TLS_FALLBACK_SCSV in the ClientHello.</p>
</dd>
<dt>-async</dt>
<dd>
<p>Switch on asynchronous mode. Cryptographic operations will be
performed asynchronously. This will only have an effect if an
asynchronous capable engine is also used via the
<strong>-engine</strong> option. For test purposes the dummy async
engine (dasync) can be used (if available).</p>
</dd>
<dt>-maxfraglen len</dt>
<dd>
<p>Enable Maximum Fragment Length Negotiation; allowed values are
<code>512</code>, <code>1024</code>, <code>2048</code>, and
<code>4096</code>.</p>
</dd>
<dt>-max_send_frag int</dt>
<dd>
<p>The maximum size of data fragment to send. See
<strong>SSL_CTX_set_max_send_fragment</strong>â€†(3) for further
information.</p>
</dd>
<dt>-split_send_frag int</dt>
<dd>
<p>The size used to split data for encrypt pipelines. If more data is
written in one go than this value then it will be split into multiple
pipelines, up to the maximum number of pipelines defined by
max_pipelines. This only has an effect if a suitable cipher suite has
been negotiated, an engine that supports pipelining has been loaded, and
max_pipelines is greater than 1. See
<strong>SSL_CTX_set_split_send_fragment</strong>â€†(3) for further
information.</p>
</dd>
<dt>-max_pipelines int</dt>
<dd>
<p>The maximum number of encrypt/decrypt pipelines to be used. This will
only have an effect if an engine has been loaded that supports
pipelining (e.g. the dasync engine) and a suitable cipher suite has been
negotiated. The default value is 1. See
<strong>SSL_CTX_set_max_pipelines</strong>â€†(3) for further
information.</p>
</dd>
<dt>-read_buf int</dt>
<dd>
<p>The default read buffer size to be used for connections. This will
only have an effect if the buffer size is larger than the size that
would otherwise be used and pipelining is in use (see
<strong>SSL_CTX_set_default_read_buffer_len</strong>â€†(3) for further
information).</p>
</dd>
<dt>-ignore_unexpected_eof</dt>
<dd>
<p>Some TLS implementations do not send the mandatory close_notify alert
on shutdown. If the application tries to wait for the close_notify alert
but the peer closes the connection without sending it, an error is
generated. When this option is enabled the peer does not need to send
the close_notify alert and a closed connection will be treated as if the
close_notify alert was received. For more information on shutting down a
connection, see <strong>SSL_shutdown</strong>â€†(3).</p>
</dd>
<dt>-bugs</dt>
<dd>
<p>There are several known bugs in SSL and TLS implementations. Adding
this option enables various workarounds.</p>
</dd>
<dt>-comp</dt>
<dd>
<p>Enables support for SSL/TLS compression. This option was introduced
in OpenSSL 1.1.0. TLS compression is not recommended and is off by
default as of OpenSSL 1.1.0.</p>
</dd>
<dt>-no_comp</dt>
<dd>
<p>Disables support for SSL/TLS compression. TLS compression is not
recommended and is off by default as of OpenSSL 1.1.0.</p>
</dd>
<dt>-brief</dt>
<dd>
<p>Only provide a brief summary of connection parameters instead of the
normal verbose output.</p>
</dd>
<dt>-sigalgs sigalglist</dt>
<dd>
<p>Specifies the list of signature algorithms that are sent by the
client. The server selects one entry in the list based on its
preferences. For example strings, see
<strong>SSL_CTX_set1_sigalgs</strong>â€†(3)</p>
</dd>
<dt>-curves curvelist</dt>
<dd>
<p>Specifies the list of supported curves to be sent by the client. The
curve is ultimately selected by the server. For a list of all curves,
use: $ openssl ecparam -list_curves</p>
</dd>
<dt>-cipher cipherlist</dt>
<dd>
<p>This allows the TLSv1.2 and below cipher list sent by the client to
be modified. This list will be combined with any TLSv1.3 ciphersuites
that have been configured. Although the server determines which
ciphersuite is used it should take the first supported cipher in the
list sent by the client. See <strong>openssl-ciphers</strong>â€†(1) for
more information.</p>
</dd>
<dt>-ciphersuites val</dt>
<dd>
<p>This allows the TLSv1.3 ciphersuites sent by the client to be
modified. This list will be combined with any TLSv1.2 and below
ciphersuites that have been configured. Although the server determines
which cipher suite is used it should take the first supported cipher in
the list sent by the client. See <strong>openssl-ciphers</strong>â€†(1)
for more information. The format for this list is a simple colon (:)
separated list of TLSv1.3 ciphersuite names.</p>
</dd>
<dt>-starttls protocol</dt>
<dd>
<p>Send the protocol-specific message(s) to switch to TLS for
communication. <em>protocol</em> is a keyword for the intended protocol.
Currently, the only supported keywords are smtp, pop3, imap, ftp, xmpp,
xmpp-server, irc, postgres, mysql, lmtp, nntp, sieve and ldap.</p>
</dd>
<dt>-xmpphost hostname</dt>
<dd>
<p>This option, when used with -starttls xmpp or -starttls xmpp-server,
specifies the host for the to attribute of the stream element. If this
option is not specified, then the host specified with -connect will be
used. This option is an alias of the <strong>-name</strong> option for
xmpp and xmpp-server.</p>
</dd>
<dt>-name hostname</dt>
<dd>
<p>This option is used to specify hostname information for various
protocols used with <strong>-starttls</strong> option. Currently only
xmpp, xmpp-server, smtp and lmtp can utilize this <strong>-name</strong>
option. If this option is used with -starttls xmpp or -starttls
xmpp-server, if specifies the host for the to attribute of the stream
element. If this option is not specified, then the host specified with
-connect will be used. If this option is used with -starttls lmtp or
-starttls smtp, it specifies the name to use in the LMTP LHLO or SMTP
EHLO message, respectively. If this option is not specified, then
mail.example.com will be used.</p>
</dd>
<dt>-tlsextdebug</dt>
<dd>
<p>Print out a hex dump of any TLS extensions received from the
server.</p>
</dd>
<dt>-no_ticket</dt>
<dd>
<p>Disable RFC4507bis session ticket support.</p>
</dd>
<dt>-sess_out filename</dt>
<dd>
<p>Output SSL session to <em>filename</em>.</p>
</dd>
<dt>-sess_in filename</dt>
<dd>
<p>Load SSL session from <em>filename</em>. The client will attempt to
resume a connection from this session.</p>
</dd>
<dt>-serverinfo types</dt>
<dd>
<p>A list of comma-separated TLS Extension Types (numbers between 0 and
65535). Each type will be sent as an empty ClientHello TLS Extension.
The server's response (if any) will be encoded and displayed as a PEM
file.</p>
</dd>
<dt>-status</dt>
<dd>
<p>Sends a certificate status request to the server (OCSP stapling). The
server response (if any) is printed out.</p>
</dd>
<dt>-alpn protocols, -nextprotoneg protocols</dt>
<dd>
<p>These flags enable the Enable the Application-Layer Protocol
Negotiation or Next Protocol Negotiation (NPN) extension, respectively.
ALPN is the IETF standard and replaces NPN. The <em>protocols</em> list
is a comma-separated list of protocol names that the client should
advertise support for. The list should contain the most desirable
protocols first. Protocol names are printable ASCII strings, for example
http/1.1 or spdy/3. An empty list of protocols is treated specially and
will cause the client to advertise support for the TLS extension but
disconnect just after receiving ServerHello with a list of server
supported protocols. The flag <strong>-nextprotoneg</strong> cannot be
specified if <strong>-tls1_3</strong> is used.</p>
</dd>
<dt>-ct, -noct</dt>
<dd>
<p>Use one of these two options to control whether Certificate
Transparency (CT) is enabled (<strong>-ct</strong>) or disabled
(<strong>-noct</strong>). If CT is enabled, signed certificate
timestamps (SCTs) will be requested from the server and reported at
handshake completion. Enabling CT also enables OCSP stapling, as this is
one possible delivery method for SCTs.</p>
</dd>
<dt>-ctlogfile</dt>
<dd>
<p>A file containing a list of known Certificate Transparency logs. See
<strong>SSL_CTX_set_ctlog_list_file</strong>â€†(3) for the expected file
format.</p>
</dd>
<dt>-keylogfile file</dt>
<dd>
<p>Appends TLS secrets to the specified keylog file such that external
programs (like Wireshark) can decrypt TLS connections.</p>
</dd>
<dt>-early_data file</dt>
<dd>
<p>Reads the contents of the specified file and attempts to send it as
early data to the server. This will only work with resumed sessions that
support early data and when the server accepts the early data.</p>
</dd>
<dt>-enable_pha</dt>
<dd>
<p>For TLSv1.3 only, send the Post-Handshake Authentication extension.
This will happen whether or not a certificate has been provided via
<strong>-cert</strong>.</p>
</dd>
<dt>-use_srtp value</dt>
<dd>
<p>Offer SRTP key management, where <strong>value</strong> is a
colon-separated profile list.</p>
</dd>
<dt>-srpuser value</dt>
<dd>
<p>Set the SRP username to the specified value. This option is
deprecated.</p>
</dd>
<dt>-srppass value</dt>
<dd>
<p>Set the SRP password to the specified value. This option is
deprecated.</p>
</dd>
<dt>-srp_lateuser</dt>
<dd>
<p>SRP username for the second ClientHello message. This option is
deprecated.</p>
</dd>
<dt>-srp_moregroups This option is deprecated.</dt>
<dd>
<p>Tolerate other than the known <strong>g</strong> and
<strong>N</strong> values.</p>
</dd>
<dt>-srp_strength number</dt>
<dd>
<p>Set the minimal acceptable length, in bits, for <strong>N</strong>.
This option is deprecated.</p>
</dd>
<dt>-no_ssl3, -no_tls1, -no_tls1_1, -no_tls1_2, -no_tls1_3, -ssl3,
-tls1, -tls1_1, -tls1_2, -tls1_3</dt>
<dd>
<p>See TLS Version Options in <strong>openssl</strong>â€†(1).</p>
</dd>
<dt>-dtls, -dtls1, -dtls1_2</dt>
<dd>
<p>These specify the use of DTLS instead of TLS. See TLS Version Options
in <strong>openssl</strong>â€†(1).</p>
</dd>
<dt>-nameopt option</dt>
<dd>
<p>This specifies how the subject or issuer names are displayed. See
<strong>openssl-namedisplay-options</strong>â€†(1) for details.</p>
</dd>
<dt>-xkey infile, -xcert file, -xchain file, -xchain_build file,
-xcertform DER|PEM, -xkeyform DER|PEM</dt>
<dd>
<p>Set extended certificate verification options. See Extended
Verification Options in
<strong>openssl-verification-options</strong>â€†(1) for details.</p>
</dd>
<dt>-CAfile file, -no-CAfile, -CApath dir, -no-CApath, -CAstore uri,
-no-CAstore</dt>
<dd>
<p>See Trusted Certificate Options in
<strong>openssl-verification-options</strong>â€†(1) for details.</p>
</dd>
<dt>-bugs, -comp, -no_comp, -no_ticket, -serverpref,
-client_renegotiation, -legacy_renegotiation, -no_renegotiation,
-no_resumption_on_reneg, -legacy_server_connect,
-no_legacy_server_connect, -no_etm -allow_no_dhe_kex,
-prioritize_chacha, -strict, -sigalgs algs, -client_sigalgs algs,
-groups groups, -curves curves, -named_curve curve, -cipher ciphers,
-ciphersuites 1.3ciphers, -min_protocol minprot, -max_protocol maxprot,
-record_padding padding, -debug_broken_protocol, -no_middlebox</dt>
<dd>
<p>See SUPPORTED COMMAND LINE COMMANDS in
<strong>SSL_CONF_cmd</strong>â€†(3) for details.</p>
</dd>
<dt>-rand files, -writerand file</dt>
<dd>
<p>See Random State Options in <strong>openssl</strong>â€†(1) for
details.</p>
</dd>
<dt>-provider name</dt>
<dd>

</dd>
</dl>
<dl>
<dt>-provider-path path</dt>
<dd>

</dd>
<dt>-propquery propq</dt>
<dd>

</dd>
</dl>
<p>See Provider Options in <strong>openssl</strong>â€†(1),
<strong>provider</strong>â€†(7), and <strong>property</strong>â€†(7).</p>
<dl>
<dt>-engine id</dt>
<dd>
<p>See Engine Options in <strong>openssl</strong>â€†(1). This option is
deprecated.</p>
</dd>
<dt>-ssl_client_engine id</dt>
<dd>
<p>Specify engine to be used for client certificate operations.</p>
</dd>
<dt>-allow_proxy_certs, -attime, -no_check_time, -check_ss_sig,
-crl_check, -crl_check_all, -explicit_policy, -extended_crl,
-ignore_critical, -inhibit_any, -inhibit_map, -no_alt_chains,
-partial_chain, -policy, -policy_check, -policy_print, -purpose,
-suiteB_128, -suiteB_128_only, -suiteB_192, -trusted_first, -use_deltas,
-auth_level, -verify_depth, -verify_email, -verify_hostname, -verify_ip,
-verify_name, -x509_strict -issuer_checks</dt>
<dd>
<p>Set various options of certificate chain verification. See
Verification Options in
<strong>openssl-verification-options</strong>â€†(1) for details.
Verification errors are displayed, for debugging, but the command will
proceed unless the <strong>-verify_return_error</strong> option is
used.</p>
</dd>
<dt>host:port</dt>
<dd>
<p>Rather than providing <strong>-connect</strong>, the target hostname
and optional port may be provided as a single positional argument after
all options. If neither this nor <strong>-connect</strong> are provided,
falls back to attempting to connect to <em>localhost</em> on port
<em>4433</em>.</p>
</dd>
</dl>
<h1>CONNECTED COMMANDS</h1>
<p>If a connection is established with an SSL server then any data
received from the server is displayed and any key presses will be sent
to the server. If end of file is reached then the connection will be
closed down. When used interactively (which means neither
<strong>-quiet</strong> nor <strong>-ign_eof</strong> have been given),
then certain commands are also recognized which perform special
operations. These commands are a letter which must appear at the start
of a line. They are listed below.</p>
<ol start="17" type="A">
<li><p>End the current SSL connection and exit.</p></li>
<li><p>Renegotiate the SSL session (TLSv1.2 and below only).</p></li>
</ol>
<ol start="11" type="a">
<li><p>Send a key update message to the server (TLSv1.3 only)</p></li>
</ol>
<ol start="11" type="A">
<li><p>Send a key update message to the server and request one back
(TLSv1.3 only)</p></li>
</ol>
<h1>NOTES</h1>
<p>This command can be used to debug SSL servers. To connect to an SSL
HTTP server the command:</p>
<p>openssl s_client -connect servername:443</p>
<p>would typically be used (https uses port 443). If the connection
succeeds then an HTTP command can be given such as GET / to retrieve a
web page.</p>
<p>If the handshake fails then there are several possible causes, if it
is nothing obvious like no client certificate then the
<strong>-bugs</strong>, <strong>-ssl3</strong>, <strong>-tls1</strong>,
<strong>-no_ssl3</strong>, <strong>-no_tls1</strong> options can be
tried in case it is a buggy server. In particular you should play with
these options <strong>before</strong> submitting a bug report to an
OpenSSL mailing list.</p>
<p>A frequent problem when attempting to get client certificates working
is that a web client complains it has no certificates or gives an empty
list to choose from. This is normally because the server is not sending
the clients certificate authority in its acceptable CA list when it
requests a certificate. By using this command, the CA list can be viewed
and checked. However, some servers only request client authentication
after a specific URL is requested. To obtain the list in this case it is
necessary to use the <strong>-prexit</strong> option and send an HTTP
request for an appropriate page.</p>
<p>If a certificate is specified on the command line using the
<strong>-cert</strong> option it will not be used unless the server
specifically requests a client certificate. Therefore, merely including
a client certificate on the command line is no guarantee that the
certificate works.</p>
<p>If there are problems verifying a server certificate then the
<strong>-showcerts</strong> option can be used to show all the
certificates sent by the server.</p>
<p>This command is a test tool and is designed to continue the handshake
after any certificate verification errors. As a result it will accept
any certificate chain (trusted or not) sent by the peer. Non-test
applications should <strong>not</strong> do this as it makes them
vulnerable to a MITM attack. This behaviour can be changed by with the
<strong>-verify_return_error</strong> option: any verify errors are then
returned aborting the handshake.</p>
<p>The <strong>-bind</strong> option may be useful if the server or a
firewall requires connections to come from some particular address and
or port.</p>
<h1>BUGS</h1>
<p>Because this program has a lot of options and also because some of
the techniques used are rather old, the C source for this command is
rather hard to read and not a model of how things should be done. A
typical SSL client program would be much simpler.</p>
<p>The <strong>-prexit</strong> option is a bit of a hack. We should
really report information whenever a session is renegotiated.</p>
<h1>SEE ALSO</h1>
<p><strong>openssl</strong>â€†(1), <strong>openssl-sess_id</strong>â€†(1),
<strong>openssl-s_server</strong>â€†(1),
<strong>openssl-ciphers</strong>â€†(1), <strong>SSL_CONF_cmd</strong>â€†(3),
<strong>SSL_CTX_set_max_send_fragment</strong>â€†(3),
<strong>SSL_CTX_set_split_send_fragment</strong>â€†(3),
<strong>SSL_CTX_set_max_pipelines</strong>â€†(3),
<strong>ossl_store-file</strong>â€†(7)</p>
<h1>HISTORY</h1>
<p>The <strong>-no_alt_chains</strong> option was added in OpenSSL
1.1.0. The <strong>-name</strong> option was added in OpenSSL 1.1.1.</p>
<p>The <strong>-certform</strong> option has become obsolete in OpenSSL
3.0.0 and has no effect.</p>
<p>The <strong>-engine</strong> option was deprecated in OpenSSL
3.0.</p>
<h1>COPYRIGHT</h1>
<p>Copyright 2000-2023 The OpenSSL Project Authors. All Rights
Reserved.</p>
<p>Licensed under the Apache License 2.0 (the License). You may not use
this file except in compliance with the License. You can obtain a copy
in the file LICENSE in the source distribution or at
&lt;https://www.openssl.org/source/license.html&gt;.</p>
