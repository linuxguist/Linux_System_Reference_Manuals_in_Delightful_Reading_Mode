<link rel='stylesheet' href='../style.css'>
<script src='../script.js'></script>
<h1>NAME</h1>
<p>linux-check-removal - check whether removal of a kernel is safe</p>
<h1>SYNOPSIS</h1>
<p><strong>linux-check-removal</strong><em> VERSION</em></p>
<h1>DESCRIPTION</h1>
<p><strong>linux-check-removal</strong> is intended to be called from
the prerm maintainer scripts of Linux kernel packages.</p>
<p>The <em>VERSION</em> argument must be the kernel version string as
shown by <strong>uname -r</strong> and used in filenames.</p>
<p>If the currently running kernel matches <em>VERSION</em>,
<strong>linux-check-removal</strong> normally prompts the user to
confirm this potentially dangerous action and fails if the user chooses
to abort. There are two exceptions to this behaviour:</p>
<ul>
<li><p>If the current environment is a chroot or container, it is
assumed that the running kernel is independent of any installed kernel
package and the command always quietly succeeds</p></li>
<li><p>If debconf prompts are disabled, the command warns if removing
the running kernel but always succeeds</p></li>
</ul>
<h1>ENVIRONMENT VARIABLES</h1>
<dl>
<dt><em>DEBIAN_FRONTEND</em></dt>
<dd>
<p>Name of the preferred debconf front-end. If set to
<em>noninteractive</em>, debconf prompts are disabled and
<strong>linux-check-removal</strong> always quietly succeeds.</p>
</dd>
<dt><em>DPKG_MAINTSCRIPT_PACKAGE</em></dt>
<dd>
<p>Name of the package to be removed, automatically set by dpkg.</p>
</dd>
</dl>
<h1>AUTHOR</h1>
<p><strong>linux-check-removal</strong> and this manual page were
written by Ben Hutchings as part of the Debian
<strong>linux-base</strong> package.</p>
