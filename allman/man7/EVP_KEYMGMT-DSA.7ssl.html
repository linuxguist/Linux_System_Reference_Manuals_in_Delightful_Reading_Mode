<pre><code></code></pre>
<p><br />
</p>
<link rel='stylesheet' href='../style.css'>
<script src='../script.js'></script>
<h1>NAME</h1>
<p>EVP_PKEY-DSA, EVP_KEYMGMT-DSA - EVP_PKEY DSA keytype and algorithm
support</p>
<h1>DESCRIPTION</h1>
<p>For <strong>DSA</strong> the FIPS186-4 standard specifies that the
values used for FFC parameter generation are also required for parameter
validation. This means that optional FFC domain parameter values for
<em>seed</em>, <em>pcounter</em> and <em>gindex</em> may need to be
stored for validation purposes. For <strong>DSA</strong> these fields
are not stored in the ASN1 data so they need to be stored externally if
validation is required.</p>
<h2>DSA parameters</h2>
<p>The <strong>DSA</strong> key type supports the FFC parameters (see
FFC parameters in <strong>EVP_PKEY-FFC</strong> (7)).</p>
<h2>DSA key generation parameters</h2>
<p>The <strong>DSA</strong> key type supports the FFC key generation
parameters (see FFC key generation parameters in
<strong>EVP_PKEY-FFC</strong> (7)</p>
<p>The following restrictions apply to the pbits field:</p>
<p>For fips186_4 this must be either 2048 or 3072. For fips186_2 this
must be 1024. For group this can be any one of 2048, 3072, 4096, 6144 or
8192.</p>
<h2>DSA key validation</h2>
<p>For DSA keys, <strong>EVP_PKEY_param_check</strong> (3) behaves in
the following way: The OpenSSL FIPS provider conforms to the rules
within the FIPS186-4 standard for FFC parameter validation. For
backwards compatibility the OpenSSL default provider uses a much simpler
check (see below) for parameter validation, unless the seed parameter is
set.</p>
<p>For DSA keys, <strong>EVP_PKEY_param_check_quick</strong> (3) behaves
in the following way: A simple check of L and N and partial g is
performed. The default provider also supports validation of legacy
fips186_2 keys.</p>
<p>For DSA keys, <strong>EVP_PKEY_public_check</strong> (3),
<strong>EVP_PKEY_private_check</strong> (3) and
<strong>EVP_PKEY_pairwise_check</strong> (3) the OpenSSL default and
FIPS providers conform to the rules within SP800-56Ar3 for public,
private and pairwise tests respectively.</p>
<h1>EXAMPLES</h1>
<p>An <strong>EVP_PKEY</strong> context can be obtained by calling:</p>
<p>EVP_PKEY_CTX *pctx = EVP_PKEY_CTX_new_from_name(NULL, "DSA",
NULL);</p>
<p>The <strong>DSA</strong> domain parameters can be generated by
calling:</p>
<p>unsigned int pbits = 2048; unsigned int qbits = 256; int gindex = 1;
OSSL_PARAM params[5]; EVP_PKEY *param_key = NULL; EVP_PKEY_CTX *pctx =
NULL; pctx = EVP_PKEY_CTX_new_from_name(NULL, "DSA", NULL);
EVP_PKEY_paramgen_init(pctx); params[0] =
OSSL_PARAM_construct_uint("pbits", &amp;pbits); params[1] =
OSSL_PARAM_construct_uint("qbits", &amp;qbits); params[2] =
OSSL_PARAM_construct_int("gindex", &amp;gindex); params[3] =
OSSL_PARAM_construct_utf8_string("digest", "SHA384", 0); params[4] =
OSSL_PARAM_construct_end(); EVP_PKEY_CTX_set_params(pctx, params);
EVP_PKEY_generate(pctx, &amp;param_key); EVP_PKEY_CTX_free(pctx);
EVP_PKEY_print_params(bio_out, param_key, 0, NULL);</p>
<p>A <strong>DSA</strong> key can be generated using domain parameters
by calling:</p>
<p>EVP_PKEY *key = NULL; EVP_PKEY_CTX *gctx = NULL; gctx =
EVP_PKEY_CTX_new_from_pkey(NULL, param_key, NULL);
EVP_PKEY_keygen_init(gctx); EVP_PKEY_generate(gctx, &amp;key);
EVP_PKEY_CTX_free(gctx); EVP_PKEY_print_private(bio_out, key, 0,
NULL);</p>
<h1>CONFORMING TO</h1>
<p>The following sections of FIPS186-4:</p>
<ol type="A">
<li></li>
</ol>
<ol type="A">
<li></li>
<li></li>
</ol>
<h1>SEE ALSO</h1>
<p><strong>EVP_PKEY-FFC</strong> (7),
<strong>EVP_SIGNATURE-DSA</strong> (7) <strong>EVP_PKEY</strong> (3),
<strong>provider-keymgmt</strong> (7), <strong>EVP_KEYMGMT</strong> (3),
<strong>OSSL_PROVIDER-default</strong> (7),
<strong>OSSL_PROVIDER-FIPS</strong> (7)</p>
<h1>COPYRIGHT</h1>
<p>Copyright 2020-2022 The OpenSSL Project Authors. All Rights
Reserved.</p>
<p>Licensed under the Apache License 2.0 (the License). You may not use
this file except in compliance with the License. You can obtain a copy
in the file LICENSE in the source distribution or at
&lt;https://www.openssl.org/source/license.html&gt;.</p>
