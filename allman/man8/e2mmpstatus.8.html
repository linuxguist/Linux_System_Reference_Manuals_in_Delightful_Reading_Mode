<link rel='stylesheet' href='../style.css'>
<script src='../script.js'></script>
<h1>NAME</h1>
<p>e2mmpstatus - Check MMP status of an ext4 file system</p>
<h1>SYNOPSIS</h1>
<p><strong>e2mmpstatus</strong> [<strong>-i</strong>]
&lt;<em>file</em>system<em>&gt;</em></p>
<h1>OPTIONS</h1>
<dl>
<dt><strong>-i</strong></dt>
<dd>
<p>prints out the MMP information rather than check it.</p>
</dd>
</dl>
<h1>DESCRIPTION</h1>
<p><strong>e2mmpstatus</strong> is used to check Multiple-Mount
Protection (MMP) status of an ext4 file system with the
<strong>mmp</strong> feature enabled. The specified <em>file system</em>
can be a device name (e.g. <em>/dev/hdc1</em>, <em>/dev/sdb2</em>), or
an ext4 file system label or UUID, for example
<strong>UUID=8868abf6-88c5-4a83-98b8-bfc24057f7bd</strong> or
<strong>LABEL=root</strong>. By default, the
<strong>e2mmpstatus</strong> program checks whether it is safe to mount
the file system without taking the risk of mounting it more than
once.</p>
<p>MMP (multiple-mount protection) is a feature that adds protection
against the file system being modified simultaneously by more than one
node. It is NOT safe to mount a file system when one of the following
conditions is true:<br />
1. e2fsck is running on the file system.<br />
2. the file system is in use by another node.<br />
3. The MMP block is corrupted or cannot be read for some reason.<br />
The <strong>e2mmpstatus</strong> program might wait for some time to see
whether the MMP block is being updated by any node during this period.
The time taken depends on how frequently the MMP block is being written
by the other node.</p>
<h1>EXIT CODE</h1>
<p>The exit code returned by <strong>e2mmpstatus</strong> is 0 when it
is safe to mount the file system, 1 when the MMP block shows the file
system is in use on another node and it is NOT safe to mount the file
system, and 2 if some other failure occurred that prevents the check
from properly detecting the current MMP status.</p>
<h1>SEE ALSO</h1>
<p><strong>dumpe2fs</strong>(8), <strong>e2fsck</strong>(8),
<strong>fstab</strong>(5), <strong>fsck</strong>(8),</p>
