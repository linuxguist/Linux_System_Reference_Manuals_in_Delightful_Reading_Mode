<link rel='stylesheet' href='../style.css'>
<script src='../script.js'></script>
<h1>NAME</h1>
<p>pam_stress - The stress-testing PAM module</p>
<h1>SYNOPSIS</h1>
<p><strong>pam_stress.so</strong> [debug] [no_warn] [use_first_pass]
[try_first_pass] [rootok] [expired] [fail_1] [fail_2] [prelim]
[required]</p>
<h1>DESCRIPTION</h1>
<p>The pam_stress PAM module is mainly intended to give the impression
of failing as a fully functioning module might.</p>
<h1>OPTIONS</h1>
<p><strong>debug</strong></p>
<blockquote>
<p>Put lots of information in syslog. *NOTE* this option writes
passwords to syslog, so dont use anything sensitive when testing.</p>
</blockquote>
<p><strong>no_warn</strong></p>
<blockquote>
<p>Do not give warnings about things (otherwise warnings are issued via
the conversation function)</p>
</blockquote>
<p><strong>use_first_pass</strong></p>
<blockquote>
<p>Do not prompt for a password, for pam_sm_authentication function just
use item PAM_AUTHTOK.</p>
</blockquote>
<p><strong>try_first_pass</strong></p>
<blockquote>
<p>Do not prompt for a password unless there has been no previous
authentication token (item PAM_AUTHTOK is NULL)</p>
</blockquote>
<p><strong>rootok</strong></p>
<blockquote>
<p>This is intended for the pam_sm_chauthtok function and it instructs
this function to permit root to change the users password without
entering the old password.</p>
</blockquote>
<p><strong>expired</strong></p>
<blockquote>
<p>An argument intended for the account and chauthtok module parts. It
instructs the module to act as if the users password has expired</p>
</blockquote>
<p><strong>fail_1</strong></p>
<blockquote>
<p>This instructs the module to make its first function fail.</p>
</blockquote>
<p><strong>fail_2</strong></p>
<blockquote>
<p>This instructs the module to make its second function (if there is
one) fail.</p>
</blockquote>
<p><strong>prelim</strong></p>
<blockquote>
<p>For pam_sm_chauthtok, means fail on PAM_PRELIM_CHECK.</p>
</blockquote>
<p><strong>required</strong></p>
<blockquote>
<p>For pam_sm_chauthtok, means fail if the user hasnt already been
authenticated by this module. (See stress_new_pwd data string in the
NOTES.)</p>
</blockquote>
<h1>MODULE TYPES PROVIDED</h1>
<p>All module types (<strong>auth</strong>, <strong>account</strong>,
<strong>password</strong> and <strong>session</strong>) are
provided.</p>
<h1>RETURN VALUES</h1>
<p>PAM_BUF_ERR</p>
<blockquote>
<p>Memory buffer error.</p>
</blockquote>
<p>PAM_PERM_DENIED</p>
<blockquote>
<p>Permission denied.</p>
</blockquote>
<p>PAM_AUTH_ERR</p>
<blockquote>
<p>Access to the system was denied.</p>
</blockquote>
<p>PAM_CONV_ERR</p>
<blockquote>
<p>Conversation failure.</p>
</blockquote>
<p>PAM_SUCCESS</p>
<blockquote>
<p>The function passes all checks.</p>
</blockquote>
<p>PAM_USER_UNKNOWN</p>
<blockquote>
<p>The user is not known to the system.</p>
</blockquote>
<p>PAM_CRED_ERR</p>
<blockquote>
<p>Failure involving user credentials.</p>
</blockquote>
<p>PAM_NEW_AUTHTOK_REQD</p>
<blockquote>
<p>Authentication token is no longer valid; new one required.</p>
</blockquote>
<p>PAM_SESSION_ERR</p>
<blockquote>
<p>Session failure.</p>
</blockquote>
<p>PAM_TRY_AGAIN</p>
<blockquote>
<p>Failed preliminary check by service.</p>
</blockquote>
<p>PAM_AUTHTOK_LOCK_BUSY</p>
<blockquote>
<p>Authentication token lock busy.</p>
</blockquote>
<p>PAM_AUTHTOK_ERR</p>
<blockquote>
<p>Authentication token manipulation error.</p>
</blockquote>
<p>PAM_SYSTEM_ERR</p>
<blockquote>
<p>System error.</p>
</blockquote>
<h1>NOTES</h1>
<p>This module uses the stress_new_pwd data string which tells
pam_sm_chauthtok that pam_sm_acct_mgmt says we need a new password. The
only possible value for this data string is yes.</p>
<h1>EXAMPLES</h1>
<blockquote>
<pre><code>#%PAM-1.0
#
# Any of the following will suffice
account  required pam_stress.so
auth     required pam_stress.so
password required pam_stress.so
session  required pam_stress.so
    </code></pre>
</blockquote>
<h1>SEE ALSO</h1>
<p><strong>pam.conf</strong>(5), <strong>pam.d</strong>(5),
<strong>pam</strong>(8).</p>
<h1>AUTHORS</h1>
<p>The pam_stress PAM module was developed by Andrew Morgan
&lt;morgan@linux.kernel.org&gt;. The man page for pam_stress was written
by Lucas Ramage &lt;ramage.lucas@protonmail.com&gt;.</p>
