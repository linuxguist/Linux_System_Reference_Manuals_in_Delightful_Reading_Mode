<link rel='stylesheet' href='../style.css'>
<script src='../script.js'></script>
<h1>NAME</h1>
<p>pppd - Point-to-Point Protocol Daemon</p>
<h1>SYNOPSIS</h1>
<p><strong>pppd</strong> [ <em>options</em> ]</p>
<h1>DESCRIPTION</h1>
<p>PPP is the protocol used for establishing internet links over dial-up
modems, DSL connections, and many other types of point-to-point links.
The <em>pppd</em> daemon works together with the kernel PPP driver to
establish and maintain a PPP link with another system (called the
<em>peer</em>) and to negotiate Internet Protocol (IP) addresses for
each end of the link. Pppd can also authenticate the peer and/or supply
authentication information to the peer. PPP can be used with other
network protocols besides IP, but such use is becoming increasingly
rare.</p>
<h1>FREQUENTLY USED OPTIONS</h1>
<dl>
<dt><em>ttyname</em></dt>
<dd>
<p>Use the serial port called <em>ttyname</em> to communicate with the
peer. If <em>ttyname</em> does not begin with a slash (/), the string
"/dev/" is prepended to <em>ttyname</em> to form the name of the device
to open. If no device name is given, or if the name of the terminal
connected to the standard input is given, pppd will use that terminal,
and will not fork to put itself in the background. A value for this
option from a privileged source cannot be overridden by a non-privileged
user.</p>
</dd>
<dt><em>speed</em></dt>
<dd>
<p>An option that is a decimal number is taken as the desired baud rate
for the serial device. On systems such as 4.4BSD and NetBSD, any speed
can be specified. Other systems (e.g. Linux, SunOS) only support the
commonly-used baud rates.</p>
</dd>
<dt><strong>asyncmap <em>map</em></strong></dt>
<dd>
<p>This option sets the Async-Control-Character-Map (ACCM) for this end
of the link. The ACCM is a set of 32 bits, one for each of the ASCII
control characters with values from 0 to 31, where a 1 bit indicates
that the corresponding control character should not be used in PPP
packets sent to this system. The map is encoded as a hexadecimal number
(without a leading 0x) where the least significant bit (00000001)
represents character 0 and the most significant bit (80000000)
represents character 31. Pppd will ask the peer to send these characters
as a 2-byte escape sequence. If multiple <em>asyncmap</em> options are
given, the values are ORed together. If no <em>asyncmap</em> option is
given, the default is zero, so pppd will ask the peer not to escape any
control characters. To escape transmitted characters, use the
<em>escape</em> option.</p>
</dd>
<dt><strong>auth</strong></dt>
<dd>
<p>Require the peer to authenticate itself before allowing network
packets to be sent or received. This option is the default if the system
has a default route. If neither this option nor the <em>noauth</em>
option is specified, pppd will only allow the peer to use IP addresses
to which the system does not already have a route.</p>
</dd>
<dt><strong>call <em>name</em></strong></dt>
<dd>
<p>Read additional options from the file /etc/ppp/peers/<em>name</em>.
This file may contain privileged options, such as <em>noauth</em>, even
if pppd is not being run by root. The <em>name</em> string may not begin
with / or include .. as a pathname component. The format of the options
file is described below.</p>
</dd>
<dt><strong>connect <em>script</em></strong></dt>
<dd>
<p>Usually there is something which needs to be done to prepare the link
before the PPP protocol can be started; for instance, with a dial-up
modem, commands need to be sent to the modem to dial the appropriate
phone number. This option specifies an command for pppd to execute (by
passing it to a shell) before attempting to start PPP negotiation. The
chat (8) program is often useful here, as it provides a way to send
arbitrary strings to a modem and respond to received characters. A value
for this option from a privileged source cannot be overridden by a
non-privileged user.</p>
</dd>
<dt><strong>crtscts</strong></dt>
<dd>
<p>Specifies that pppd should set the serial port to use hardware flow
control using the RTS and CTS signals in the RS-232 interface. If
neither the <em>crtscts</em>, the <em>nocrtscts</em>, the
<em>cdtrcts</em> nor the <em>nocdtrcts</em> option is given, the
hardware flow control setting for the serial port is left unchanged.
Some serial ports (such as Macintosh serial ports) lack a true RTS
output. Such serial ports use this mode to implement unidirectional flow
control. The serial port will suspend transmission when requested by the
modem (via CTS) but will be unable to request the modem to stop sending
to the computer. This mode retains the ability to use DTR as a modem
control line.</p>
</dd>
<dt><strong>defaultroute</strong></dt>
<dd>
<p>Add a default route to the system routing tables, using the peer as
the gateway, when IPCP negotiation is successfully completed. This entry
is removed when the PPP connection is broken. This option is privileged
if the <em>nodefaultroute</em> option has been specified.</p>
</dd>
<dt><strong>defaultroute-metric</strong></dt>
<dd>
<p>Define the metric of the <em>defaultroute</em> and only add it if
there is no other default route with the same metric. With the default
value of -1, the route is only added if there is no default route at
all.</p>
</dd>
<dt><strong>defaultroute6</strong></dt>
<dd>
<p>Add a default IPv6 route to the system routing tables, using the peer
as the gateway, when IPv6CP negotiation is successfully completed. This
entry is removed when the PPP connection is broken. This option is
privileged if the <em>nodefaultroute6</em> option has been
specified.</p>
</dd>
<dt><strong>replacedefaultroute</strong></dt>
<dd>
<p>This option is a flag to the defaultroute option. If defaultroute is
set and this flag is also set, pppd replaces an existing default route
with the new default route. This option is privileged.</p>
</dd>
<dt><strong>disconnect <em>script</em></strong></dt>
<dd>
<p>Execute the command specified by <em>script</em>, by passing it to a
shell, after pppd has terminated the link. This command could, for
example, issue commands to the modem to cause it to hang up if hardware
modem control signals were not available. The disconnect script is not
run if the modem has already hung up. A value for this option from a
privileged source cannot be overridden by a non-privileged user.</p>
</dd>
<dt><strong>escape <em>xx,yy,...</em></strong></dt>
<dd>
<p>Specifies that certain characters should be escaped on transmission
(regardless of whether the peer requests them to be escaped with its
async control character map). The characters to be escaped are specified
as a list of hex numbers separated by commas. Note that almost any
character can be specified for the <em>escape</em> option, unlike the
<em>asyncmap</em> option which only allows control characters to be
specified. The characters which may not be escaped are those with hex
values 0x20 - 0x3f or 0x5e.</p>
</dd>
<dt><strong>file <em>name</em></strong></dt>
<dd>
<p>Read options from file <em>name</em> (the format is described below).
The file must be readable by the user who has invoked pppd.</p>
</dd>
<dt><strong>init <em>script</em></strong></dt>
<dd>
<p>Execute the command specified by <em>script</em>, by passing it to a
shell, to initialize the serial line. This script would typically use
the chat(8) program to configure the modem to enable auto answer. A
value for this option from a privileged source cannot be overridden by a
non-privileged user.</p>
</dd>
<dt><strong>lock</strong></dt>
<dd>
<p>Specifies that pppd should create a UUCP-style lock file for the
serial device to ensure exclusive access to the device. By default, pppd
will not create a lock file.</p>
</dd>
<dt><strong>mru <em>n</em></strong></dt>
<dd>
<p>Set the MRU [Maximum Receive Unit] value to <em>n</em>. Pppd will ask
the peer to send packets of no more than <em>n</em> bytes. The value of
<em>n</em> must be between 128 and 16384; the default is 1500. A value
of 296 works well on very slow links (40 bytes for TCP/IP header + 256
bytes of data). Note that for the IPv6 protocol, the MRU must be at
least 1280.</p>
</dd>
<dt><strong>mtu <em>n</em></strong></dt>
<dd>
<p>Set the MTU [Maximum Transmit Unit] value to <em>n</em>. Unless the
peer requests a smaller value via MRU negotiation, pppd will request
that the kernel networking code send data packets of no more than
<em>n</em> bytes through the PPP network interface. Note that for the
IPv6 protocol, the MTU must be at least 1280.</p>
</dd>
<dt><strong>passive</strong></dt>
<dd>
<p>Enables the "passive" option in the LCP. With this option, pppd will
attempt to initiate a connection; if no reply is received from the peer,
pppd will then just wait passively for a valid LCP packet from the peer,
instead of exiting, as it would without this option.</p>
</dd>
</dl>
<h1>OPTIONS</h1>
<dl>
<dt><em>&lt;local_IP_address&gt;<strong>:</strong><em>&lt;remote_IP_address&gt;</em></em></dt>
<dd>
<p>Set the local and/or remote interface IP addresses. Either one may be
omitted. The IP addresses can be specified with a host name or in
decimal dot notation (e.g. 150.234.56.78). The default local address is
the (first) IP address of the system (unless the <em>noipdefault</em>
option is given). The remote address will be obtained from the peer if
not specified in any option. Thus, in simple cases, this option is not
required. If a local and/or remote IP address is specified with this
option, pppd will not accept a different value from the peer in the IPCP
negotiation, unless the <em>ipcp-accept-local</em> and/or
<em>ipcp-accept-remote</em> options are given, respectively.</p>
</dd>
<dt><strong>+ipv6</strong></dt>
<dd>
<p>Enable the IPv6CP and IPv6 protocols.</p>
</dd>
<dt><strong>ipv6
<em>&lt;local_interface_identifier&gt;</em>,<em>&lt;remote_interface_identifier&gt;</em></strong></dt>
<dd>
<p>Set the local and/or remote 64-bit interface identifier. Either one
may be omitted. The identifier must be specified in standard ASCII
notation of IPv6 addresses (e.g. ::dead:beef). If the
<em>ipv6cp-use-ipaddr</em> option is given, the local identifier is the
local IPv4 address (see above). On systems which supports a unique
persistent id, such as EUI-48 derived from the Ethernet MAC address,
<em>ipv6cp-use-persistent</em> option can be used to replace the
<em>ipv6 &lt;local&gt;,&lt;remote&gt;</em> option. Otherwise the
identifier is randomized.</p>
</dd>
<dt><strong>active-filter <em>filter-expression</em></strong></dt>
<dd>
<p>Specifies a packet filter to be applied to data packets to determine
which packets are to be regarded as link activity, and therefore reset
the idle timer, or cause the link to be brought up in demand-dialling
mode. This option is useful in conjunction with the
<strong>idle</strong> option if there are packets being sent or received
regularly over the link (for example, routing information packets) which
would otherwise prevent the link from ever appearing to be idle. The
<em>filter-expression</em> syntax is as described for tcpdump(1), except
that qualifiers which are inappropriate for a PPP link, such as
<strong>ether</strong> and <strong>arp</strong>, are not permitted.
Generally the filter expression should be enclosed in single-quotes to
prevent whitespace in the expression from being interpreted by the
shell. This option is currently only available under Linux, and requires
that the kernel was configured to include PPP filtering support
(CONFIG_PPP_FILTER). Note that it is possible to apply different
constraints to incoming and outgoing packets using the
<strong>inbound</strong> and <strong>outbound</strong> qualifiers.</p>
</dd>
<dt><strong>allow-ip <em>address(es)</em></strong></dt>
<dd>
<p>Allow peers to use the given IP address or subnet without
authenticating themselves. The parameter is parsed as for each element
of the list of allowed IP addresses in the secrets files (see the
AUTHENTICATION section below).</p>
</dd>
<dt><strong>allow-number <em>number</em></strong></dt>
<dd>
<p>Allow peers to connect from the given telephone number. A trailing
`*' character will match all numbers beginning with the leading
part.</p>
</dd>
<dt><strong>bsdcomp <em>nr,nt</em></strong></dt>
<dd>
<p>Request that the peer compress packets that it sends, using the
BSD-Compress scheme, with a maximum code size of <em>nr</em> bits, and
agree to compress packets sent to the peer with a maximum code size of
<em>nt</em> bits. If <em>nt</em> is not specified, it defaults to the
value given for <em>nr</em>. Values in the range 9 to 15 may be used for
<em>nr</em> and <em>nt</em>; larger values give better compression but
consume more kernel memory for compression dictionaries. Alternatively,
a value of 0 for <em>nr</em> or <em>nt</em> disables compression in the
corresponding direction. Use <em>nobsdcomp</em> or <em>bsdcomp 0</em> to
disable BSD-Compress compression entirely.</p>
</dd>
<dt><strong>ca <em>ca-file</em></strong></dt>
<dd>
<p>(EAP-TLS) Use the file <em>ca-file</em> as the X.509 Certificate
Authority (CA) file (in PEM format), needed for setting up an EAP-TLS
connection. This option is used on the client-side in conjunction with
the <strong>cert</strong> and <strong>key</strong> options.</p>
</dd>
<dt><strong>cdtrcts</strong></dt>
<dd>
<p>Use a non-standard hardware flow control (i.e. DTR/CTS) to control
the flow of data on the serial port. If neither the <em>crtscts</em>,
the <em>nocrtscts</em>, the <em>cdtrcts</em> nor the <em>nocdtrcts</em>
option is given, the hardware flow control setting for the serial port
is left unchanged. Some serial ports (such as Macintosh serial ports)
lack a true RTS output. Such serial ports use this mode to implement
true bi-directional flow control. The sacrifice is that this flow
control mode does not permit using DTR as a modem control line.</p>
</dd>
<dt><strong>cert <em>certfile</em></strong></dt>
<dd>
<p>(EAP-TLS) Use the file <em>certfile</em> as the X.509 certificate (in
PEM format), needed for setting up an EAP-TLS connection. This option is
used on the client-side in conjunction with the <strong>ca</strong> and
<strong>key</strong> options.</p>
</dd>
<dt><strong>chap-interval <em>n</em></strong></dt>
<dd>
<p>If this option is given, pppd will rechallenge the peer every
<em>n</em> seconds.</p>
</dd>
<dt><strong>chap-max-challenge <em>n</em></strong></dt>
<dd>
<p>Set the maximum number of CHAP challenge transmissions to <em>n</em>
(default 10).</p>
</dd>
<dt><strong>chap-restart <em>n</em></strong></dt>
<dd>
<p>Set the CHAP restart interval (retransmission timeout for challenges)
to <em>n</em> seconds (default 3).</p>
</dd>
<dt><strong>chap-timeout <em>n</em></strong></dt>
<dd>
<p>Set timeout for CHAP authentication by peer to <em>n</em> seconds
(default 60).</p>
</dd>
<dt><strong>chapms-strip-domain</strong></dt>
<dd>
<p>Some Windows 9x/ME clients might be transmitting the MS domain before
the username in the provided client name. This option enables stripping
the domain from the client name on the server side before matching it
against the secret file.</p>
</dd>
<dt><strong>child-timeout <em>n</em></strong></dt>
<dd>
<p>When exiting, wait for up to <em>n</em> seconds for any child
processes (such as the command specified with the <strong>pty</strong>
command) to exit before exiting. At the end of the timeout, pppd will
send a SIGTERM signal to any remaining child processes and exit. A value
of 0 means no timeout, that is, pppd will wait until all child processes
have exited.</p>
</dd>
<dt><strong>connect-delay <em>n</em></strong></dt>
<dd>
<p>Wait for up to <em>n</em> milliseconds after the connect script
finishes for a valid PPP packet from the peer. At the end of this time,
or when a valid PPP packet is received from the peer, pppd will commence
negotiation by sending its first LCP packet. The default value is 1000
(1 second). This wait period only applies if the
<strong>connect</strong> or <strong>pty</strong> option is used.</p>
</dd>
<dt><strong>crl <em>filename</em></strong></dt>
<dd>
<p>(EAP-TLS) Use the file <em>filename</em> as the Certificate
Revocation List to check for the validity of the peer's certificate.
This option is not mandatory for setting up an EAP-TLS connection. Also
see the <strong>crl-dir</strong> option.</p>
</dd>
<dt><strong>crl-dir <em>directory</em></strong></dt>
<dd>
<p>(EAP-TLS) Use the directory <em>directory</em> to scan for CRL files
in has format ($hash.r0) to check for the validity of the peer's
certificate. This option is not mandatory for setting up an EAP-TLS
connection. Also see the <strong>crl</strong> option.</p>
</dd>
<dt><strong>debug</strong></dt>
<dd>
<p>Enables connection debugging facilities. If this option is given,
pppd will log the contents of all control packets sent or received in a
readable form. The packets are logged through syslog with facility
<em>daemon</em> and level <em>debug</em>. This information can be
directed to a file by setting up /etc/syslog.conf appropriately (see
syslog.conf(5)).</p>
</dd>
<dt><strong>default-asyncmap</strong></dt>
<dd>
<p>Disable asyncmap negotiation, forcing all control characters to be
escaped for both the transmit and the receive direction.</p>
</dd>
<dt><strong>default-mru</strong></dt>
<dd>
<p>Disable MRU [Maximum Receive Unit] negotiation. With this option,
pppd will use the default MRU value of 1500 bytes for both the transmit
and receive direction.</p>
</dd>
<dt><strong>deflate <em>nr,nt</em></strong></dt>
<dd>
<p>Request that the peer compress packets that it sends, using the
Deflate scheme, with a maximum window size of <em>2**nr</em> bytes, and
agree to compress packets sent to the peer with a maximum window size of
<em>2**nt</em> bytes. If <em>nt</em> is not specified, it defaults to
the value given for <em>nr</em>. Values in the range 9 to 15 may be used
for <em>nr</em> and <em>nt</em>; larger values give better compression
but consume more kernel memory for compression dictionaries.
Alternatively, a value of 0 for <em>nr</em> or <em>nt</em> disables
compression in the corresponding direction. Use <em>nodeflate</em> or
<em>deflate 0</em> to disable Deflate compression entirely. (Note: pppd
requests Deflate compression in preference to BSD-Compress if the peer
can do either.)</p>
</dd>
<dt><strong>demand</strong></dt>
<dd>
<p>Initiate the link only on demand, i.e. when data traffic is present.
With this option, the remote IP address may be specified by the user on
the command line or in an options file, or if not, pppd will use an
arbitrary address in the 10.x.x.x range. Pppd will initially configure
the interface and enable it for IP traffic without connecting to the
peer. When traffic is available, pppd will connect to the peer and
perform negotiation, authentication, etc. When this is completed, pppd
will commence passing data packets (i.e., IP packets) across the
link.</p>
<p>The <em>demand</em> option implies the <em>persist</em> option. If
this behaviour is not desired, use the <em>nopersist</em> option after
the <em>demand</em> option. The <em>idle</em> and <em>holdoff</em>
options are also useful in conjunction with the <em>demand</em>
option.</p>
</dd>
<dt><strong>domain <em>d</em></strong></dt>
<dd>
<p>Append the domain name <em>d</em> to the local host name for
authentication purposes. For example, if gethostname() returns the name
porsche, but the fully qualified domain name is porsche.Quotron.COM, you
could specify <em>domain Quotron.COM</em>. Pppd would then use the name
<em>porsche.Quotron.COM</em> for looking up secrets in the secrets file,
and as the default name to send to the peer when authenticating itself
to the peer. This option is privileged.</p>
</dd>
<dt><strong>dryrun</strong></dt>
<dd>
<p>With the <strong>dryrun</strong> option, pppd will print out all the
option values which have been set and then exit, after parsing the
command line and options files and checking the option values, but
before initiating the link. The option values are logged at level info,
and also printed to standard output unless the device on standard output
is the device that pppd would be using to communicate with the peer.</p>
</dd>
<dt><strong>dump</strong></dt>
<dd>
<p>With the <strong>dump</strong> option, pppd will print out all the
option values which have been set. This option is like the
<strong>dryrun</strong> option except that pppd proceeds as normal
rather than exiting.</p>
</dd>
<dt><strong>enable-session</strong></dt>
<dd>
<p>Enables session accounting via PAM or wtwp/wtmpx, as appropriate.
When PAM is enabled, the PAM "account" and "session" module stacks
determine behavior, and are enabled for all PPP authentication
protocols. When PAM is disabled, wtmp/wtmpx entries are recorded
regardless of whether the peer name identifies a valid user on the local
system, making peers visible in the last(1) log. This feature is
automatically enabled when the pppd <strong>login</strong> option is
used. Session accounting is disabled by default.</p>
</dd>
<dt><strong>endpoint <em>&lt;epdisc&gt;</em></strong></dt>
<dd>
<p>Sets the endpoint discriminator sent by the local machine to the peer
during multilink negotiation to <em>&lt;epdisc&gt;</em>. The default is
to use the MAC address of the first ethernet interface on the system, if
any, otherwise the IPv4 address corresponding to the hostname, if any,
provided it is not in the multicast or locally-assigned IP address
ranges, or the localhost address. The endpoint discriminator can be the
string <strong>null</strong> or of the form
<em>type</em>:<em>value</em>, where type is a decimal number or one of
the strings <strong>local</strong>, <strong>IP</strong>,
<strong>MAC</strong>, <strong>magic</strong>, or <strong>phone</strong>.
The value is an IP address in dotted-decimal notation for the
<strong>IP</strong> type, or a string of bytes in hexadecimal, separated
by periods or colons for the other types. For the MAC type, the value
may also be the name of an ethernet or similar network interface. This
option is currently only available under Linux.</p>
</dd>
<dt><strong>eap-interval <em>n</em></strong></dt>
<dd>
<p>If this option is given and pppd authenticates the peer with EAP
(i.e., is the server), pppd will restart EAP authentication every
<em>n</em> seconds. For EAP SRP-SHA1, see also the
<strong>srp-interval</strong> option, which enables lightweight
rechallenge.</p>
</dd>
<dt><strong>eap-max-rreq <em>n</em></strong></dt>
<dd>
<p>Set the maximum number of EAP Requests to which pppd will respond (as
a client) without hearing EAP Success or Failure. (Default is 20.)</p>
</dd>
<dt><strong>eap-max-sreq <em>n</em></strong></dt>
<dd>
<p>Set the maximum number of EAP Requests that pppd will issue (as a
server) while attempting authentication. (Default is 10.)</p>
</dd>
<dt><strong>eap-restart <em>n</em></strong></dt>
<dd>
<p>Set the retransmit timeout for EAP Requests when acting as a server
(authenticator). (Default is 3 seconds.)</p>
</dd>
<dt><strong>eap-timeout <em>n</em></strong></dt>
<dd>
<p>Set the maximum time to wait for the peer to send an EAP Request when
acting as a client (authenticatee). (Default is 20 seconds.)</p>
</dd>
<dt><strong>hide-password</strong></dt>
<dd>
<p>When logging the contents of PAP packets, this option causes pppd to
exclude the password string from the log. This is the default.</p>
</dd>
<dt><strong>holdoff <em>n</em></strong></dt>
<dd>
<p>Specifies how many seconds to wait before re-initiating the link
after it terminates. This option only has any effect if the
<em>persist</em> or <em>demand</em> option is used. The holdoff period
is not applied if the link was terminated because it was idle.</p>
</dd>
<dt><strong>idle <em>n</em></strong></dt>
<dd>
<p>Specifies that pppd should disconnect if the link is idle for
<em>n</em> seconds. The link is idle when no data packets (i.e. IP
packets) are being sent or received. Note: it is not advisable to use
this option with the <em>persist</em> option without the <em>demand</em>
option. If the <strong>active-filter</strong> option is given, data
packets which are rejected by the specified activity filter also count
as the link being idle.</p>
</dd>
<dt><strong>ipcp-accept-local</strong></dt>
<dd>
<p>With this option, pppd will accept the peer's idea of our local IP
address, even if the local IP address was specified in an option.</p>
</dd>
<dt><strong>ipcp-accept-remote</strong></dt>
<dd>
<p>With this option, pppd will accept the peer's idea of its (remote) IP
address, even if the remote IP address was specified in an option.</p>
</dd>
<dt><strong>ipcp-max-configure <em>n</em></strong></dt>
<dd>
<p>Set the maximum number of IPCP configure-request transmissions to
<em>n</em> (default 10).</p>
</dd>
<dt><strong>ipcp-max-failure <em>n</em></strong></dt>
<dd>
<p>Set the maximum number of IPCP configure-NAKs returned before
starting to send configure-Rejects instead to <em>n</em> (default
10).</p>
</dd>
<dt><strong>ipcp-max-terminate <em>n</em></strong></dt>
<dd>
<p>Set the maximum number of IPCP terminate-request transmissions to
<em>n</em> (default 3).</p>
</dd>
<dt><strong>ipcp-restart <em>n</em></strong></dt>
<dd>
<p>Set the IPCP restart interval (retransmission timeout) to <em>n</em>
seconds (default 3).</p>
</dd>
<dt><strong>ipparam <em>string</em></strong></dt>
<dd>
<p>Provides an extra parameter to the ip-up, ip-pre-up and ip-down
scripts. If this option is given, the <em>string</em> supplied is given
as the 6th parameter to those scripts.</p>
</dd>
<dt><strong>ipv6cp-accept-local</strong></dt>
<dd>
<p>With this option, pppd will accept the peer's idea of our local IPv6
interface identifier, even if the local IPv6 interface identifier was
specified in an option.</p>
</dd>
<dt><strong>ipv6cp-accept-remote</strong></dt>
<dd>
<p>With this option, pppd will accept the peer's idea of its (remote)
IPv6 interface identifier, even if the remote IPv6 interface identifier
was specified in an option.</p>
</dd>
<dt><strong>ipv6cp-max-configure <em>n</em></strong></dt>
<dd>
<p>Set the maximum number of IPv6CP configure-request transmissions to
<em>n</em> (default 10).</p>
</dd>
<dt><strong>ipv6cp-max-failure <em>n</em></strong></dt>
<dd>
<p>Set the maximum number of IPv6CP configure-NAKs returned before
starting to send configure-Rejects instead to <em>n</em> (default
10).</p>
</dd>
<dt><strong>ipv6cp-max-terminate <em>n</em></strong></dt>
<dd>
<p>Set the maximum number of IPv6CP terminate-request transmissions to
<em>n</em> (default 3).</p>
</dd>
<dt><strong>ipv6cp-restart <em>n</em></strong></dt>
<dd>
<p>Set the IPv6CP restart interval (retransmission timeout) to
<em>n</em> seconds (default 3).</p>
</dd>
<dt><strong>ipx</strong></dt>
<dd>
<p>Enable the IPXCP and IPX protocols. This option is presently only
supported under Linux, and only if your kernel has been configured to
include IPX support.</p>
</dd>
<dt><strong>ipx-network <em>n</em></strong></dt>
<dd>
<p>Set the IPX network number in the IPXCP configure request frame to
<em>n</em>, a hexadecimal number (without a leading 0x). There is no
valid default. If this option is not specified, the network number is
obtained from the peer. If the peer does not have the network number,
the IPX protocol will not be started.</p>
</dd>
<dt><strong>ipx-node
<em>n</em><strong>:</strong><em>m</em></strong></dt>
<dd>
<p>Set the IPX node numbers. The two node numbers are separated from
each other with a colon character. The first number <em>n</em> is the
local node number. The second number <em>m</em> is the peer's node
number. Each node number is a hexadecimal number, at most 10 digits
long. The node numbers on the ipx-network must be unique. There is no
valid default. If this option is not specified then the node numbers are
obtained from the peer.</p>
</dd>
<dt><strong>ipx-router-name <em>&lt;string&gt;</em></strong></dt>
<dd>
<p>Set the name of the router. This is a string and is sent to the peer
as information data.</p>
</dd>
<dt><strong>ipx-routing <em>n</em></strong></dt>
<dd>
<p>Set the routing protocol to be received by this option. More than one
instance of <em>ipx-routing</em> may be specified. The '<em>none</em>'
option (0) may be specified as the only instance of ipx-routing. The
values may be <em>0</em> for <em>NONE</em>, <em>2</em> for
<em>RIP/SAP</em>, and <em>4</em> for <em>NLSP</em>.</p>
</dd>
<dt><strong>ipxcp-accept-local</strong></dt>
<dd>
<p>Accept the peer's NAK for the node number specified in the ipx-node
option. If a node number was specified, and non-zero, the default is to
insist that the value be used. If you include this option then you will
permit the peer to override the entry of the node number.</p>
</dd>
<dt><strong>ipxcp-accept-network</strong></dt>
<dd>
<p>Accept the peer's NAK for the network number specified in the
ipx-network option. If a network number was specified, and non-zero, the
default is to insist that the value be used. If you include this option
then you will permit the peer to override the entry of the node
number.</p>
</dd>
<dt><strong>ipxcp-accept-remote</strong></dt>
<dd>
<p>Use the peer's network number specified in the configure request
frame. If a node number was specified for the peer and this option was
not specified, the peer will be forced to use the value which you have
specified.</p>
</dd>
<dt><strong>ipxcp-max-configure <em>n</em></strong></dt>
<dd>
<p>Set the maximum number of IPXCP configure request frames which the
system will send to <em>n</em>. The default is 10.</p>
</dd>
<dt><strong>ipxcp-max-failure <em>n</em></strong></dt>
<dd>
<p>Set the maximum number of IPXCP NAK frames which the local system
will send before it rejects the options. The default value is 3.</p>
</dd>
<dt><strong>ipxcp-max-terminate <em>n</em></strong></dt>
<dd>
<p>Set the maximum number of IPXCP terminate request frames before the
local system considers that the peer is not listening to them. The
default value is 3.</p>
</dd>
<dt><strong>kdebug <em>n</em></strong></dt>
<dd>
<p>Enable debugging code in the kernel-level PPP driver. The argument
values depend on the specific kernel driver, but in general a value of 1
will enable general kernel debug messages. (Note that these messages are
usually only useful for debugging the kernel driver itself.) For the
Linux 2.2.x kernel driver, the value is a sum of bits: 1 to enable
general debug messages, 2 to request that the contents of received
packets be printed, and 4 to request that the contents of transmitted
packets be printed. On most systems, messages printed by the kernel are
logged by syslog(1) to a file as directed in the /etc/syslog.conf
configuration file.</p>
</dd>
<dt><strong>key <em>keyfile</em></strong></dt>
<dd>
<p>(EAP-TLS) Use the file <em>keyfile</em> as the private key file (in
PEM format), needed for setting up an EAP-TLS connection. This option is
used on the client-side in conjunction with the <strong>ca</strong> and
<strong>cert</strong> options.</p>
</dd>
<dt><strong>ktune</strong></dt>
<dd>
<p>Enables pppd to alter kernel settings as appropriate. Under Linux,
pppd will enable IP forwarding (i.e. set /proc/sys/net/ipv4/ip_forward
to 1) if the <em>proxyarp</em> option is used, and will enable the
dynamic IP address option (i.e. set /proc/sys/net/ipv4/ip_dynaddr to 1)
in demand mode if the local address changes.</p>
</dd>
<dt><strong>lcp-echo-adaptive</strong></dt>
<dd>
<p>If this option is used with the <em>lcp-echo-failure</em> option then
pppd will send LCP echo-request frames only if no traffic was received
from the peer since the last echo-request was sent.</p>
</dd>
<dt><strong>lcp-echo-failure <em>n</em></strong></dt>
<dd>
<p>If this option is given, pppd will presume the peer to be dead if
<em>n</em> LCP echo-requests are sent without receiving a valid LCP
echo-reply. If this happens, pppd will terminate the connection. Use of
this option requires a non-zero value for the <em>lcp-echo-interval</em>
parameter. This option can be used to enable pppd to terminate after the
physical connection has been broken (e.g., the modem has hung up) in
situations where no hardware modem control lines are available.</p>
</dd>
<dt><strong>lcp-echo-interval <em>n</em></strong></dt>
<dd>
<p>If this option is given, pppd will send an LCP echo-request frame to
the peer every <em>n</em> seconds. Normally the peer should respond to
the echo-request by sending an echo-reply. This option can be used with
the <em>lcp-echo-failure</em> option to detect that the peer is no
longer connected.</p>
</dd>
<dt><strong>lcp-max-configure <em>n</em></strong></dt>
<dd>
<p>Set the maximum number of LCP configure-request transmissions to
<em>n</em> (default 10).</p>
</dd>
<dt><strong>lcp-max-failure <em>n</em></strong></dt>
<dd>
<p>Set the maximum number of LCP configure-NAKs returned before starting
to send configure-Rejects instead to <em>n</em> (default 10).</p>
</dd>
<dt><strong>lcp-max-terminate <em>n</em></strong></dt>
<dd>
<p>Set the maximum number of LCP terminate-request transmissions to
<em>n</em> (default 3).</p>
</dd>
<dt><strong>lcp-restart <em>n</em></strong></dt>
<dd>
<p>Set the LCP restart interval (retransmission timeout) to <em>n</em>
seconds (default 3).</p>
</dd>
<dt><strong>linkname <em>name</em></strong></dt>
<dd>
<p>Sets the logical name of the link to <em>name</em>. Pppd will create
a file named <strong>ppp-</strong><em>name</em><strong>.pid</strong> in
/var/run (or /etc/ppp on some systems) containing its process ID. This
can be useful in determining which instance of pppd is responsible for
the link to a given peer system. This is a privileged option.</p>
</dd>
<dt><strong>local</strong></dt>
<dd>
<p>Don't use the modem control lines. With this option, pppd will ignore
the state of the CD (Carrier Detect) signal from the modem and will not
change the state of the DTR (Data Terminal Ready) signal. This is the
opposite of the <strong>modem</strong> option.</p>
</dd>
<dt><strong>logfd <em>n</em></strong></dt>
<dd>
<p>Send log messages to file descriptor <em>n</em>. Pppd will send log
messages to at most one file or file descriptor (as well as sending the
log messages to syslog), so this option and the <strong>logfile</strong>
option are mutually exclusive. The default is for pppd to send log
messages to stdout (file descriptor 1), unless the serial port is
already open on stdout.</p>
</dd>
<dt><strong>logfile <em>filename</em></strong></dt>
<dd>
<p>Append log messages to the file <em>filename</em> (as well as sending
the log messages to syslog). The file is opened with the privileges of
the user who invoked pppd, in append mode.</p>
</dd>
<dt><strong>login</strong></dt>
<dd>
<p>Use the system password database for authenticating the peer using
PAP, and record the user in the system wtmp file. Note that the peer
must have an entry in the /etc/ppp/pap-secrets file as well as the
system password database to be allowed access. See also the
<strong>enable-session</strong> option.</p>
</dd>
<dt><strong>master_detach</strong></dt>
<dd>
<p>If multilink is enabled and this pppd process is the multilink bundle
master, and the link controlled by this pppd process terminates, this
pppd process continues to run in order to maintain the bundle. If the
<strong>master_detach</strong> option has been given, pppd will detach
from its controlling terminal in this situation, even if the
<strong>nodetach</strong> option has been given.</p>
</dd>
<dt><strong>maxconnect <em>n</em></strong></dt>
<dd>
<p>Terminate the connection when it has been available for network
traffic for <em>n</em> seconds (i.e. <em>n</em> seconds after the first
network control protocol comes up).</p>
</dd>
<dt><strong>maxfail <em>n</em></strong></dt>
<dd>
<p>Terminate after <em>n</em> consecutive failed connection attempts. A
value of 0 means no limit. The default value is 10.</p>
</dd>
<dt><strong>modem</strong></dt>
<dd>
<p>Use the modem control lines. This option is the default. With this
option, pppd will wait for the CD (Carrier Detect) signal from the modem
to be asserted when opening the serial device (unless a connect script
is specified), and it will drop the DTR (Data Terminal Ready) signal
briefly when the connection is terminated and before executing the
connect script. On Ultrix, this option implies hardware flow control, as
for the <em>crtscts</em> option. This is the opposite of the
<strong>local</strong> option.</p>
</dd>
<dt><strong>mp</strong></dt>
<dd>
<p>Enables the use of PPP multilink; this is an alias for the
`multilink' option. This option is currently only available under
Linux.</p>
</dd>
<dt><strong>mppe-stateful</strong></dt>
<dd>
<p>Allow MPPE to use stateful mode. Stateless mode is still attempted
first. The default is to disallow stateful mode.</p>
</dd>
<dt><strong>mpshortseq</strong></dt>
<dd>
<p>Enables the use of short (12-bit) sequence numbers in multilink
headers, as opposed to 24-bit sequence numbers. This option is only
available under Linux, and only has any effect if multilink is enabled
(see the multilink option).</p>
</dd>
<dt><strong>mrru <em>n</em></strong></dt>
<dd>
<p>Sets the Maximum Reconstructed Receive Unit to <em>n</em>. The MRRU
is the maximum size for a received packet on a multilink bundle, and is
analogous to the MRU for the individual links. This option is currently
only available under Linux, and only has any effect if multilink is
enabled (see the multilink option).</p>
</dd>
<dt><strong>ms-dns <em>&lt;addr&gt;</em></strong></dt>
<dd>
<p>If pppd is acting as a server for Microsoft Windows clients, this
option allows pppd to supply one or two DNS (Domain Name Server)
addresses to the clients. The first instance of this option specifies
the primary DNS address; the second instance (if given) specifies the
secondary DNS address. (This option was present in some older versions
of pppd under the name <strong>dns-addr</strong>.)</p>
</dd>
<dt><strong>ms-wins <em>&lt;addr&gt;</em></strong></dt>
<dd>
<p>If pppd is acting as a server for Microsoft Windows or "Samba"
clients, this option allows pppd to supply one or two WINS (Windows
Internet Name Services) server addresses to the clients. The first
instance of this option specifies the primary WINS address; the second
instance (if given) specifies the secondary WINS address.</p>
</dd>
<dt><strong>multilink</strong></dt>
<dd>
<p>Enables the use of the PPP multilink protocol. If the peer also
supports multilink, then this link can become part of a bundle between
the local system and the peer. If there is an existing bundle to the
peer, pppd will join this link to that bundle, otherwise pppd will
create a new bundle. See the MULTILINK section below. This option is
currently only available under Linux.</p>
</dd>
<dt><strong>name <em>name</em></strong></dt>
<dd>
<p>Set the name of the local system for authentication purposes to
<em>name</em>. This is a privileged option. With this option, pppd will
use lines in the secrets files which have <em>name</em> as the second
field when looking for a secret to use in authenticating the peer. In
addition, unless overridden with the <em>user</em> option, <em>name</em>
will be used as the name to send to the peer when authenticating the
local system to the peer. (Note that pppd does not append the domain
name to <em>name</em>.)</p>
</dd>
<dt><strong>noaccomp</strong></dt>
<dd>
<p>Disable Address/Control compression in both directions (send and
receive).</p>
</dd>
<dt><strong>need-peer-eap</strong></dt>
<dd>
<p>(EAP-TLS) Require the peer to verify our authentication
credentials.</p>
</dd>
<dt><strong>noauth</strong></dt>
<dd>
<p>Do not require the peer to authenticate itself. This option is
privileged.</p>
</dd>
<dt><strong>nobsdcomp</strong></dt>
<dd>
<p>Disables BSD-Compress compression; <strong>pppd</strong> will not
request or agree to compress packets using the BSD-Compress scheme.</p>
</dd>
<dt><strong>noccp</strong></dt>
<dd>
<p>Disable CCP (Compression Control Protocol) negotiation. This option
should only be required if the peer is buggy and gets confused by
requests from pppd for CCP negotiation.</p>
</dd>
<dt><strong>nocrtscts</strong></dt>
<dd>
<p>Disable hardware flow control (i.e. RTS/CTS) on the serial port. If
neither the <em>crtscts</em> nor the <em>nocrtscts</em> nor the
<em>cdtrcts</em> nor the <em>nocdtrcts</em> option is given, the
hardware flow control setting for the serial port is left unchanged.</p>
</dd>
<dt><strong>nocdtrcts</strong></dt>
<dd>
<p>This option is a synonym for <em>nocrtscts</em>. Either of these
options will disable both forms of hardware flow control.</p>
</dd>
<dt><strong>nodefaultroute</strong></dt>
<dd>
<p>Disable the <em>defaultroute</em> option. The system administrator
who wishes to prevent users from adding a default route with pppd can do
so by placing this option in the /etc/ppp/options file.</p>
</dd>
<dt><strong>noreplacedefaultroute</strong></dt>
<dd>
<p>Disable the <em>replacedefaultroute</em> option. This allows to
disable a <em>replacedefaultroute</em> option set previously in the
configuration.</p>
</dd>
<dt><strong>nodefaultroute6</strong></dt>
<dd>
<p>Disable the <em>defaultroute6</em> option. The system administrator
who wishes to prevent users from adding a default route with pppd can do
so by placing this option in the /etc/ppp/options file.</p>
</dd>
<dt><strong>nodeflate</strong></dt>
<dd>
<p>Disables Deflate compression; pppd will not request or agree to
compress packets using the Deflate scheme.</p>
</dd>
<dt><strong>nodetach</strong></dt>
<dd>
<p>Don't detach from the controlling terminal. Without this option, if a
serial device other than the terminal on the standard input is
specified, pppd will fork to become a background process.</p>
</dd>
<dt><strong>noendpoint</strong></dt>
<dd>
<p>Disables pppd from sending an endpoint discriminator to the peer or
accepting one from the peer (see the MULTILINK section below). This
option should only be required if the peer is buggy.</p>
</dd>
<dt><strong>noip</strong></dt>
<dd>
<p>Disable IPCP negotiation and IP communication. This option should
only be required if the peer is buggy and gets confused by requests from
pppd for IPCP negotiation.</p>
</dd>
<dt><strong>noipv6</strong></dt>
<dd>
<p>Disable IPv6CP negotiation and IPv6 communication. This option should
only be required if the peer is buggy and gets confused by requests from
pppd for IPv6CP negotiation.</p>
</dd>
<dt><strong>noipdefault</strong></dt>
<dd>
<p>Disables the default behaviour when no local IP address is specified,
which is to determine (if possible) the local IP address from the
hostname. With this option, the peer will have to supply the local IP
address during IPCP negotiation (unless it specified explicitly on the
command line or in an options file).</p>
</dd>
<dt><strong>noipx</strong></dt>
<dd>
<p>Disable the IPXCP and IPX protocols. This option should only be
required if the peer is buggy and gets confused by requests from pppd
for IPXCP negotiation.</p>
</dd>
<dt><strong>noktune</strong></dt>
<dd>
<p>Opposite of the <em>ktune</em> option; disables pppd from changing
system settings.</p>
</dd>
<dt><strong>nolock</strong></dt>
<dd>
<p>Opposite of the <em>lock</em> option; specifies that pppd should not
create a UUCP-style lock file for the serial device. This option is
privileged.</p>
</dd>
<dt><strong>nolog</strong></dt>
<dd>
<p>Do not send log messages to a file or file descriptor. This option
cancels the <strong>logfd</strong> and <strong>logfile</strong>
options.</p>
</dd>
<dt><strong>nomagic</strong></dt>
<dd>
<p>Disable magic number negotiation. With this option, pppd cannot
detect a looped-back line. This option should only be needed if the peer
is buggy.</p>
</dd>
<dt><strong>nomp</strong></dt>
<dd>
<p>Disables the use of PPP multilink. This option is currently only
available under Linux.</p>
</dd>
<dt><strong>nomppe</strong></dt>
<dd>
<p>Disables MPPE (Microsoft Point to Point Encryption). This is the
default.</p>
</dd>
<dt><strong>nomppe-40</strong></dt>
<dd>
<p>Disable 40-bit encryption with MPPE.</p>
</dd>
<dt><strong>nomppe-128</strong></dt>
<dd>
<p>Disable 128-bit encryption with MPPE.</p>
</dd>
<dt><strong>nomppe-stateful</strong></dt>
<dd>
<p>Disable MPPE stateful mode. This is the default.</p>
</dd>
<dt><strong>nompshortseq</strong></dt>
<dd>
<p>Disables the use of short (12-bit) sequence numbers in the PPP
multilink protocol, forcing the use of 24-bit sequence numbers. This
option is currently only available under Linux, and only has any effect
if multilink is enabled.</p>
</dd>
<dt><strong>nomultilink</strong></dt>
<dd>
<p>Disables the use of PPP multilink. This option is currently only
available under Linux.</p>
</dd>
<dt><strong>nopcomp</strong></dt>
<dd>
<p>Disable protocol field compression negotiation in both the receive
and the transmit direction.</p>
</dd>
<dt><strong>nopersist</strong></dt>
<dd>
<p>Exit once a connection has been made and terminated. This is the
default unless the <em>persist</em> or <em>demand</em> option has been
specified.</p>
</dd>
<dt><strong>nopredictor1</strong></dt>
<dd>
<p>Do not accept or agree to Predictor-1 compression.</p>
</dd>
<dt><strong>noproxyarp</strong></dt>
<dd>
<p>Disable the <em>proxyarp</em> option. The system administrator who
wishes to prevent users from creating proxy ARP entries with pppd can do
so by placing this option in the /etc/ppp/options file.</p>
</dd>
<dt><strong>noremoteip</strong></dt>
<dd>
<p>Allow pppd to operate without having an IP address for the peer. This
option is only available under Linux. Normally, pppd will request the
peer's IP address, and if the peer does not supply it, pppd will use an
arbitrary address in the 10.x.x.x subnet. With this option, if the peer
does not supply its IP address, pppd will not ask the peer for it, and
will not set the destination address of the ppp interface. In this
situation, the ppp interface can be used for routing by creating device
routes, but the peer itself cannot be addressed directly for IP
traffic.</p>
</dd>
<dt><strong>notty</strong></dt>
<dd>
<p>Normally, pppd requires a terminal device. With this option, pppd
will allocate itself a pseudo-tty master/slave pair and use the slave as
its terminal device. Pppd will create a child process to act as a
`character shunt' to transfer characters between the pseudo-tty master
and its standard input and output. Thus pppd will transmit characters on
its standard output and receive characters on its standard input even if
they are not terminal devices. This option increases the latency and CPU
overhead of transferring data over the ppp interface as all of the
characters sent and received must flow through the character shunt
process. An explicit device name may not be given if this option is
used.</p>
</dd>
<dt><strong>novj</strong></dt>
<dd>
<p>Disable Van Jacobson style TCP/IP header compression in both the
transmit and the receive direction.</p>
</dd>
<dt><strong>novjccomp</strong></dt>
<dd>
<p>Disable the connection-ID compression option in Van Jacobson style
TCP/IP header compression. With this option, pppd will not omit the
connection-ID byte from Van Jacobson compressed TCP/IP headers, nor ask
the peer to do so.</p>
</dd>
<dt><strong>papcrypt</strong></dt>
<dd>
<p>Indicates that all secrets in the /etc/ppp/pap-secrets file which are
used for checking the identity of the peer are encrypted, and thus pppd
should not accept a password which, before encryption, is identical to
the secret from the /etc/ppp/pap-secrets file.</p>
</dd>
<dt><strong>pap-max-authreq <em>n</em></strong></dt>
<dd>
<p>Set the maximum number of PAP authenticate-request transmissions to
<em>n</em> (default 10).</p>
</dd>
<dt><strong>pap-restart <em>n</em></strong></dt>
<dd>
<p>Set the PAP restart interval (retransmission timeout) to <em>n</em>
seconds (default 3).</p>
</dd>
<dt><strong>pap-timeout <em>n</em></strong></dt>
<dd>
<p>Set the maximum time that pppd will wait for the peer to authenticate
itself with PAP to <em>n</em> seconds (0 means no limit).</p>
</dd>
<dt><strong>pass-filter <em>filter-expression</em></strong></dt>
<dd>
<p>Specifies a packet filter to applied to data packets being sent or
received to determine which packets should be allowed to pass. Packets
which are rejected by the filter are silently discarded. This option can
be used to prevent specific network daemons (such as routed) using up
link bandwidth, or to provide a very basic firewall capability. The
<em>filter-expression</em> syntax is as described for tcpdump(1), except
that qualifiers which are inappropriate for a PPP link, such as
<strong>ether</strong> and <strong>arp</strong>, are not permitted.
Generally the filter expression should be enclosed in single-quotes to
prevent whitespace in the expression from being interpreted by the
shell. Note that it is possible to apply different constraints to
incoming and outgoing packets using the <strong>inbound</strong> and
<strong>outbound</strong> qualifiers. This option is currently only
available under Linux, and requires that the kernel was configured to
include PPP filtering support (CONFIG_PPP_FILTER).</p>
</dd>
<dt><strong>password <em>password-string</em></strong></dt>
<dd>
<p>Specifies the password to use for authenticating to the peer. Use of
this option is discouraged, as the password is likely to be visible to
other users on the system (for example, by using ps(1)).</p>
</dd>
<dt><strong>persist</strong></dt>
<dd>
<p>Do not exit after a connection is terminated; instead try to reopen
the connection. The <strong>maxfail</strong> option still has an effect
on persistent connections.</p>
</dd>
<dt><strong>plugin <em>filename</em></strong></dt>
<dd>
<p>Load the shared library object file <em>filename</em> as a plugin.
This is a privileged option. If <em>filename</em> does not contain a
slash (/), pppd will look in the
<strong>/usr/lib/pppd/</strong><em>version</em> directory for the
plugin, where <em>version</em> is the version number of pppd (for
example, 2.4.2).</p>
</dd>
<dt><strong>predictor1</strong></dt>
<dd>
<p>Request that the peer compress frames that it sends using Predictor-1
compression, and agree to compress transmitted frames with Predictor-1
if requested. This option has no effect unless the kernel driver
supports Predictor-1 compression.</p>
</dd>
<dt><strong>privgroup <em>group-name</em></strong></dt>
<dd>
<p>Allows members of group <em>group-name</em> to use privileged
options. This is a privileged option. Use of this option requires care
as there is no guarantee that members of <em>group-name</em> cannot use
pppd to become root themselves. Consider it equivalent to putting the
members of <em>group-name</em> in the kmem or disk group.</p>
</dd>
<dt><strong>proxyarp</strong></dt>
<dd>
<p>Add an entry to this system's ARP [Address Resolution Protocol] table
with the IP address of the peer and the Ethernet address of this system.
This will have the effect of making the peer appear to other systems to
be on the local ethernet.</p>
</dd>
<dt><strong>pty <em>script</em></strong></dt>
<dd>
<p>Specifies that the command <em>script</em> is to be used to
communicate rather than a specific terminal device. Pppd will allocate
itself a pseudo-tty master/slave pair and use the slave as its terminal
device. The <em>script</em> will be run in a child process with the
pseudo-tty master as its standard input and output. An explicit device
name may not be given if this option is used. (Note: if the
<em>record</em> option is used in conjunction with the <em>pty</em>
option, the child process will have pipes on its standard input and
output.)</p>
</dd>
<dt><strong>receive-all</strong></dt>
<dd>
<p>With this option, pppd will accept all control characters from the
peer, including those marked in the receive asyncmap. Without this
option, pppd will discard those characters as specified in RFC1662. This
option should only be needed if the peer is buggy.</p>
</dd>
<dt><strong>record <em>filename</em></strong></dt>
<dd>
<p>Specifies that pppd should record all characters sent and received to
a file named <em>filename</em>. This file is opened in append mode,
using the user's user-ID and permissions. This option is implemented
using a pseudo-tty and a process to transfer characters between the
pseudo-tty and the real serial device, so it will increase the latency
and CPU overhead of transferring data over the ppp interface. The
characters are stored in a tagged format with timestamps, which can be
displayed in readable form using the pppdump(8) program.</p>
</dd>
<dt><strong>remotename <em>name</em></strong></dt>
<dd>
<p>Set the assumed name of the remote system for authentication purposes
to <em>name</em>.</p>
</dd>
<dt><strong>remotenumber <em>number</em></strong></dt>
<dd>
<p>Set the assumed telephone number of the remote system for
authentication purposes to <em>number</em>.</p>
</dd>
<dt><strong>refuse-chap</strong></dt>
<dd>
<p>With this option, pppd will not agree to authenticate itself to the
peer using CHAP.</p>
</dd>
<dt><strong>refuse-mschap</strong></dt>
<dd>
<p>With this option, pppd will not agree to authenticate itself to the
peer using MS-CHAP.</p>
</dd>
<dt><strong>refuse-mschap-v2</strong></dt>
<dd>
<p>With this option, pppd will not agree to authenticate itself to the
peer using MS-CHAPv2.</p>
</dd>
<dt><strong>refuse-eap</strong></dt>
<dd>
<p>With this option, pppd will not agree to authenticate itself to the
peer using EAP.</p>
</dd>
<dt><strong>refuse-pap</strong></dt>
<dd>
<p>With this option, pppd will not agree to authenticate itself to the
peer using PAP.</p>
</dd>
<dt><strong>require-chap</strong></dt>
<dd>
<p>Require the peer to authenticate itself using CHAP [Challenge
Handshake Authentication Protocol] authentication.</p>
</dd>
<dt><strong>require-mppe</strong></dt>
<dd>
<p>Require the use of MPPE (Microsoft Point to Point Encryption). This
option disables all other compression types. This option enables both
40-bit and 128-bit encryption. In order for MPPE to successfully come
up, you must have authenticated with either MS-CHAP or MS-CHAPv2. This
option is presently only supported under Linux, and only if your kernel
has been configured to include MPPE support.</p>
</dd>
<dt><strong>require-mppe-40</strong></dt>
<dd>
<p>Require the use of MPPE, with 40-bit encryption.</p>
</dd>
<dt><strong>require-mppe-128</strong></dt>
<dd>
<p>Require the use of MPPE, with 128-bit encryption.</p>
</dd>
<dt><strong>require-mschap</strong></dt>
<dd>
<p>Require the peer to authenticate itself using MS-CHAP [Microsoft
Challenge Handshake Authentication Protocol] authentication.</p>
</dd>
<dt><strong>require-mschap-v2</strong></dt>
<dd>
<p>Require the peer to authenticate itself using MS-CHAPv2 [Microsoft
Challenge Handshake Authentication Protocol, Version 2]
authentication.</p>
</dd>
<dt><strong>require-eap</strong></dt>
<dd>
<p>Require the peer to authenticate itself using EAP [Extensible
Authentication Protocol] authentication.</p>
</dd>
<dt><strong>require-pap</strong></dt>
<dd>
<p>Require the peer to authenticate itself using PAP [Password
Authentication Protocol] authentication.</p>
</dd>
<dt><strong>set <em>name</em>=<em>value</em></strong></dt>
<dd>
<p>Set an environment variable for scripts that are invoked by pppd.
When set by a privileged source, the variable specified by <em>name</em>
cannot be changed by options contained in an unprivileged source. See
also the <em>unset</em> option and the environment described in
<em>SCRIPTS</em>.</p>
</dd>
<dt><strong>show-password</strong></dt>
<dd>
<p>When logging the contents of PAP packets, this option causes pppd to
show the password string in the log message.</p>
</dd>
<dt><strong>silent</strong></dt>
<dd>
<p>With this option, pppd will not transmit LCP packets to initiate a
connection until a valid LCP packet is received from the peer (as for
the `passive' option with ancient versions of pppd).</p>
</dd>
<dt><strong>srp-interval <em>n</em></strong></dt>
<dd>
<p>If this parameter is given and pppd uses EAP SRP-SHA1 to authenticate
the peer (i.e., is the server), then pppd will use the optional
lightweight SRP rechallenge mechanism at intervals of <em>n</em>
seconds. This option is faster than <strong>eap-interval</strong>
reauthentication because it uses a hash-based mechanism and does not
derive a new session key.</p>
</dd>
<dt><strong>srp-pn-secret <em>string</em></strong></dt>
<dd>
<p>Set the long-term pseudonym-generating secret for the server. This
value is optional and if set, needs to be known at the server
(authenticator) side only, and should be different for each server (or
poll of identical servers). It is used along with the current date to
generate a key to encrypt and decrypt the client's identity contained in
the pseudonym.</p>
</dd>
<dt><strong>srp-use-pseudonym</strong></dt>
<dd>
<p>When operating as an EAP SRP-SHA1 client, attempt to use the
pseudonym stored in ~/.ppp_pseudonym first as the identity, and save in
this file any pseudonym offered by the peer during authentication.</p>
</dd>
<dt><strong>stop-bits <em>n</em></strong></dt>
<dd>
<p>Set the number of stop bits for the serial port. Valid values are 1
or 2. The default value is 1.</p>
</dd>
<dt><strong>sync</strong></dt>
<dd>
<p>Use synchronous HDLC serial encoding instead of asynchronous. The
device used by pppd with this option must have sync support. Currently
supports Microgate SyncLink adapters under Linux and FreeBSD 2.2.8 and
later.</p>
</dd>
<dt><strong>unit <em>num</em></strong></dt>
<dd>
<p>Sets the ppp unit number (for a ppp0 or ppp1 etc interface name) for
outbound connections. If the unit is already in use a dynamically
allocated number will be used.</p>
</dd>
<dt><strong>ifname <em>string</em></strong></dt>
<dd>
<p>Set the ppp interface name for outbound connections. If the interface
name is already in use, or if the name cannot be used for any other
reason, pppd will terminate.</p>
</dd>
<dt><strong>unset <em>name</em></strong></dt>
<dd>
<p>Remove a variable from the environment variable for scripts that are
invoked by pppd. When specified by a privileged source, the variable
<em>name</em> cannot be set by options contained in an unprivileged
source. See also the <em>set</em> option and the environment described
in <em>SCRIPTS</em>.</p>
</dd>
<dt><strong>updetach</strong></dt>
<dd>
<p>With this option, pppd will detach from its controlling terminal once
it has successfully established the ppp connection (to the point where
the first network control protocol, usually the IP control protocol, has
come up).</p>
</dd>
<dt><strong>up_sdnotify</strong></dt>
<dd>
<p>Use this option to run pppd in systemd service units of Type=notify
(<strong>up_sdnotify</strong> implies <strong>nodetach</strong>). When
<strong>up_sdnotify</strong> is enabled, pppd will notify systemd once
it has successfully established the ppp connection (to the point where
the first network control protocl, usually the IP control protocol, has
come up). This option is only availble when pppd is compiled with
systemd support.</p>
</dd>
<dt><strong>usehostname</strong></dt>
<dd>
<p>Enforce the use of the hostname (with domain name appended, if given)
as the name of the local system for authentication purposes (overrides
the <em>name</em> option). This option is not normally needed since the
<em>name</em> option is privileged.</p>
</dd>
<dt><strong>usepeerdns</strong></dt>
<dd>
<p>Ask the peer for up to 2 DNS server addresses. The addresses supplied
by the peer (if any) are passed to the /etc/ppp/ip-up script in the
environment variables DNS1 and DNS2, and the environment variable
USEPEERDNS will be set to 1. In addition, pppd will create an
/etc/ppp/resolv.conf file containing one or two nameserver lines with
the address(es) supplied by the peer.</p>
</dd>
<dt><strong>user <em>name</em></strong></dt>
<dd>
<p>Sets the name used for authenticating the local system to the peer to
<em>name</em>.</p>
</dd>
<dt><strong>vj-max-slots <em>n</em></strong></dt>
<dd>
<p>Sets the number of connection slots to be used by the Van Jacobson
TCP/IP header compression and decompression code to <em>n</em>, which
must be between 2 and 16 (inclusive).</p>
</dd>
<dt><strong>welcome <em>script</em></strong></dt>
<dd>
<p>Run the executable or shell command specified by <em>script</em>
before initiating PPP negotiation, after the connect script (if any) has
completed. A value for this option from a privileged source cannot be
overridden by a non-privileged user.</p>
</dd>
<dt><strong>xonxoff</strong></dt>
<dd>
<p>Use software flow control (i.e. XON/XOFF) to control the flow of data
on the serial port.</p>
</dd>
</dl>
<h1>PPPOE OPTIONS</h1>
<p>To establish PPP link over Ethernet (PPPoE) it is needed to load
pppd's <strong>plugin pppoe.so</strong> and then specify option
<strong>nic-</strong><em>interface</em> instead of modem options
<em>ttyname</em> and <em>speed</em>. Recognized pppd's PPPoE options
are:</p>
<dl>
<dt><strong>nic-<em>interface</em></strong></dt>
<dd>
<p>Use the ethernet device <em>interface</em> to communicate with the
peer. For example, establishing PPPoE link on <em>eth0</em> interface is
done by specifying ppp'd option <strong>nic-eth0</strong>. Prefix
<strong>nic-</strong> for this option may be avoided if interface name
is unambiguous and does not look like any other pppd's option.</p>
</dd>
<dt><strong>pppoe-service <em>name</em></strong></dt>
<dd>
<p>Connect to specified PPPoE service name. For backward compatibility
also <strong>rp_pppoe_service</strong> <em>option name is
supported.</em></p>
</dd>
<dt><strong>pppoe-ac <em>name</em></strong></dt>
<dd>
<p>Connect to specified PPPoE access concentrator name. For backward
compatibility also <strong>rp_pppoe_ac</strong> <em>option name is
supported.</em></p>
</dd>
<dt><strong>pppoe-sess <em>sessid:macaddr</em></strong></dt>
<dd>
<p>Attach to existing PPPoE session. For backward compatibility also
<strong>rp_pppoe_sess</strong> <em>option name is supported.</em></p>
</dd>
<dt><strong>pppoe-verbose <em>n</em></strong></dt>
<dd>
<p>Be verbose about discovered access concentrators. For backward
compatibility also <strong>rp_pppoe_verbose</strong> <em>option name is
supported.</em></p>
</dd>
<dt><strong>pppoe-mac <em>macaddr</em></strong></dt>
<dd>
<p>Connect to specified MAC address.</p>
</dd>
<dt><strong>pppoe-host-uniq <em>string</em></strong></dt>
<dd>
<p>Set the PPPoE Host-Uniq tag to the supplied hex string. By default
PPPoE Host-Uniq tag is set to the pppd's process PID. For backward
compatibility this option may be specified without
<strong>pppoe-</strong> <em>prefix.</em></p>
</dd>
<dt><strong>pppoe-padi-timeout <em>n</em></strong></dt>
<dd>
<p>Initial timeout for discovery packets in seconds (default 5).</p>
</dd>
<dt><strong>pppoe-padi-attempts <em>n</em></strong></dt>
<dd>
<p>Number of discovery attempts (default 3).</p>
</dd>
</dl>
<h1>OPTIONS FILES</h1>
<p>Options can be taken from files as well as the command line. Pppd
reads options from the files /etc/ppp/options, ~/.ppprc and
/etc/ppp/options.<em>ttyname</em> (in that order) before processing the
options on the command line. (In fact, the command-line options are
scanned to find the terminal name before the options.<em>ttyname</em>
file is read.) In forming the name of the options.<em>ttyname</em> file,
the initial /dev/ is removed from the terminal name, and any remaining /
characters are replaced with dots.</p>
<p>An options file is parsed into a series of words, delimited by
whitespace. Whitespace can be included in a word by enclosing the word
in double-quotes ("). A backslash (\) quotes the following character. A
hash (#) starts a comment, which continues until the end of the line.
There is no restriction on using the <em>file</em> or <em>call</em>
options within an options file.</p>
<h1>SECURITY</h1>
<p><em>pppd</em> provides system administrators with sufficient access
control that PPP access to a server machine can be provided to
legitimate users without fear of compromising the security of the server
or the network it's on. This control is provided through restrictions on
which IP addresses the peer may use, based on its authenticated identity
(if any), and through restrictions on which options a non-privileged
user may use. Several of pppd's options are privileged, in particular
those which permit potentially insecure configurations; these options
are only accepted in files which are under the control of the system
administrator, or if pppd is being run by root.</p>
<p>The default behaviour of pppd is to allow an unauthenticated peer to
use a given IP address only if the system does not already have a route
to that IP address. For example, a system with a permanent connection to
the wider internet will normally have a default route, and thus all
peers will have to authenticate themselves in order to set up a
connection. On such a system, the <em>auth</em> option is the default.
On the other hand, a system where the PPP link is the only connection to
the internet will not normally have a default route, so the peer will be
able to use almost any IP address without authenticating itself.</p>
<p>As indicated above, some security-sensitive options are privileged,
which means that they may not be used by an ordinary non-privileged user
running a setuid-root pppd, either on the command line, in the user's
~/.ppprc file, or in an options file read using the <em>file</em>
option. Privileged options may be used in /etc/ppp/options file or in an
options file read using the <em>call</em> option. If pppd is being run
by the root user, privileged options can be used without
restriction.</p>
<p>When opening the device, pppd uses either the invoking user's user ID
or the root UID (that is, 0), depending on whether the device name was
specified by the user or the system administrator. If the device name
comes from a privileged source, that is, /etc/ppp/options or an options
file read using the <em>call</em> option, pppd uses full root privileges
when opening the device. Thus, by creating an appropriate file under
/etc/ppp/peers, the system administrator can allow users to establish a
ppp connection via a device which they would not normally have
permission to access. Otherwise pppd uses the invoking user's real UID
when opening the device.</p>
<h1>AUTHENTICATION</h1>
<p>Authentication is the process whereby one peer convinces the other of
its identity. This involves the first peer sending its name to the
other, together with some kind of secret information which could only
come from the genuine authorized user of that name. In such an exchange,
we will call the first peer the "client" and the other the "server". The
client has a name by which it identifies itself to the server, and the
server also has a name by which it identifies itself to the client.
Generally the genuine client shares some secret (or password) with the
server, and authenticates itself by proving that it knows that secret.
Very often, the names used for authentication correspond to the internet
hostnames of the peers, but this is not essential.</p>
<p>At present, pppd supports three authentication protocols: the
Password Authentication Protocol (PAP), Challenge Handshake
Authentication Protocol (CHAP), and Extensible Authentication Protocol
(EAP). PAP involves the client sending its name and a cleartext password
to the server to authenticate itself. In contrast, the server initiates
the CHAP authentication exchange by sending a challenge to the client
(the challenge packet includes the server's name). The client must
respond with a response which includes its name plus a hash value
derived from the shared secret and the challenge, in order to prove that
it knows the secret. EAP supports CHAP-style authentication, and also
includes the SRP-SHA1 mechanism, which is resistant to dictionary-based
attacks and does not require a cleartext password on the server
side.</p>
<p>The PPP protocol, being symmetrical, allows both peers to require the
other to authenticate itself. In that case, two separate and independent
authentication exchanges will occur. The two exchanges could use
different authentication protocols, and in principle, different names
could be used in the two exchanges.</p>
<p>The default behaviour of pppd is to agree to authenticate if
requested, and to not require authentication from the peer. However,
pppd will not agree to authenticate itself with a particular protocol if
it has no secrets which could be used to do so.</p>
<p>Pppd stores secrets for use in authentication in secrets files
(/etc/ppp/pap-secrets for PAP, /etc/ppp/chap-secrets for CHAP, MS-CHAP,
MS-CHAPv2, and EAP MD5-Challenge, and /etc/ppp/srp-secrets for EAP
SRP-SHA1). All secrets files have the same format. The secrets files can
contain secrets for pppd to use in authenticating itself to other
systems, as well as secrets for pppd to use when authenticating other
systems to itself.</p>
<p>Each line in a secrets file contains one secret. A given secret is
specific to a particular combination of client and server - it can only
be used by that client to authenticate itself to that server. Thus each
line in a secrets file has at least 3 fields: the name of the client,
the name of the server, and the secret. These fields may be followed by
a list of the IP addresses that the specified client may use when
connecting to the specified server.</p>
<p>A secrets file is parsed into words as for a options file, so the
client name, server name and secrets fields must each be one word, with
any embedded spaces or other special characters quoted or escaped. Note
that case is significant in the client and server names and in the
secret.</p>
<p>If the secret starts with an `@', what follows is assumed to be the
name of a file from which to read the secret. A "*" as the client or
server name matches any name. When selecting a secret, pppd takes the
best match, i.e. the match with the fewest wildcards.</p>
<p>Any following words on the same line are taken to be a list of
acceptable IP addresses for that client. If there are only 3 words on
the line, or if the first word is "-", then all IP addresses are
disallowed. To allow any address, use "*". A word starting with "!"
indicates that the specified address is <em>not</em> acceptable. An
address may be followed by "/" and a number <em>n</em>, to indicate a
whole subnet, i.e. all addresses which have the same value in the most
significant <em>n</em> bits. In this form, the address may be followed
by a plus sign ("+") to indicate that one address from the subnet is
authorized, based on the ppp network interface unit number in use. In
this case, the host part of the address will be set to the unit number
plus one.</p>
<p>Thus a secrets file contains both secrets for use in authenticating
other hosts, plus secrets which we use for authenticating ourselves to
others. When pppd is authenticating the peer (checking the peer's
identity), it chooses a secret with the peer's name in the first field
and the name of the local system in the second field. The name of the
local system defaults to the hostname, with the domain name appended if
the <em>domain</em> option is used. This default can be overridden with
the <em>name</em> option, except when the <em>usehostname</em> option is
used. (For EAP SRP-SHA1, see the srp-entry(8) utility for generating
proper validator entries to be used in the "secret" field.)</p>
<p>When pppd is choosing a secret to use in authenticating itself to the
peer, it first determines what name it is going to use to identify
itself to the peer. This name can be specified by the user with the
<em>user</em> option. If this option is not used, the name defaults to
the name of the local system, determined as described in the previous
paragraph. Then pppd looks for a secret with this name in the first
field and the peer's name in the second field. Pppd will know the name
of the peer if CHAP or EAP authentication is being used, because the
peer will have sent it in the challenge packet. However, if PAP is being
used, pppd will have to determine the peer's name from the options
specified by the user. The user can specify the peer's name directly
with the <em>remotename</em> option. Otherwise, if the remote IP address
was specified by a name (rather than in numeric form), that name will be
used as the peer's name. Failing that, pppd will use the null string as
the peer's name.</p>
<p>When authenticating the peer with PAP, the supplied password is first
compared with the secret from the secrets file. If the password doesn't
match the secret, the password is encrypted using crypt() and checked
against the secret again. Thus secrets for authenticating the peer can
be stored in encrypted form if desired. If the <em>papcrypt</em> option
is given, the first (unencrypted) comparison is omitted, for better
security.</p>
<p>Furthermore, if the <em>login</em> option was specified, the username
and password are also checked against the system password database.
Thus, the system administrator can set up the pap-secrets file to allow
PPP access only to certain users, and to restrict the set of IP
addresses that each user can use. Typically, when using the
<em>login</em> option, the secret in /etc/ppp/pap-secrets would be "",
which will match any password supplied by the peer. This avoids the need
to have the same secret in two places.</p>
<p>Authentication must be satisfactorily completed before IPCP (or any
other Network Control Protocol) can be started. If the peer is required
to authenticate itself, and fails to do so, pppd will terminated the
link (by closing LCP). If IPCP negotiates an unacceptable IP address for
the remote host, IPCP will be closed. IP packets can only be sent or
received when IPCP is open.</p>
<p>In some cases it is desirable to allow some hosts which can't
authenticate themselves to connect and use one of a restricted set of IP
addresses, even when the local host generally requires authentication.
If the peer refuses to authenticate itself when requested, pppd takes
that as equivalent to authenticating with PAP using the empty string for
the username and password. Thus, by adding a line to the pap-secrets
file which specifies the empty string for the client and password, it is
possible to allow restricted access to hosts which refuse to
authenticate themselves.</p>
<h1>ROUTING</h1>
<p>When IPCP negotiation is completed successfully, pppd will inform the
kernel of the local and remote IP addresses for the ppp interface. This
is sufficient to create a host route to the remote end of the link,
which will enable the peers to exchange IP packets. Communication with
other machines generally requires further modification to routing tables
and/or ARP (Address Resolution Protocol) tables. In most cases the
<em>defaultroute</em> and/or <em>proxyarp</em> options are sufficient
for this, but in some cases further intervention is required. The
/etc/ppp/ip-up script can be used for this.</p>
<p>Sometimes it is desirable to add a default route through the remote
host, as in the case of a machine whose only connection to the Internet
is through the ppp interface. The <em>defaultroute</em> option causes
pppd to create such a default route when IPCP comes up, and delete it
when the link is terminated.</p>
<p>In some cases it is desirable to use proxy ARP, for example on a
server machine connected to a LAN, in order to allow other hosts to
communicate with the remote host. The <em>proxyarp</em> option causes
pppd to look for a network interface on the same subnet as the remote
host (an interface supporting broadcast and ARP, which is up and not a
point-to-point or loopback interface). If found, pppd creates a
permanent, published ARP entry with the IP address of the remote host
and the hardware address of the network interface found.</p>
<p>When the <em>demand</em> option is used, the interface IP addresses
have already been set at the point when IPCP comes up. If pppd has not
been able to negotiate the same addresses that it used to configure the
interface (for example when the peer is an ISP that uses dynamic IP
address assignment), pppd has to change the interface IP addresses to
the negotiated addresses. This may disrupt existing connections, and the
use of demand dialling with peers that do dynamic IP address assignment
is not recommended.</p>
<h1>MULTILINK</h1>
<p>Multilink PPP provides the capability to combine two or more PPP
links between a pair of machines into a single `bundle', which appears
as a single virtual PPP link which has the combined bandwidth of the
individual links. Currently, multilink PPP is only supported under
Linux.</p>
<p>Pppd detects that the link it is controlling is connected to the same
peer as another link using the peer's endpoint discriminator and the
authenticated identity of the peer (if it authenticates itself). The
endpoint discriminator is a block of data which is hopefully unique for
each peer. Several types of data can be used, including locally-assigned
strings of bytes, IP addresses, MAC addresses, randomly strings of
bytes, or E-164 phone numbers. The endpoint discriminator sent to the
peer by pppd can be set using the endpoint option.</p>
<p>In some circumstances the peer may send no endpoint discriminator or
a non-unique value. The bundle option adds an extra string which is
added to the peer's endpoint discriminator and authenticated identity
when matching up links to be joined together in a bundle. The bundle
option can also be used to allow the establishment of multiple bundles
between the local system and the peer. Pppd uses a TDB database in
/var/run/pppd2.tdb to match up links.</p>
<p>Assuming that multilink is enabled and the peer is willing to
negotiate multilink, then when pppd is invoked to bring up the first
link to the peer, it will detect that no other link is connected to the
peer and create a new bundle, that is, another ppp network interface
unit. When another pppd is invoked to bring up another link to the peer,
it will detect the existing bundle and join its link to it.</p>
<p>If the first link terminates (for example, because of a hangup or a
received LCP terminate-request) the bundle is not destroyed unless there
are no other links remaining in the bundle. Rather than exiting, the
first pppd keeps running after its link terminates, until all the links
in the bundle have terminated. If the first pppd receives a SIGTERM or
SIGINT signal, it will destroy the bundle and send a SIGHUP to the pppd
processes for each of the links in the bundle. If the first pppd
receives a SIGHUP signal, it will terminate its link but not the
bundle.</p>
<p>Note: demand mode is not currently supported with multilink.</p>
<h1>EXAMPLES</h1>
<p>The following examples assume that the /etc/ppp/options file contains
the <em>auth</em> option (as in the default /etc/ppp/options file in the
ppp distribution).</p>
<p>Probably the most common use of pppd is to dial out to an ISP. This
can be done with a command such as</p>
<blockquote>
<p>pppd call isp</p>
</blockquote>
<p>where the /etc/ppp/peers/isp file is set up by the system
administrator to contain something like this:</p>
<blockquote>
<p>ttyS0 19200 crtscts<br />
connect '/usr/sbin/chat -v -f /etc/ppp/chat-isp'<br />
noauth</p>
</blockquote>
<p>In this example, we are using chat to dial the ISP's modem and go
through any logon sequence required. The /etc/ppp/chat-isp file contains
the script used by chat; it could for example contain something like
this:</p>
<blockquote>
<p>ABORT "NO CARRIER"<br />
ABORT "NO DIALTONE"<br />
ABORT "ERROR"<br />
ABORT "NO ANSWER"<br />
ABORT "BUSY"<br />
ABORT "Username/Password Incorrect"<br />
"" "at"<br />
OK "at&amp;d0&amp;c1"<br />
OK "atdt2468135"<br />
"name:" "^Umyuserid"<br />
"word:" "\qmypassword"<br />
"ispts" "\q^Uppp"<br />
"~-^Uppp-~"</p>
</blockquote>
<p>See the chat(8) man page for details of chat scripts.</p>
<p>Pppd can also be used to provide a dial-in ppp service for users. If
the users already have login accounts, the simplest way to set up the
ppp service is to let the users log in to their accounts and run pppd
(installed setuid-root) with a command such as</p>
<blockquote>
<p>pppd proxyarp</p>
</blockquote>
<p>To allow a user to use the PPP facilities, you need to allocate an IP
address for that user's machine and create an entry in
/etc/ppp/pap-secrets, /etc/ppp/chap-secrets, or /etc/ppp/srp-secrets
(depending on which authentication method the PPP implementation on the
user's machine supports), so that the user's machine can authenticate
itself. For example, if Joe has a machine called "joespc" that is to be
allowed to dial in to the machine called "server" and use the IP address
joespc.my.net, you would add an entry like this to /etc/ppp/pap-secrets
or /etc/ppp/chap-secrets:</p>
<blockquote>
<p>joespc server "joe's secret" joespc.my.net</p>
</blockquote>
<p>(See srp-entry(8) for a means to generate the server's entry when
SRP-SHA1 is in use.) Alternatively, you can create a username called
(for example) "ppp", whose login shell is pppd and whose home directory
is /etc/ppp. Options to be used when pppd is run this way can be put in
/etc/ppp/.ppprc.</p>
<p>If your serial connection is any more complicated than a piece of
wire, you may need to arrange for some control characters to be escaped.
In particular, it is often useful to escape XON (^Q) and XOFF (^S),
using <em>asyncmap a0000</em>. If the path includes a telnet, you
probably should escape ^] as well (<em>asyncmap 200a0000</em>). If the
path includes an rlogin, you will need to use the <em>escape ff</em>
option on the end which is running the rlogin client, since many rlogin
implementations are not transparent; they will remove the sequence
[0xff, 0xff, 0x73, 0x73, followed by any 8 bytes] from the stream.</p>
<h1>DIAGNOSTICS</h1>
<p>Messages are sent to the syslog daemon using facility LOG_DAEMON.
(This can be overridden by recompiling pppd with the macro LOG_PPP
defined as the desired facility.) See the syslog(8) documentation for
details of where the syslog daemon will write the messages. On most
systems, the syslog daemon uses the /etc/syslog.conf file to specify the
destination(s) for syslog messages. You may need to edit that file to
suit.</p>
<p>The <em>debug</em> option causes the contents of all control packets
sent or received to be logged, that is, all LCP, PAP, CHAP, EAP, or IPCP
packets. This can be useful if the PPP negotiation does not succeed or
if authentication fails. If debugging is enabled at compile time, the
<em>debug</em> option also causes other debugging messages to be
logged.</p>
<p>Debugging can also be enabled or disabled by sending a SIGUSR1 signal
to the pppd process. This signal acts as a toggle.</p>
<h1>EXIT STATUS</h1>
<p>The exit status of pppd is set to indicate whether any error was
detected, or the reason for the link being terminated. The values used
are:</p>
<dl>
<dt><strong>0</strong></dt>
<dd>
<p>Pppd has detached, or otherwise the connection was successfully
established and terminated at the peer's request.</p>
</dd>
<dt><strong>1</strong></dt>
<dd>
<p>An immediately fatal error of some kind occurred, such as an
essential system call failing, or running out of virtual memory.</p>
</dd>
<dt><strong>2</strong></dt>
<dd>
<p>An error was detected in processing the options given, such as two
mutually exclusive options being used.</p>
</dd>
<dt><strong>3</strong></dt>
<dd>
<p>Pppd is not setuid-root and the invoking user is not root.</p>
</dd>
<dt><strong>4</strong></dt>
<dd>
<p>The kernel does not support PPP, for example, the PPP kernel driver
is not included or cannot be loaded.</p>
</dd>
<dt><strong>5</strong></dt>
<dd>
<p>Pppd terminated because it was sent a SIGINT, SIGTERM or SIGHUP
signal.</p>
</dd>
<dt><strong>6</strong></dt>
<dd>
<p>The serial port could not be locked.</p>
</dd>
<dt><strong>7</strong></dt>
<dd>
<p>The serial port could not be opened.</p>
</dd>
<dt><strong>8</strong></dt>
<dd>
<p>The connect script failed (returned a non-zero exit status).</p>
</dd>
<dt><strong>9</strong></dt>
<dd>
<p>The command specified as the argument to the <em>pty</em> option
could not be run.</p>
</dd>
<dt><strong>10</strong></dt>
<dd>
<p>The PPP negotiation failed, that is, it didn't reach the point where
at least one network protocol (e.g. IP) was running.</p>
</dd>
<dt><strong>11</strong></dt>
<dd>
<p>The peer system failed (or refused) to authenticate itself.</p>
</dd>
<dt><strong>12</strong></dt>
<dd>
<p>The link was established successfully and terminated because it was
idle.</p>
</dd>
<dt><strong>13</strong></dt>
<dd>
<p>The link was established successfully and terminated because the
connect time limit was reached.</p>
</dd>
<dt><strong>14</strong></dt>
<dd>
<p>Callback was negotiated and an incoming call should arrive
shortly.</p>
</dd>
<dt><strong>15</strong></dt>
<dd>
<p>The link was terminated because the peer is not responding to echo
requests.</p>
</dd>
<dt><strong>16</strong></dt>
<dd>
<p>The link was terminated by the modem hanging up.</p>
</dd>
<dt><strong>17</strong></dt>
<dd>
<p>The PPP negotiation failed because serial loopback was detected.</p>
</dd>
<dt><strong>18</strong></dt>
<dd>
<p>The init script failed (returned a non-zero exit status).</p>
</dd>
<dt><strong>19</strong></dt>
<dd>
<p>We failed to authenticate ourselves to the peer.</p>
</dd>
</dl>
<h1>SCRIPTS</h1>
<p>Pppd invokes scripts at various stages in its processing which can be
used to perform site-specific ancillary processing. These scripts are
usually shell scripts, but could be executable code files instead. Pppd
does not wait for the scripts to finish (except for the ip-pre-up
script). The scripts are executed as root (with the real and effective
user-id set to 0), so that they can do things such as update routing
tables or run privileged daemons. Be careful that the contents of these
scripts do not compromise your system's security. Pppd runs the scripts
with standard input, output and error redirected to /dev/null, and with
an environment that is empty except for some environment variables that
give information about the link. The environment variables that pppd
sets are:</p>
<dl>
<dt><strong>DEVICE</strong></dt>
<dd>
<p>The name of the serial tty device being used.</p>
</dd>
<dt><strong>IFNAME</strong></dt>
<dd>
<p>The name of the network interface being used.</p>
</dd>
<dt><strong>IPLOCAL</strong></dt>
<dd>
<p>The IP address for the local end of the link. This is only set when
IPCP has come up.</p>
</dd>
<dt><strong>IPREMOTE</strong></dt>
<dd>
<p>The IP address for the remote end of the link. This is only set when
IPCP has come up.</p>
</dd>
<dt><strong>PEERNAME</strong></dt>
<dd>
<p>The authenticated name of the peer. This is only set if the peer
authenticates itself.</p>
</dd>
<dt><strong>SPEED</strong></dt>
<dd>
<p>The baud rate of the tty device.</p>
</dd>
<dt><strong>ORIG_UID</strong></dt>
<dd>
<p>The real user-id of the user who invoked pppd.</p>
</dd>
<dt><strong>PPPLOGNAME</strong></dt>
<dd>
<p>The username of the real user-id that invoked pppd. This is always
set.</p>
</dd>
</dl>
<p>For the ip-down and auth-down scripts, pppd also sets the following
variables giving statistics for the connection:</p>
<dl>
<dt><strong>CONNECT_TIME</strong></dt>
<dd>
<p>The number of seconds from when the PPP negotiation started until the
connection was terminated.</p>
</dd>
<dt><strong>BYTES_SENT</strong></dt>
<dd>
<p>The number of bytes sent (at the level of the serial port) during the
connection.</p>
</dd>
<dt><strong>BYTES_RCVD</strong></dt>
<dd>
<p>The number of bytes received (at the level of the serial port) during
the connection.</p>
</dd>
<dt><strong>LINKNAME</strong></dt>
<dd>
<p>The logical name of the link, set with the <em>linkname</em>
option.</p>
</dd>
<dt><strong>CALL_FILE</strong></dt>
<dd>
<p>The value of the <em>call</em> option.</p>
</dd>
<dt><strong>DNS1</strong></dt>
<dd>
<p>If the peer supplies DNS server addresses, this variable is set to
the first DNS server address supplied (whether or not the usepeerdns
option was given).</p>
</dd>
<dt><strong>DNS2</strong></dt>
<dd>
<p>If the peer supplies DNS server addresses, this variable is set to
the second DNS server address supplied (whether or not the usepeerdns
option was given).</p>
</dd>
</dl>
<p>Pppd invokes the following scripts, if they exist. It is not an error
if they don't exist.</p>
<dl>
<dt><strong>/etc/ppp/auth-up</strong></dt>
<dd>
<p>A program or script which is executed after the remote system
successfully authenticates itself. It is executed with the
parameters</p>
<p><em>interface-name peer-name user-name tty-device speed</em></p>
<p>Note that this script is not executed if the peer doesn't
authenticate itself, for example when the <em>noauth</em> option is
used.</p>
</dd>
<dt><strong>/etc/ppp/auth-down</strong></dt>
<dd>
<p>A program or script which is executed when the link goes down, if
/etc/ppp/auth-up was previously executed. It is executed in the same
manner with the same parameters as /etc/ppp/auth-up.</p>
</dd>
<dt><strong>/etc/ppp/ip-pre-up</strong></dt>
<dd>
<p>A program or script which is executed just before the ppp network
interface is brought up. It is executed with the same parameters as the
ip-up script (below). At this point the interface exists and has IP
addresses assigned but is still down. This can be used to add firewall
rules before any IP traffic can pass through the interface. Pppd will
wait for this script to finish before bringing the interface up, so this
script should run quickly.</p>
</dd>
<dt><strong>/etc/ppp/ip-up</strong></dt>
<dd>
<p>A program or script which is executed when the link is available for
sending and receiving IP packets (that is, IPCP has come up). It is
executed with the parameters</p>
<p><em>interface-name tty-device speed local-IP-address</em>
remote-IP-address ipparam</p>
</dd>
<dt><strong>/etc/ppp/ip-down</strong></dt>
<dd>
<p>A program or script which is executed when the link is no longer
available for sending and receiving IP packets. This script can be used
for undoing the effects of the /etc/ppp/ip-up and /etc/ppp/ip-pre-up
scripts. It is invoked in the same manner and with the same parameters
as the ip-up script.</p>
</dd>
<dt><strong>/etc/ppp/ipv6-up</strong></dt>
<dd>
<p>Like /etc/ppp/ip-up, except that it is executed when the link is
available for sending and receiving IPv6 packets. It is executed with
the parameters</p>
<p><em>interface-name tty-device speed local-link-local-address</em>
remote-link-local-address ipparam</p>
</dd>
<dt><strong>/etc/ppp/ipv6-down</strong></dt>
<dd>
<p>Similar to /etc/ppp/ip-down, but it is executed when IPv6 packets can
no longer be transmitted on the link. It is executed with the same
parameters as the ipv6-up script.</p>
</dd>
<dt><strong>/etc/ppp/ipx-up</strong></dt>
<dd>
<p>A program or script which is executed when the link is available for
sending and receiving IPX packets (that is, IPXCP has come up). It is
executed with the parameters</p>
<p><em>interface-name tty-device speed network-number
local-IPX-node-address</em> remote-IPX-node-address
local-IPX-routing-protocol remote-IPX-routing-protocol
local-IPX-router-name remote-IPX-router-name ipparam pppd-pid</p>
<p>The local-IPX-routing-protocol and remote-IPX-routing-protocol field
may be one of the following:</p>
<p>NONE to indicate that there is no routing protocol<br />
RIP to indicate that RIP/SAP should be used<br />
NLSP to indicate that Novell NLSP should be used<br />
RIP NLSP to indicate that both RIP/SAP and NLSP should be used</p>
</dd>
<dt><strong>/etc/ppp/ipx-down</strong></dt>
<dd>
<p>A program or script which is executed when the link is no longer
available for sending and receiving IPX packets. This script can be used
for undoing the effects of the /etc/ppp/ipx-up script. It is invoked in
the same manner and with the same parameters as the ipx-up script.</p>
</dd>
</dl>
<h1>FILES</h1>
<dl>
<dt><strong>/var/run/ppp<em>n</em><strong>.pid</strong> (BSD or Linux),
<strong>/etc/ppp/ppp</strong><em>n</em><strong>.pid</strong>
(others)</strong></dt>
<dd>
<p>Process-ID for pppd process on ppp interface unit <em>n</em>.</p>
</dd>
<dt><strong>/var/run/ppp-<em>name</em><strong>.pid</strong> (BSD or
Linux),</strong></dt>
<dd>
<p><strong>/etc/ppp/ppp-</strong><em>name</em><strong>.pid</strong>
(others) Process-ID for pppd process for logical link <em>name</em> (see
the <em>linkname</em> option).</p>
</dd>
<dt><strong>/var/run/pppd2.tdb</strong></dt>
<dd>
<p>Database containing information about pppd processes, interfaces and
links, used for matching links to bundles in multilink operation. May be
examined by external programs to obtain information about running pppd
instances, the interfaces and devices they are using, IP address
assignments, etc. <strong>/etc/ppp/pap-secrets</strong> Usernames,
passwords and IP addresses for PAP authentication. This file should be
owned by root and not readable or writable by any other user. Pppd will
log a warning if this is not the case.</p>
</dd>
<dt><strong>/etc/ppp/chap-secrets</strong></dt>
<dd>
<p>Names, secrets and IP addresses for CHAP/MS-CHAP/MS-CHAPv2
authentication. As for /etc/ppp/pap-secrets, this file should be owned
by root and not readable or writable by any other user. Pppd will log a
warning if this is not the case.</p>
</dd>
<dt><strong>/etc/ppp/srp-secrets</strong></dt>
<dd>
<p>Names, secrets, and IP addresses for EAP authentication. As for
/etc/ppp/pap-secrets, this file should be owned by root and not readable
or writable by any other user. Pppd will log a warning if this is not
the case.</p>
</dd>
<dt><strong>~/.ppp_pseudonym</strong></dt>
<dd>
<p>Saved client-side SRP-SHA1 pseudonym. See the
<em>srp-use-pseudonym</em> option for details.</p>
</dd>
<dt><strong>/etc/ppp/options</strong></dt>
<dd>
<p>System default options for pppd, read before user default options or
command-line options.</p>
</dd>
<dt><strong>~/.ppprc</strong></dt>
<dd>
<p>User default options, read before
/etc/ppp/options.<em>ttyname</em>.</p>
</dd>
<dt><strong>/etc/ppp/options.<em>ttyname</em></strong></dt>
<dd>
<p>System default options for the serial port being used, read after
~/.ppprc. In forming the <em>ttyname</em> part of this filename, an
initial /dev/ is stripped from the port name (if present), and any
slashes in the remaining part are converted to dots.</p>
</dd>
<dt><strong>/etc/ppp/peers</strong></dt>
<dd>
<p>A directory containing options files which may contain privileged
options, even if pppd was invoked by a user other than root. The system
administrator can create options files in this directory to permit
non-privileged users to dial out without requiring the peer to
authenticate, but only to certain trusted peers.</p>
</dd>
</dl>
<h1>SEE ALSO</h1>
<p><strong>chat</strong>(8), <strong>pppstats</strong>(8)</p>
<dl>
<dt><strong>RFC1144</strong></dt>
<dd>
<p>Jacobson, V. <em>Compressing TCP/IP headers for low-speed serial
links.</em> February 1990.</p>
</dd>
<dt><strong>RFC1321</strong></dt>
<dd>
<p>Rivest, R. <em>The MD5 Message-Digest Algorithm.</em> April 1992.</p>
</dd>
<dt><strong>RFC1332</strong></dt>
<dd>
<p>McGregor, G. <em>PPP Internet Protocol Control Protocol (IPCP).</em>
May 1992.</p>
</dd>
<dt><strong>RFC1334</strong></dt>
<dd>
<p>Lloyd, B.; Simpson, W.A. <em>PPP authentication protocols.</em>
October 1992.</p>
</dd>
<dt><strong>RFC1661</strong></dt>
<dd>
<p>Simpson, W.A. <em>The Point-to-Point Protocol (PPP).</em> July
1994.</p>
</dd>
<dt><strong>RFC1662</strong></dt>
<dd>
<p>Simpson, W.A. <em>PPP in HDLC-like Framing.</em> July 1994.</p>
</dd>
<dt><strong>RFC1990</strong></dt>
<dd>
<p>Sklower, K.; et al., <em>The PPP Multilink Protocol (MP).</em> August
1996.</p>
</dd>
<dt><strong>RFC2284</strong></dt>
<dd>
<p>Blunk, L.; Vollbrecht, J., <em>PPP Extensible Authentication Protocol
(EAP).</em> March 1998.</p>
</dd>
<dt><strong>RFC2472</strong></dt>
<dd>
<p>Haskin, D. <em>IP Version 6 over PPP</em> December 1998.</p>
</dd>
<dt><strong>RFC2945</strong></dt>
<dd>
<p>Wu, T., <em>The SRP Authentication and Key Exchange System</em>
September 2000.</p>
</dd>
<dt><strong>draft-ietf-pppext-eap-srp-03.txt</strong></dt>
<dd>
<p>Carlson, J.; et al., <em>EAP SRP-SHA1 Authentication Protocol.</em>
July 2001.</p>
</dd>
</dl>
<h1>NOTES</h1>
<p>Some limited degree of control can be exercised over a running pppd
process by sending it a signal from the list below.</p>
<dl>
<dt><strong>SIGINT, SIGTERM</strong></dt>
<dd>
<p>These signals cause pppd to terminate the link (by closing LCP),
restore the serial device settings, and exit. If a connector or
disconnector process is currently running, pppd will send the same
signal to its process group, so as to terminate the connector or
disconnector process.</p>
</dd>
<dt><strong>SIGHUP</strong></dt>
<dd>
<p>This signal causes pppd to terminate the link, restore the serial
device settings, and close the serial device. If the <em>persist</em> or
<em>demand</em> option has been specified, pppd will try to reopen the
serial device and start another connection (after the holdoff period).
Otherwise pppd will exit. If this signal is received during the holdoff
period, it causes pppd to end the holdoff period immediately. If a
connector or disconnector process is running, pppd will send the same
signal to its process group.</p>
</dd>
<dt><strong>SIGUSR1</strong></dt>
<dd>
<p>This signal toggles the state of the <em>debug</em> option.</p>
</dd>
<dt><strong>SIGUSR2</strong></dt>
<dd>
<p>This signal causes pppd to renegotiate compression. This can be
useful to re-enable compression after it has been disabled as a result
of a fatal decompression error. (Fatal decompression errors generally
indicate a bug in one or other implementation.)</p>
</dd>
</dl>
<h1>AUTHORS</h1>
<p>Paul Mackerras (paulus@samba.org), based on earlier work by Drew
Perkins, Brad Clements, Karl Fox, Greg Christy, and Brad Parker.</p>
<h1>COPYRIGHT</h1>
<p>Pppd is copyrighted and made available under conditions which provide
that it may be copied and used in source or binary forms provided that
the conditions listed below are met. Portions of pppd are covered by the
following copyright notices:</p>
<p>Copyright (c) 1984-2000 Carnegie Mellon University. All rights
reserved.<br />
Copyright (c) 1993-2004 Paul Mackerras. All rights reserved.<br />
Copyright (c) 1995 Pedro Roque Marques. All rights reserved.<br />
Copyright (c) 1995 Eric Rosenquist. All rights reserved.<br />
Copyright (c) 1999 Tommi Komulainen. All rights reserved.<br />
Copyright (C) Andrew Tridgell 1999<br />
Copyright (c) 2000 by Sun Microsystems, Inc. All rights reserved.<br />
Copyright (c) 2001 by Sun Microsystems, Inc. All rights reserved.<br />
Copyright (c) 2002 Google, Inc. All rights reserved.</p>
<p>The copyright notices contain the following statements.</p>
<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:</p>
<p>1. Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer.</p>
<p>2. Redistributions in binary form must reproduce the above copyright
notice, this list of conditions and the following disclaimer in the
documentation and/or other materials provided with the distribution.</p>
<p>3. The name "Carnegie Mellon University" must not be used to endorse
or promote products derived from this software without prior written
permission. For permission or any legal details, please contact<br />
Office of Technology Transfer<br />
Carnegie Mellon University<br />
5000 Forbes Avenue<br />
Pittsburgh, PA 15213-3890<br />
(412) 268-4387, fax: (412) 268-7395<br />
tech-transfer@andrew.cmu.edu</p>
<p>3b. The name(s) of the authors of this software must not be used to
endorse or promote products derived from this software without prior
written permission.</p>
<p>4. Redistributions of any form whatsoever must retain the following
acknowledgements:<br />
"This product includes software developed by Computing Services at
Carnegie Mellon University (http://www.cmu.edu/computing/)."<br />
"This product includes software developed by Paul Mackerras
&lt;paulus@samba.org&gt;".<br />
"This product includes software developed by Pedro Roque Marques
&lt;pedro_m@yahoo.com&gt;".<br />
"This product includes software developed by Tommi Komulainen
&lt;Tommi.Komulainen@iki.fi&gt;".</p>
<p>CARNEGIE MELLON UNIVERSITY DISCLAIMS ALL WARRANTIES WITH REGARD TO
THIS SOFTWARE, INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS, IN NO EVENT SHALL CARNEGIE MELLON UNIVERSITY BE LIABLE FOR ANY
SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER
RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF
CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN
CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</p>
<p>THE AUTHORS OF THIS SOFTWARE DISCLAIM ALL WARRANTIES WITH REGARD TO
THIS SOFTWARE, INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS, IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY SPECIAL,
INDIRECT OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING
FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT,
NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION
WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</p>
